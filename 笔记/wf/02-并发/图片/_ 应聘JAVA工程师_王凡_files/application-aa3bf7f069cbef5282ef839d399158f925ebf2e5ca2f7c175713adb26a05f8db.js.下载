/*!
 * jQuery JavaScript Library v1.12.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:17Z
 */
function tinymceLang(){return"en"===I18n.locale?"en_CA":"zh_CN"}function removeTinymce(){tinymce.remove()}function initTinymce(){tinymce.init({selector:".tinymce",language:tinymceLang(),plugins:["autolink lists link autoresize paste table placeholder"],menubar:!1,statusbar:!1,toolbar:"undo redo | bullist numlist outdent indent | bold italic underline | link removeformat",default_link_target:"_blank",gecko_spellcheck:!0,link_assume_external_targets:!0,invalid_elements:"form,script,comment,blockquote,pre,audio",width:"100%",height:200,autoresize_min_height:200,autoresize_max_height:350,paste_as_text:!0,setup:function(t){t.on("click",function(){$(".step-bar").hide(),$(".left-panel-modal").show()}),t.on("keyup",function(){formmodified=0})},init_instance_callback:function(){"undefined"==typeof window.orientation&&-1===navigator.userAgent.indexOf("IEMobile")||(console.log("lslsl"),$(".mce-toolbar-grp").addClass("hide"))}})}function initMiniTinymce(){tinymce.init({selector:"textarea",language:tinymceLang(),plugins:["autolink lists link autoresize paste table placeholder"],menubar:!1,statusbar:!1,toolbar:"undo redo | bullist numlist outdent indent | bold italic underline | link removeformat",default_link_target:"_blank",gecko_spellcheck:!0,link_assume_external_targets:!0,invalid_elements:"form,script,comment,blockquote,pre,audio",paste_as_text:!0})}function cvEditorReloadTinymce(){removeTinymce(),initMiniTinymce()}function cvGuideReloadTinymce(){0===$("#cvs-show").length&&(removeTinymce(),initTinymce())}function setupWebViewJavascriptBridge(t){if(window.WebViewJavascriptBridge)return t(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(t);window.WVJBCallbacks=[t];var e=document.createElement("iframe");e.style.display="none",e.src="https://__bridge_loaded__",document.documentElement.appendChild(e),setTimeout(function(){document.documentElement.removeChild(e)},0)}function connectWebViewJavascriptBridge(t){window.WebViewJavascriptBridge?t(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){t(WebViewJavascriptBridge)},!1)}function initAndroidBridge(t){is_init||(is_init=!0,t.init(function(t,e){e(data)}))}function callAndroidBridge(t,e,n){connectWebViewJavascriptBridge(function(e){is_init||(is_init=!0,e.init(function(t,e){e(data)})),e.callHandler(t,{message:n},function(){})})}function callAndroidBridgeJson(t,e){connectWebViewJavascriptBridge(function(n){is_init||(is_init=!0,n.init(function(t,e){e(data)})),n.callHandler(t,e,function(){})})}function addNewStyle(t){var e=document.getElementById("styles_js");e||((e=document.createElement("style")).type="text/css",e.id="styles_js",document.getElementsByTagName("head")[0].appendChild(e)),e.appendChild(document.createTextNode(t))}function getStr(t,e){t.split(e)[0],t.split(e)[1]}function versionCompare(t,e){if(typeof t+typeof e!="stringstring")return!1;for(var n=t.split("."),i=e.split("."),o=0,r=Math.max(n.length,i.length);o<r;o++){if(n[o]&&!i[o]&&parseInt(n[o])>0||parseInt(n[o])>parseInt(i[o]))return 1;if(i[o]&&!n[o]&&parseInt(i[o])>0||parseInt(n[o])<parseInt(i[o]))return-1}return 0}function isMobileDevice(){return"undefined"!=typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}function loadWechatQr(t){if(0===t.length)throw TypeError("arguments missing");{const e=t.data("url");$.post(e).done(function(e){function n(){if(o.complete){const e=i.toDataURL("image/png");t.find("img.red-bag-logo").removeClass("hide"),t.find("img").not(".red-bag-logo").addClass("hide"),t.find(".qr-content").append("<img src="+e+" alt='qr code' width='150' height='150'>"),clearInterval(r)}}const i=new AraleQRCode({text:e.url,size:200,pdground:"#404040",imageSize:40}),o=(i.getContext("2d"),new Image);o.crossOrigin="anonymous",o.onload=function(){},o.src="https://files.wondercv.com/Icon_60@3x-min.png";const r=setInterval(n,1e3)})}}function showBindOfficalAccount(t){const e=$("#bind-wx-pub-modal");JSON.parse(e.data("offical-account-status"));setTimeout(function(){"ios"===client||isMobileDevice()||e.modal("show")},t)}function cvEditorReloadDataTime(){const t=$("#cv-lang").text(),e=$("#cv-date-format").text();$("input.time-picker").datepicker({startView:1,language:t,format:e,minViewMode:1,autoclose:!0,forceParse:!1}).on("changeDate",function(){$(this).hasClass("end-time")?($presentInput=$(this).next(),$presentInputDot=$(this).next().find(".to-date-dot-inline"),$presentInput.hide(),$presentInputDot.removeClass("active")):/_present/.test($(this).attr("id"))&&($(this).prev('[id*="end_at"]').val($(this).val()),$("#cvs-show").length>0?$(this).next().trigger("click"):$(this).parent().next(".to-date").trigger("click"))})}function submitCvEditorForm(t){$("#cvs-show").on("click",function(e){var n=$(e.target);(0===n.closest(t).length&&0===$("#mce-modal-block").length&&0===n.closest(".unfold-container").length||n.closest("#cv-check").length>0||n.closest("#cv-score").length>0)&&$(t).find('input[name="commit"]').click(),$("#one-page-line").removeClass("hide")})}function setSectionPosition(){if(($("#cvs-show").length>0||$("#cvs-share").length>0)&&$("#section-position-hash").val().length>0){var t=JSON.parse($("#section-position-hash").val());$.each(t,function(t,e){$("#"+t).data("position",e)}),$("#cv-body").append($("#cv-body").find(".resume-editor-plate").get().sort(function(t,e){return $(t).data("position")-$(e).data("position")}))}}function setOtherPosition(){if(($("#cvs-show").length>0||$("#cvs-share").length>0)&&$("#other-position-hash").val().length>0){var t=JSON.parse($("#other-position-hash").val());$.each(t,function(t,e){$("#"+t).attr("data-position",e)}),$(".other-content").each(function(){var t=$(this);t.append(t.find(".resume-editor-plate-item").get().sort(function(t,e){return $(t).data("position")-$(e).data("position")}))})}}function click_contact_primary_img(t){$(t.target).addClass("hide"),$(t.target).hasClass("primary")?($(t.target).parent().parent().find("#contact_is_primary").val("false"),$("img.unprimary").removeClass("hide")):($(t.target).parent().parent().find("#contact_is_primary").val("true"),$("img.primary").removeClass("hide"))}function hide_part_rule_content(){$(".resume-advice .resume-advice-item.not-show").each(function(){for(var t=Math.round(40*Math.random()),e="",n=0;n<t;n++)e+="*";$(this).find(".advice-item-content p span.second-hide-part").text(e)})}function downloadFile(t,e,n,i){const o={};o[n]=i,$.ajax({url:t,type:"PUT",data:o,success:function(){window.location.href=e,"ios"!=client&&$.notify(I18n.t("notify.downloading_pdf"),"success"),showBindAccountModal(6e3)}})}function getMiniProgramQRcode(t,e,n){console.log("token ====="+e),$.ajax({url:t,type:"GET",data:{file_type:n,token:e},success:function(t){$(".qr-code").attr("src","data:image/jpeg;base64,"+t.image)}})}function cvOnePage(t){$("#one-page-line").css("top",299-1.45*parseInt(t)+"mm"),addNewStyle(".right-panel-resume-editor{min-height:"+(304-1.45*parseInt(t))+"mm !important;}")}function emailSender(t,e,n){$.ajax({url:t,type:n,data:{email_to:e},beforeSend:function(){"ios"==client?setupWebViewJavascriptBridge(function(t){t.callHandler("sendingEmail",{info:"\u6b63\u5728\u53d1\u9001...\u8bf7\u8010\u5fc3\u7b49\u5f85"},function(){})}):$.notify("\u6b63\u5728\u53d1\u9001.....\u8bf7\u8010\u5fc3\u7b49\u5f85",{className:"success",autoHide:!1})},success:function(){$(".notifyjs-wrapper").remove(),$("#js-cv-download-modal").modal("hide"),"ios"==client?setupWebViewJavascriptBridge(function(t){t.callHandler("sendEmail",{info:"\u53d1\u9001\u6210\u529f\uff0c\u8bf7\u5230\u90ae\u7bb1\u4e2d\u67e5\u6536"},function(){})}):$.notify("\u53d1\u9001\u6210\u529f\uff0c\u8bf7\u5230\u90ae\u7bb1\u4e2d\u67e5\u6536","success")}})}function showUndoDeleteModal(){null==localStorage.getItem("already-delete")&&($("#cv-undo-delete-modal").modal("show"),localStorage.setItem("already-delete","yes"))}function mobileTimeStyle(){!$("#cv-content").hasClass("file-mode")&&isMobileDevice()&&$(".plate-item-tag .plate-item-tag-title").each(function(){$(this).addClass("mobile-plate-item-tag-title")})}var client,is_init;!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"!==n&&!ft.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ft.isFunction(e))return ft.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ft.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(_t.test(e))return ft.filter(e,t,n);e=ft.filter(e,t)}return ft.grep(t,function(t){return ft.inArray(t,e)>-1!==n})}function o(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function r(t){var e={};return ft.each(t.match(Dt)||[],function(t,n){e[n]=!0}),e}function a(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s)):(it.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(it.addEventListener||"load"===t.event.type||"complete"===it.readyState)&&(a(),ft.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(It,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Pt.test(n)?ft.parseJSON(n):n)}catch(o){}ft.data(t,e,n)}else n=undefined}return n}function c(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,i){if(Rt(t)){var o,r,a=ft.expando,s=t.nodeType,l=s?ft.cache:t,c=s?t[a]:t[a]&&a;if(c&&l[c]&&(i||l[c].data)||n!==undefined||"string"!=typeof e)return c||(c=s?t[a]=nt.pop()||ft.guid++:a),l[c]||(l[c]=s?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=ft.extend(l[c],e):l[c].data=ft.extend(l[c].data,e)),r=l[c],i||(r.data||(r.data={}),r=r.data),n!==undefined&&(r[ft.camelCase(e)]=n),"string"==typeof e?null==(o=r[e])&&(o=r[ft.camelCase(e)]):o=r,o}}function d(t,e,n){if(Rt(t)){var i,o,r=t.nodeType,a=r?ft.cache:t,s=r?t[ft.expando]:ft.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){o=(e=ft.isArray(e)?e.concat(ft.map(e,ft.camelCase)):e in i?[e]:(e=ft.camelCase(e))in i?[e]:e.split(" ")).length;for(;o--;)delete i[e[o]];if(n?!c(i):!ft.isEmptyObject(i))return}(n||(delete a[s].data,c(a[s])))&&(r?ft.cleanData([t],!0):dt.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function h(t,e,n,i){var o,r=1,a=20,s=i?function(){return i.cur()}:function(){return ft.css(t,e,"")},l=s(),c=n&&n[3]||(ft.cssNumber[e]?"":"px"),u=(ft.cssNumber[e]||"px"!==c&&+l)&&Ht.exec(ft.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=r=r||".5",ft.style(t,e,u+c)}while(r!==(r=s()/l)&&1!==r&&--a)}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function f(t){var e=Xt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){var n,i,o=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||ft.nodeName(i,e)?r.push(i):ft.merge(r,p(i,e));return e===undefined||e&&ft.nodeName(t,e)?ft.merge([t],r):r}function m(t,e){for(var n,i=0;null!=(n=t[i]);i++)ft._data(n,"globalEval",!e||ft._data(e[i],"globalEval"))}function g(t){Wt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,n,i,o){for(var r,a,s,l,c,u,d,h=t.length,v=f(e),y=[],b=0;b<h;b++)if((a=t[b])||0===a)if("object"===ft.type(a))ft.merge(y,a.nodeType?[a]:a);else if(Gt.test(a)){for(l=l||v.appendChild(e.createElement("div")),c=(Ut.exec(a)||["",""])[1].toLowerCase(),d=Yt[c]||Yt._default,l.innerHTML=d[1]+ft.htmlPrefilter(a)+d[2],r=d[0];r--;)l=l.lastChild;if(!dt.leadingWhitespace&&Vt.test(a)&&y.push(e.createTextNode(Vt.exec(a)[0])),!dt.tbody)for(r=(a="table"!==c||Jt.test(a)?"<table>"!==d[1]||Jt.test(a)?0:l:l.firstChild)&&a.childNodes.length;r--;)ft.nodeName(u=a.childNodes[r],"tbody")&&!u.childNodes.length&&a.removeChild(u);for(ft.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(e.createTextNode(a));for(l&&v.removeChild(l),dt.appendChecked||ft.grep(p(y,"input"),g),b=0;a=y[b++];)if(i&&ft.inArray(a,i)>-1)o&&o.push(a);else if(s=ft.contains(a.ownerDocument,a),l=p(v.appendChild(a),"script"),s&&m(l),n)for(r=0;a=l[r++];)qt.test(a.type||"")&&n.push(a);return l=null,v}function y(){return!0}function b(){return!1}function w(){try{return it.activeElement}catch(t){}}function C(t,e,n,i,o,r){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)C(t,s,n,i,e[s],r);return t}if(null==i&&null==o?(o=n,i=n=undefined):null==o&&("string"==typeof n?(o=i,i=undefined):(o=i,i=n,n=undefined)),!1===o)o=b;else if(!o)return t;return 1===r&&(a=o,(o=function(t){return ft().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,o,i,n)})}function x(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function _(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function k(t){var e=se.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){if(1===e.nodeType&&ft.hasData(t)){var n,i,o,r=ft._data(t),a=ft._data(e,r),s=r.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,o=s[n].length;i<o;i++)ft.event.add(e,n,s[n][i]);a.data&&(a.data=ft.extend({},a.data))}}function S(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[ft.expando]){for(i in(o=ft._data(e)).events)ft.removeEvent(e,i,o.handle);e.removeAttribute(ft.expando)}"script"===n&&e.text!==t.text?(_(e).text=t.text,k(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Wt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function E(t,e,n,i){e=rt.apply([],e);var o,r,a,s,l,c,u=0,d=t.length,h=d-1,f=e[0],m=ft.isFunction(f);if(m||d>1&&"string"==typeof f&&!dt.checkClone&&ae.test(f))return t.each(function(o){var r=t.eq(o);m&&(e[0]=f.call(this,o,r.html())),E(r,e,n,i)});if(d&&(o=(c=v(e,t[0].ownerDocument,!1,t,i)).firstChild,1===c.childNodes.length&&(c=o),o||i)){for(a=(s=ft.map(p(c,"script"),_)).length;u<d;u++)r=c,u!==h&&(r=ft.clone(r,!0,!0),a&&ft.merge(s,p(r,"script"))),n.call(t[u],r,u);if(a)for(l=s[s.length-1].ownerDocument,ft.map(s,k),u=0;u<a;u++)r=s[u],qt.test(r.type||"")&&!ft._data(r,"globalEval")&&ft.contains(l,r)&&(r.src?ft._evalUrl&&ft._evalUrl(r.src):ft.globalEval((r.text||r.textContent||r.innerHTML||"").replace(le,"")));c=o=null}return t}function A(t,e,n){for(var i,o=e?ft.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||ft.cleanData(p(i)),i.parentNode&&(n&&ft.contains(i.ownerDocument,i)&&m(p(i,"script")),i.parentNode.removeChild(i));return t}function $(t,e){var n=ft(e.createElement(t)).appendTo(e.body),i=ft.css(n[0],"display");return n.detach(),i}function D(t){var e=it,n=de[t];return n||("none"!==(n=$(t,e))&&n||((e=((ue=(ue||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ue[0].contentDocument).document).write(),e.close(),n=$(t,e),ue.detach()),de[t]=n),n}function N(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function R(t){if(t in Se)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Te.length;n--;)if((t=Te[n]+e)in Se)return t}function P(t,e){for(var n,i,o,r=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(r[a]=ft._data(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&zt(i)&&(r[a]=ft._data(i,"olddisplay",D(i.nodeName)))):(o=zt(i),(n&&"none"!==n||!o)&&ft._data(i,"olddisplay",o?n:ft.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function I(t,e,n){var i=xe.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function L(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=ft.css(t,n+Ft[r],!0,o)),i?("content"===n&&(a-=ft.css(t,"padding"+Ft[r],!0,o)),"margin"!==n&&(a-=ft.css(t,"border"+Ft[r]+"Width",!0,o))):(a+=ft.css(t,"padding"+Ft[r],!0,o),"padding"!==n&&(a+=ft.css(t,"border"+Ft[r]+"Width",!0,o)));return a}function O(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=ge(t),a=dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=ve(t,e,r))<0||null==o)&&(o=t.style[e]),fe.test(o))return o;i=a&&(dt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+L(t,e,n||(a?"border":"content"),i,r)+"px"}function M(t,e,n,i,o){return new M.prototype.init(t,e,n,i,o)}function B(){return t.setTimeout(function(){Ee=undefined}),Ee=ft.now()}function H(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i["margin"+(n=Ft[o])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function F(t,e,n){for(var i,o=(W.tweeners[e]||[]).concat(W.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function z(t,e,n){var i,o,r,a,s,l,c,u=this,d={},h=t.style,f=t.nodeType&&zt(t),p=ft._data(t,"fxshow");for(i in n.queue||(null==(s=ft._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,ft.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=ft.css(t,"display"))?ft._data(t,"olddisplay")||D(t.nodeName):c)&&"none"===ft.css(t,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",dt.shrinkWrapBlocks()||u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),e)if(o=e[i],$e.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||p[i]===undefined)continue;f=!0}d[i]=p&&p[i]||ft.style(t,i)}else c=undefined;if(ft.isEmptyObject(d))"inline"===("none"===c?D(t.nodeName):c)&&(h.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=ft._data(t,"fxshow",{}),r&&(p.hidden=!f),f?ft(t).show():u.done(function(){ft(t).hide()}),u.done(function(){var e;for(e in ft._removeData(t,"fxshow"),d)ft.style(t,e,d[e])}),d)a=F(f?p[i]:0,i,u),i in p||(p[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}function j(t,e){var n,i,o,r,a;for(n in t)if(o=e[i=ft.camelCase(n)],r=t[n],ft.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=ft.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}function W(t,e,n){var i,o,r=0,a=W.prefilters.length,s=ft.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Ee||B(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),r=0,a=c.tweens.length;r<a;r++)c.tweens[r].run(i);return s.notifyWith(t,[c,i,n]),i<1&&a?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},n),originalProperties:e,originalOptions:n,startTime:Ee||B(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ft.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(j(u,c.opts.specialEasing);r<a;r++)if(i=W.prefilters[r].call(c,t,u,c.opts))return ft.isFunction(i.stop)&&(ft._queueHooks(c.elem,c.opts.queue).stop=ft.proxy(i.stop,i)),i;return ft.map(u,F,c),ft.isFunction(c.opts.start)&&c.opts.start.call(t,c),ft.fx.timer(ft.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function U(t){return ft.attr(t,"class")||""}function q(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(Dt)||[];if(ft.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function V(t,e,n,i){function o(s){var l;return r[s]=!0,ft.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=t===tn;return o(e.dataTypes[0])||!r["*"]&&o("*")}function X(t,e){var n,i,o=ft.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&ft.extend(!0,t,n),t}function Y(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),o===undefined&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){r=a;break}i||(i=a)}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}function G(t,e,n,i){var o,r,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function J(t){return t.style&&t.style.display||ft.css(t,"display")}function K(t){if(!ft.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===J(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Q(t,e,n,i){var o;if(ft.isArray(e))ft.each(e,function(e,o){n||an.test(t)?i(t,o):Q(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)});else if(n||"object"!==ft.type(e))i(t,e);else for(o in e)Q(t+"["+o+"]",e[o],n,i)}function Z(){try{return new t.XMLHttpRequest}catch(e){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=t.document,ot=nt.slice,rt=nt.concat,at=nt.push,st=nt.indexOf,lt={},ct=lt.toString,ut=lt.hasOwnProperty,dt={},ht="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ht,constructor:ft,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},ft.extend=ft.fn.extend=function(){var t,e,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||ft.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(o=arguments[s]))for(i in o)t=a[i],a!==(n=o[i])&&(c&&n&&(ft.isPlainObject(n)||(e=ft.isArray(n)))?(e?(e=!1,r=t&&ft.isArray(t)?t:[]):r=t&&ft.isPlainObject(t)?t:{},a[i]=ft.extend(c,r,n)):n!==undefined&&(a[i]=n));return a},ft.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ut.call(t,"constructor")&&!ut.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!dt.ownFirst)for(e in t)return ut.call(t,e);for(e in t);return e===undefined||ut.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(e){e&&ft.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,o=0;if(n(t))for(i=t.length;o<i&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ft.merge(i,"string"==typeof t?[t]:t):at.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(st)return st.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;)t[o++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,i){var o,r,a=0,s=[];if(n(t))for(o=t.length;a<o;a++)null!=(r=e(t[a],a,i))&&s.push(r);else for(a in t)null!=(r=e(t[a],a,i))&&s.push(r);return rt.apply([],s)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ft.isFunction(t)?(n=ot.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(ot.call(arguments)))}).guid=t.guid=t.guid||ft.guid++,i):undefined},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=nt[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,n,i){var o,r,a,s,l,c,d,f,p=e&&e.ownerDocument,m=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return n;if(!i&&((e?e.ownerDocument||e:F)!==R&&N(e),e=e||R,I)){if(11!==m&&(c=vt.exec(t)))if(o=c[1]){if(9===m){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(p&&(a=p.getElementById(o))&&B(e,a)&&a.id===o)return n.push(a),n}else{if(c[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((o=c[3])&&C.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(o)),n}if(C.qsa&&!q[t+" "]&&(!L||!L.test(t))){if(1!==m)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,"\\$&"):e.setAttribute("id",s=H),r=(d=T(t)).length,l=ht.test(s)?"#"+s:"[id='"+s+"']";r--;)d[r]=l+" "+h(d[r]);f=d.join(","),p=yt.test(t)&&u(e.parentNode)||e}if(f)try{return Q.apply(n,p.querySelectorAll(f)),n}catch(g){}finally{s===H&&e.removeAttribute("id")}}}return E(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[H]=!0,t}function o(t){var e=R.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=j++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,a){var s,l,c,u=[z,r];if(a){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if((s=(l=(c=e[H]||(e[H]={}))[e.uniqueID]||(c[e.uniqueID]={}))[i])&&s[0]===z&&s[1]===r)return u[2]=s[2];if(l[i]=u,u[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var o=0,r=n.length;o<r;o++)e(t,n[o],i);return i}function g(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function v(t,e,n,o,r,a){return o&&!o[H]&&(o=v(o)),r&&!r[H]&&(r=v(r,a)),i(function(i,a,s,l){var c,u,d,h=[],f=[],p=a.length,v=i||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:g(v,h,t,s,l),b=n?r||(i?t:p||o)?[]:a:y;if(n&&n(y,b,s,l),o)for(c=g(b,f),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(y[f[u]]=d));if(i){if(r||t){if(r){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);r(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=r?tt(i,d):h[u])>-1&&(i[c]=!(a[c]=d))}}else b=g(b===a?b.splice(p,b.length):b),r?r(null,a,b,l):Q.apply(a,b)})}function y(t){for(var e,n,i,o=t.length,r=x.relative[t[0].type],a=r||x.relative[" "],s=r?1:0,l=f(function(t){return t===e},a,!0),c=f(function(t){return tt(e,t)>-1},a,!0),u=[function(t,n,i){var o=!r&&(i||n!==A)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,o}];s<o;s++)if(n=x.relative[t[s].type])u=[f(p(u),n)];else{if((n=x.filter[t[s].type].apply(null,t[s].matches))[H]){for(i=++s;i<o&&!x.relative[t[i].type];i++);return v(s>1&&p(u),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<i&&y(t.slice(s,i)),i<o&&y(t=t.slice(i)),i<o&&h(t))}u.push(n)}return p(u)}function b(t,n){var o=n.length>0,r=t.length>0,a=function(i,a,s,l,c){var u,d,h,f=0,p="0",m=i&&[],v=[],y=A,b=i||r&&x.find.TAG("*",c),w=z+=null==y?1:Math.random()||.1,C=b.length;for(c&&(A=a===R||a||c);p!==C&&null!=(u=b[p]);p++){if(r&&u){for(d=0,a||u.ownerDocument===R||(N(u),s=!I);h=t[d++];)if(h(u,a||R,s)){l.push(u);break}c&&(z=w)}o&&((u=!h&&u)&&f--,i&&m.push(u))}if(f+=p,o&&p!==f){for(d=0;h=n[d++];)h(m,v,a,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=J.call(l));v=g(v)}Q.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return c&&(z=w,A=y),m};return o?i(a):a}var w,C,x,_,k,T,S,E,A,$,D,N,R,P,I,L,O,M,B,H="sizzle"+1*new Date,F=t.document,z=0,j=0,W=n(),U=n(),q=n(),V=function(t,e){return t===e&&(D=!0),0},X=1<<31,Y={}.hasOwnProperty,G=[],J=G.pop,K=G.push,Q=G.push,Z=G.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",rt=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(rt),ht=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Ct=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){N()};try{Q.apply(G=Z.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(_t){Q={apply:G.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(w in C=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},N=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:F;return i!==R&&9===i.nodeType&&i.documentElement?(P=(R=i).documentElement,I=!k(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),C.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=o(function(t){return t.appendChild(R.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=gt.test(R.getElementsByClassName),C.getById=o(function(t){return P.appendChild(t).id=H,!R.getElementsByName||!R.getElementsByName(H).length}),C.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(wt,Ct);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(wt,Ct);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=C.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):C.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},x.find.CLASS=C.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&I)return e.getElementsByClassName(t)},O=[],L=[],(C.qsa=gt.test(R.querySelectorAll))&&(o(function(t){P.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||L.push(".#.+[+~]")}),o(function(t){var e=R.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(C.matchesSelector=gt.test(M=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(t){C.disconnectedMatch=M.call(t,"div"),M.call(t,"[s!='']:x"),O.push("!=",rt)}),L=L.length&&new RegExp(L.join("|")),O=O.length&&new RegExp(O.join("|")),e=gt.test(P.compareDocumentPosition),B=e||gt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!C.sortDetached&&e.compareDocumentPosition(t)===n?t===R||t.ownerDocument===F&&B(F,t)?-1:e===R||e.ownerDocument===F&&B(F,e)?1:$?tt($,t)-tt($,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,s=[t],l=[e];if(!o||!r)return t===R?-1:e===R?1:o?-1:r?1:$?tt($,t)-tt($,e):0;if(o===r)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===F?-1:l[i]===F?1:0},R):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&N(t),n=n.replace(ut,"='$1']"),C.matchesSelector&&I&&!q[n+" "]&&(!O||!O.test(n))&&(!L||!L.test(n)))try{var i=M.call(t,n);if(i||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(_t){}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&N(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&N(t);var n=x.attrHandle[e.toLowerCase()],i=n&&Y.call(x.attrHandle,e.toLowerCase())?n(t,e,!I):undefined;return i!==undefined?i:C.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(D=!C.detectDuplicates,$=!C.sortStable&&t.slice(0),t.sort(V),D){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return $=null,t},_=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=_(e);return n},(x=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,f,p,m=r!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(r){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(f=(c=(u=(d=(h=g)[H]||(h[H]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===z&&c[1])&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[z,f,b];break}}else if(y&&(b=f=(c=(u=(d=(h=e)[H]||(h[H]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===z&&c[1]),!1===b)for(;(h=++f&&h&&h[m]||(b=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((u=(d=h[H]||(h[H]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[z,b]),h!==e)););return(b-=o)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,n){var o,r=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[H]?r(n):r.length>1?(o=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),a=o.length;a--;)t[i=tt(t,o[a])]=!(e[i]=o[a])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=S(t.replace(st,"$1"));return o[H]?i(function(t,e,n,i){for(var r,a=o(t,null,i,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,Ct),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,Ct).toLowerCase(),function(e){var n;do{if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,T=e.tokenize=function(t,n){var i,o,r,a,s,l,c,u=U[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=x.preFilter;s;){for(a in i&&!(o=lt.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=ct.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(st," ")}),s=s.slice(i.length)),x.filter)!(o=ft[a].exec(s))||c[a]&&!(o=c[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):U(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],o=[],r=q[t+" "];if(!r){for(e||(e=T(t)),n=e.length;n--;)(r=y(e[n]))[H]?i.push(r):o.push(r);(r=q(t,b(o,i))).selector=t}return r},E=e.select=function(t,e,n,i){var o,r,a,s,l,c="function"==typeof t&&t,d=!i&&T(t=c.selector||t);if(n=n||[],1===d.length){if((r=d[0]=d[0].slice(0)).length>2&&"ID"===(a=r[0]).type&&C.getById&&9===e.nodeType&&I&&x.relative[r[1].type]){if(!(e=(x.find.ID(a.matches[0].replace(wt,Ct),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(a=r[o],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(wt,Ct),yt.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&h(r)))return Q.apply(n,i),n;break}}return(c||S(t,d))(i,e,!I,n,!e||yt.test(t)&&u(e.parentNode)||e),n},C.sortStable=H.split("").sort(V).join("")===H,C.detectDuplicates=!!D,N(),C.sortDetached=o(function(t){return 1&t.compareDocumentPosition(R.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ft.find=yt,ft.expr=yt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=yt.uniqueSort,ft.text=yt.getText,ft.isXMLDoc=yt.isXML,ft.contains=yt.contains;var bt=function(t,e,n){for(var i=[],o=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&ft(t).is(n))break;i.push(t)}return i},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Ct=ft.expr.match.needsContext,xt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,_t=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ft.find.matchesSelector(i,t)?[i]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<o;e++)if(ft.contains(i[e],this))return!0}));for(e=0;e<o;e++)ft.find(t,i[e],n);return(n=this.pushStack(o>1?ft.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&Ct.test(t)?ft(t):t||[],!1).length}});var kt,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ft.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||kt,"string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Tt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),xt.test(i[1])&&ft.isPlainObject(e))for(i in e)ft.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((o=it.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return kt.find(t);this.length=1,this[0]=o}return this.context=it,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ft):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this))}).prototype=ft.fn,kt=ft(it);var St=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,n=ft(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(ft.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=Ct.test(t)||"string"!=typeof t?ft(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ft.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?ft.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(n,i){var o=ft.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ft.filter(i,o)),this.length>1&&(Et[t]||(o=ft.uniqueSort(o)),St.test(t)&&(o=o.reverse())),this.pushStack(o)}});var At,$t,Dt=/\S+/g;for($t in ft.Callbacks=function(t){t="string"==typeof t?r(t):ft.extend({},t);var e,n,i,o,a=[],s=[],l=-1,c=function(){for(o=t.once,i=e=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)!1===a[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=a.length,n=!1);t.memory||(n=!1),e=!1,o&&(a=n?[]:"")},u={add:function(){return a&&(n&&!e&&(l=a.length-1,s.push(n)),function i(e){ft.each(e,function(e,n){ft.isFunction(n)?t.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==ft.type(n)&&i(n)})}(arguments),n&&!e&&c()),this},remove:function(){return ft.each(arguments,function(t,e){for(var n;(n=ft.inArray(e,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(t){return t?ft.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=!0,n||u.disable(),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},ft.extend({Deferred:function(t){var e=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ft.Deferred(function(n){ft.each(e,function(e,r){var a=ft.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ft.extend(t,i):i}},o={};return i.pipe=i.then,ft.each(e,function(t,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=ot.call(arguments),a=r.length,s=1!==a||t&&ft.isFunction(t.promise)?a:0,l=1===s?t:ft.Deferred(),c=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?ot.call(arguments):o,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);o<a;o++)r[o]&&ft.isFunction(r[o].promise)?r[o].promise().progress(c(o,n,e)).done(c(o,i,r)).fail(l.reject):--s;return s||l.resolveWith(i,r),l.promise()}}),ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(!0===t?--ft.readyWait:ft.isReady)||(ft.isReady=!0,!0!==t&&--ft.readyWait>0||(At.resolveWith(it,[ft]),ft.fn.triggerHandler&&(ft(it).triggerHandler("ready"),ft(it).off("ready"))))}}),ft.ready.promise=function(e){if(!At)if(At=ft.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)t.setTimeout(ft.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s);else{it.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&it.documentElement}catch(i){}n&&n.doScroll&&function e(){if(!ft.isReady){try{n.doScroll("left")}catch(i){return t.setTimeout(e,50)}a(),ft.ready()}}()}return At.promise(e)},ft.ready.promise(),ft(dt))break;dt.ownFirst="0"===$t,dt.inlineBlockNeedsLayout=!1,ft(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(e){dt.deleteExpando=!1}t=null}();var Nt,Rt=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando])&&!c(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),ft.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(t===undefined){if(this.length&&(o=ft.data(r),1===r.nodeType&&!ft._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&l(r,i=ft.camelCase(i.slice(5)),o[i]);ft._data(r,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ft.data(this,t)}):arguments.length>1?this.each(function(){ft.data(this,t,e)}):r?l(r,t,ft.data(r,t)):undefined},removeData:function(t){return this.each(function(){ft.removeData(this,t)})}}),ft.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ft._data(t,e),n&&(!i||ft.isArray(n)?i=ft._data(t,e,ft.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),i=n.length,o=n.shift(),r=ft._queueHooks(t,e),a=function(){ft.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ft._data(t,n)||ft._data(t,n,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(t,e+"queue"),ft._removeData(t,n)})})}}),ft.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ft.queue(this[0],t):e===undefined?this:this.each(function(){var n=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=ft.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=ft._data(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}}),dt.shrinkWrapBlocks=function(){return null!=Nt?Nt:(Nt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",Nt=3!==t.offsetWidth),e.removeChild(n),Nt):void 0);var t,e,n};var Lt,Ot,Mt,Bt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ht=new RegExp("^(?:([+-])=|)("+Bt+")([a-z%]*)$","i"),Ft=["Top","Right","Bottom","Left"],zt=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},jt=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===ft.type(n))for(s in o=!0,n)jt(t,e,s,n[s],!0,r,a);else if(i!==undefined&&(o=!0,ft.isFunction(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(ft(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r},Wt=/^(?:checkbox|radio)$/i,Ut=/<([\w:-]+)/,qt=/^$|\/(?:java|ecma)script/i,Vt=/^\s+/,Xt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Lt=it.createElement("div"),Ot=it.createDocumentFragment(),Mt=it.createElement("input"),Lt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===Lt.firstChild.nodeType,dt.tbody=!Lt.getElementsByTagName("tbody").length,dt.htmlSerialize=!!Lt.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,Mt.type="checkbox",Mt.checked=!0,Ot.appendChild(Mt),dt.appendChecked=Mt.checked,Lt.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!Lt.cloneNode(!0).lastChild.defaultValue,Ot.appendChild(Lt),(Mt=it.createElement("input")).setAttribute("type","radio"),Mt.setAttribute("checked","checked"),Mt.setAttribute("name","t"),Lt.appendChild(Mt),dt.checkClone=Lt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!Lt.addEventListener,Lt[ft.expando]=1,dt.attributes=!Lt.getAttribute(ft.expando);var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Gt=/<|&#?\w+;/,Jt=/<tbody/i;!function(){var e,n,i=it.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(dt[e]=n in t)||(i.setAttribute(n,"t"),dt[e]=!1===i.attributes[n].expando);i=null}();var Kt=/^(?:input|select|textarea)$/i,Qt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,f,p,m,g=ft._data(t);if(g){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=ft.guid++),(a=g.events)||(a=g.events={}),(u=g.handle)||((u=g.handle=function(t){return void 0===ft||t&&ft.event.triggered===t.type?undefined:ft.event.dispatch.apply(u.elem,arguments)}).elem=t),s=(e=(e||"").match(Dt)||[""]).length;s--;)f=m=(r=ee.exec(e[s])||[])[1],p=(r[2]||"").split(".").sort(),f&&(c=ft.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=ft.event.special[f]||{},d=ft.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:o,
needsContext:o&&ft.expr.match.needsContext.test(o),namespace:p.join(".")},l),(h=a[f])||((h=a[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,u)||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),ft.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,f,p,m,g=ft.hasData(t)&&ft._data(t);if(g&&(u=g.events)){for(c=(e=(e||"").match(Dt)||[""]).length;c--;)if(f=m=(s=ee.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=ft.event.special[f]||{},h=u[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(t,a));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,g.handle)||ft.removeEvent(t,f,g.handle),delete u[f])}else for(f in u)ft.event.remove(t,f+e[c],n,i,!0);ft.isEmptyObject(u)&&(delete g.handle,ft._removeData(t,"events"))}},trigger:function(e,n,i,o){var r,a,s,l,c,u,d,h=[i||it],f=ut.call(e,"type")?e.type:e,p=ut.call(e,"namespace")?e.namespace.split("."):[];if(s=u=i=i||it,3!==i.nodeType&&8!==i.nodeType&&!te.test(f+ft.event.triggered)&&(f.indexOf(".")>-1&&(f=(p=f.split(".")).shift(),p.sort()),a=f.indexOf(":")<0&&"on"+f,(e=e[ft.expando]?e:new ft.Event(f,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=i),n=null==n?[e]:ft.makeArray(n,[e]),c=ft.event.special[f]||{},o||!c.trigger||!1!==c.trigger.apply(i,n))){if(!o&&!c.noBubble&&!ft.isWindow(i)){for(l=c.delegateType||f,te.test(l+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;u===(i.ownerDocument||it)&&h.push(u.defaultView||u.parentWindow||t)}for(d=0;(s=h[d++])&&!e.isPropagationStopped();)e.type=d>1?l:c.bindType||f,(r=(ft._data(s,"events")||{})[e.type]&&ft._data(s,"handle"))&&r.apply(s,n),(r=a&&s[a])&&r.apply&&Rt(s)&&(e.result=r.apply(s,n),!1===e.result&&e.preventDefault());if(e.type=f,!o&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(h.pop(),n))&&Rt(i)&&a&&i[f]&&!ft.isWindow(i)){(u=i[a])&&(i[a]=null),ft.event.triggered=f;try{i[f]()}catch(m){}ft.event.triggered=undefined,u&&(i[a]=u)}return e.result}},dispatch:function(t){t=ft.event.fix(t);var e,n,i,o,r,a=[],s=ot.call(arguments),l=(ft._data(this,"events")||{})[t.type]||[],c=ft.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(a=ft.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,(i=((ft.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)i[o=(r=e[n]).selector+" "]===undefined&&(i[o]=r.needsContext?ft(o,this).index(l)>-1:ft.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[ft.expando])return t;var e,n,i,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Zt.test(o)?this.mouseHooks:Qt.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new ft.Event(r),e=i.length;e--;)t[n=i[e]]=r[n];return t.target||(t.target=r.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||r===undefined||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},ft.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},ft.Event=function(t,e){if(!(this instanceof ft.Event))return new ft.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?y:b):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),this[ft.expando]=!0},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===i||ft.contains(i,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),dt.submit||(ft.event.special.submit={setup:function(){if(ft.nodeName(this,"form"))return!1;ft.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):undefined;n&&!ft._data(n,"submit")&&(ft.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ft._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ft.nodeName(this,"form"))return!1;ft.event.remove(this,"._submit")}}),dt.change||(ft.event.special.change={setup:function(){if(Kt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)})),!1;ft.event.add(this,"beforeactivate._change",function(t){var e=t.target;Kt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)}),ft._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ft.event.remove(this,"._change"),!Kt.test(this.nodeName)}}),dt.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=ft._data(i,e);o||i.addEventListener(t,n,!0),ft._data(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ft._data(i,e)-1;o?ft._data(i,e,o):(i.removeEventListener(t,n,!0),ft._removeData(i,e))}}}),ft.fn.extend({on:function(t,e,n,i){return C(this,t,e,n,i)},one:function(t,e,n,i){return C(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ft(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=b),this.each(function(){ft.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ft.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+Xt+")[\\s/>]","i"),oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,re=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=f(it).appendChild(it.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,n){var i,o,r,a,s,l=ft.contains(t.ownerDocument,t);if(dt.html5Clone||ft.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(ce.innerHTML=t.outerHTML,ce.removeChild(r=ce.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(i=p(r),s=p(t),a=0;null!=(o=s[a]);++a)i[a]&&S(o,i[a]);if(e)if(n)for(s=s||p(t),i=i||p(r),a=0;null!=(o=s[a]);a++)T(o,i[a]);else T(t,r);return(i=p(r,"script")).length>0&&m(i,!l&&p(t,"script")),i=s=o=null,r},cleanData:function(t,e){for(var n,i,o,r,a=0,s=ft.expando,l=ft.cache,c=dt.attributes,u=ft.event.special;null!=(n=t[a]);a++)if((e||Rt(n))&&(r=(o=n[s])&&l[o])){if(r.events)for(i in r.events)u[i]?ft.event.remove(n,i):ft.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),nt.push(o))}}}),ft.fn.extend({domManip:E,detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return jt(this,function(t){return t===undefined?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,t).appendChild(t)})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return jt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!re.test(t)&&(dt.htmlSerialize||!ie.test(t))&&(dt.leadingWhitespace||!Vt.test(t))&&!Yt[(Ut.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(ft.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return E(this,arguments,function(e){var n=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(p(this)),n&&n.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var n,i=0,o=[],r=ft(t),a=r.length-1;i<=a;i++)n=i===a?this:this.clone(!0),ft(r[i])[e](n),at.apply(o,n.get());return this.pushStack(o)}});var ue,de={HTML:"block",BODY:"block"},he=/^margin/,fe=new RegExp("^("+Bt+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=a[r];return o},me=it.documentElement;!function(){function e(){var e,u,d=it.documentElement;d.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=o=s=!1,i=a=!0,t.getComputedStyle&&(u=t.getComputedStyle(c),n="1%"!==(u||{}).top,s="2px"===(u||{}).marginLeft,o="4px"===(u||{width:"4px"}).width,c.style.marginRight="50%",i="4px"===(u||{marginRight:"4px"}).marginRight,(e=c.appendChild(it.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",c.style.width="1px",a=!parseFloat((t.getComputedStyle(e)||{}).marginRight),c.removeChild(e)),c.style.display="none",(r=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(e=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),d.removeChild(l)}var n,i,o,r,a,s,l=it.createElement("div"),c=it.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===c.style.opacity,dt.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===c.style.backgroundClip,(l=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),dt.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,ft.extend(dt,{reliableHiddenOffsets:function(){return null==n&&e(),r},boxSizingReliable:function(){return null==n&&e(),o},pixelMarginRight:function(){return null==n&&e(),i},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),a},reliableMarginLeft:function(){return null==n&&e(),s}}))}();var ge,ve,ye=/^(top|right|bottom|left)$/;t.getComputedStyle?(ge=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},ve=function(t,e,n){var i,o,r,a,s=t.style;return""!==(a=(n=n||ge(t))?n.getPropertyValue(e)||n[e]:undefined)&&a!==undefined||ft.contains(t.ownerDocument,t)||(a=ft.style(t,e)),n&&!dt.pixelMarginRight()&&fe.test(a)&&he.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r),a===undefined?a:a+""}):me.currentStyle&&(ge=function(t){return t.currentStyle},ve=function(t,e,n){var i,o,r,a,s=t.style;return null==(a=(n=n||ge(t))?n[e]:undefined)&&s&&s[e]&&(a=s[e]),fe.test(a)&&!ye.test(e)&&(i=s.left,(r=(o=t.runtimeStyle)&&o.left)&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,r&&(o.left=r)),a===undefined?a:a+""||"auto"});var be=/alpha\([^)]*\)/i,we=/opacity\s*=\s*([^)]*)/i,Ce=/^(none|table(?!-c[ea]).+)/,xe=new RegExp("^("+Bt+")(.*)$","i"),_e={position:"absolute",visibility:"hidden",display:"block"},ke={letterSpacing:"0",fontWeight:"400"},Te=["Webkit","O","Moz","ms"],Se=it.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=ft.camelCase(e),l=t.style;if(e=ft.cssProps[s]||(ft.cssProps[s]=R(s)||s),a=ft.cssHooks[e]||ft.cssHooks[s],n===undefined)return a&&"get"in a&&(o=a.get(t,!1,i))!==undefined?o:l[e];if("string"===(r=typeof n)&&(o=Ht.exec(n))&&o[1]&&(n=h(t,e,o),r="number"),null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(ft.cssNumber[s]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&(n=a.set(t,n,i))===undefined)))try{l[e]=n}catch(c){}}},css:function(t,e,n,i){var o,r,a,s=ft.camelCase(e);return e=ft.cssProps[s]||(ft.cssProps[s]=R(s)||s),(a=ft.cssHooks[e]||ft.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),r===undefined&&(r=ve(t,e,i)),"normal"===r&&e in ke&&(r=ke[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,n,i){if(n)return Ce.test(ft.css(t,"display"))&&0===t.offsetWidth?pe(t,_e,function(){return O(t,e,i)}):O(t,e,i)},set:function(t,n,i){var o=i&&ge(t);return I(t,n,i?L(t,e,i,dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,o),o):0)}}}),dt.opacity||(ft.cssHooks.opacity={get:function(t,e){return we.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ft.trim(r.replace(be,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=be.test(r)?r.replace(be,o):r+" "+o)}}),ft.cssHooks.marginRight=N(dt.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},ve,[t,"marginRight"])}),ft.cssHooks.marginLeft=N(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+Ft[i]+e]=r[i]||r[i-2]||r[0];return o}},he.test(t)||(ft.cssHooks[t+e].set=I)}),ft.fn.extend({css:function(t,e){return jt(this,function(t,e,n){var i,o,r={},a=0;if(ft.isArray(e)){for(i=ge(t),o=e.length;a<o;a++)r[e[a]]=ft.css(t,e[a],!1,i);return r}return n!==undefined?ft.style(t,e,n):ft.css(t,e)},t,e,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){zt(this)?ft(this).show():ft(this).hide()})}}),ft.Tween=M,M.prototype={constructor:M,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ft.cssNumber[n]?"":"px")},cur:function(){var t=M.propHooks[this.prop];return t&&t.get?t.get(this):M.propHooks._default.get(this)},run:function(t){var e,n=M.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=M.prototype.init,ft.fx.step={};var Ee,Ae,$e=/^(?:toggle|show|hide)$/,De=/queueHooks$/;ft.Animation=ft.extend(W,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return h(n.elem,t,Ht.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(Dt);for(var n,i=0,o=t.length;i<o;i++)n=t[i],W.tweeners[n]=W.tweeners[n]||[],W.tweeners[n].unshift(e)},prefilters:[z],prefilter:function(t,e){e?W.prefilters.unshift(t):W.prefilters.push(t)}}),ft.speed=function(t,e,n){var i=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return i.duration=ft.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ft.fx.speeds?ft.fx.speeds[i.duration]:ft.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ft.isFunction(i.old)&&i.old.call(this),i.queue&&ft.dequeue(this,i.queue)},i},ft.fn.extend({fadeTo:function(t,e,n,i){return this.filter(zt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=ft.isEmptyObject(t),r=ft.speed(e,n,i),a=function(){var e=W(this,ft.extend({},t),r);(o||ft._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=ft.timers,a=ft._data(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&De.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||ft.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=ft._data(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=ft.timers,a=i?i.length:0;for(n.finish=!0,ft.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var n=ft.fn[e];ft.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(H(e,!0),t,i,o)}}),ft.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,n=0;for(Ee=ft.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ft.fx.stop(),Ee=undefined},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){Ae||(Ae=t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.clearInterval(Ae),Ae=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,n){return e=ft.fx&&ft.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}})},function(){var t,e=it.createElement("input"),n=it.createElement("div"),i=it.createElement("select"),o=i.appendChild(it.createElement("option"));(n=it.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),(t=n.getElementsByTagName("a")[0]).style.cssText="top:1px",dt.getSetAttribute="t"!==n.className,dt.style=/top/.test(t.getAttribute("style")),dt.hrefNormalized="/a"===t.getAttribute("href"),dt.checkOn=!!e.value,dt.optSelected=o.selected,dt.enctype=!!it.createElement("form").enctype,i.disabled=!0,dt.optDisabled=!o.disabled,(e=it.createElement("input")).setAttribute("value",""),dt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),dt.radioValue="t"===e.value}();var Ne=/\r/g,Re=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=ft.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,ft(this).val()):t)?o="":"number"==typeof o?o+="":ft.isArray(o)&&(o=ft.map(o,function(t){return null==t?"":t+""})),(e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,o,"value")!==undefined||(this.value=o))})):o?(e=ft.valHooks[o.type]||ft.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&(n=e.get(o,"value"))!==undefined?n:"string"==typeof(n=o.value)?n.replace(Ne,""):null==n?"":n:void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(Re," ")}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,a=r?null:[],s=r?o+1:i.length,l=o<0?s:r?o:0;l<s;l++)if(((n=i[l]).selected||l===o)&&(dt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=ft.makeArray(e),a=o.length;a--;)if(i=o[a],ft.inArray(ft.valHooks.option.get(i),r)>-1)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=ft.inArray(ft(t).val(),e)>-1}},dt.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Pe,Ie,Le=ft.expr.attrHandle,Oe=/^(?:checked|selected)$/i,Me=dt.getSetAttribute,Be=dt.input;ft.fn.extend({attr:function(t,e){return jt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?ft.prop(t,e,n):(1===r&&ft.isXMLDoc(t)||(e=e.toLowerCase(),o=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?Ie:Pe)),n!==undefined?null===n?void ft.removeAttr(t,e):o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=ft.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(Dt);if(r&&1===t.nodeType)for(;n=r[o++];)i=ft.propFix[n]||n,ft.expr.match.bool.test(n)?Be&&Me||!Oe.test(n)?t[i]=!1:t[ft.camelCase("default-"+n)]=t[i]=!1:ft.attr(t,n,""),t.removeAttribute(Me?n:i)}}),Ie={set:function(t,e,n){return!1===e?ft.removeAttr(t,n):Be&&Me||!Oe.test(n)?t.setAttribute(!Me&&ft.propFix[n]||n,n):t[ft.camelCase("default-"+n)]=t[n]=!0,n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Le[e]||ft.find.attr;Be&&Me||!Oe.test(e)?Le[e]=function(t,e,i){var o,r;return i||(r=Le[e],Le[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,Le[e]=r),o}:Le[e]=function(t,e,n){if(!n)return t[ft.camelCase("default-"+e)]?e.toLowerCase():null}}),Be&&Me||(ft.attrHooks.value={set:function(t,e,n){if(!ft.nodeName(t,"input"))return Pe&&Pe.set(t,e,n);t.defaultValue=e}}),Me||(Pe={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},Le.id=Le.name=Le.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ft.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Pe.set},ft.attrHooks.contenteditable={set:function(t,e,n){Pe.set(t,""!==e&&e,n)}},ft.each(["width","height"],function(t,e){ft.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),dt.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var He=/^(?:input|select|textarea|button|object)$/i,Fe=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return jt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ft.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(e){}})}}),ft.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,o=ft.propHooks[e]),n!==undefined?o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):He.test(t.nodeName)||Fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||ft.each(["href","src"],function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),dt.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),dt.enctype||(ft.propFix.enctype="encoding");var ze=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,n,i,o,r,a,s,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,U(this)))});if("string"==typeof t&&t)for(e=t.match(Dt)||[];n=this[l++];)if(o=U(n),i=1===n.nodeType&&(" "+o+" ").replace(ze," ")){for(a=0;r=e[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(s=ft.trim(i))&&ft.attr(n,"class",s)}return this},removeClass:function(t){var e,n,i,o,r,a,s,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Dt)||[];n=this[l++];)if(o=U(n),i=1===n.nodeType&&(" "+o+" ").replace(ze," ")){for(a=0;r=e[a++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(s=ft.trim(i))&&ft.attr(n,"class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(n){ft(this).toggleClass(t.call(this,n,U(this),e),e)}):this.each(function(){var e,i,o,r;if("string"===n)for(i=0,o=ft(this),r=t.match(Dt)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else t!==undefined&&"boolean"!==n||((e=U(this))&&ft._data(this,"__className__",e),ft.attr(this,"class",e||!1===t?"":ft._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+U(n)+" ").replace(ze," ").indexOf(e)>-1)return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var je=t.location,We=ft.now(),Ue=/\?/,qe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,o=ft.trim(e+"");return o&&!ft.trim(o.replace(qe,function(t,e,o,r){return n&&e&&(i=0),0===i?t:(n=o||e,i+=!r-!o,"")}))?Function("return "+o)():ft.error("Invalid JSON: "+e)},ft.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?n=(new t.DOMParser).parseFromString(e,"text/xml"):((n=new t.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(e))}catch(i){n=undefined}
return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),n};var Ve=/#.*$/,Xe=/([?&])_=[^&]*/,Ye=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ge=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Je=/^(?:GET|HEAD)$/,Ke=/^\/\//,Qe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ze={},tn={},en="*/".concat("*"),nn=je.href,on=Qe.exec(nn.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:nn,type:"GET",isLocal:Ge.test(on[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":en,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,ft.ajaxSettings),e):X(ft.ajaxSettings,t)},ajaxPrefilter:q(Ze),ajaxTransport:q(tn),ajax:function(e,n){function i(e,n,i,o){var r,d,y,b,C,_=n;2!==w&&(w=2,l&&t.clearTimeout(l),u=undefined,s=o||"",x.readyState=e>0?4:0,r=e>=200&&e<300||304===e,i&&(b=Y(h,x,i)),b=G(h,b,x,r),r?(h.ifModified&&((C=x.getResponseHeader("Last-Modified"))&&(ft.lastModified[a]=C),(C=x.getResponseHeader("etag"))&&(ft.etag[a]=C)),204===e||"HEAD"===h.type?_="nocontent":304===e?_="notmodified":(_=b.state,d=b.data,r=!(y=b.error))):(y=_,!e&&_||(_="error",e<0&&(e=0))),x.status=e,x.statusText=(n||_)+"",r?m.resolveWith(f,[d,_,x]):m.rejectWith(f,[x,_,y]),x.statusCode(v),v=undefined,c&&p.trigger(r?"ajaxSuccess":"ajaxError",[x,h,r?d:y]),g.fireWith(f,[x,_]),c&&(p.trigger("ajaxComplete",[x,h]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=undefined),n=n||{};var o,r,a,s,l,c,u,d,h=ft.ajaxSetup({},n),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?ft(f):ft.event,m=ft.Deferred(),g=ft.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,C="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!d)for(d={};e=Ye.exec(s);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||C;return u&&u.abort(e),i(0,e),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||nn)+"").replace(Ve,"").replace(Ke,on[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=ft.trim(h.dataType||"*").toLowerCase().match(Dt)||[""],null==h.crossDomain&&(o=Qe.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===on[1]&&o[2]===on[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(on[3]||("http:"===on[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ft.param(h.data,h.traditional)),V(Ze,h,n,x),2===w)return x;for(r in(c=ft.event&&h.global)&&0==ft.active++&&ft.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Je.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(Ue.test(a)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Xe.test(a)?a.replace(Xe,"$1_="+We++):a+(Ue.test(a)?"&":"?")+"_="+We++)),h.ifModified&&(ft.lastModified[a]&&x.setRequestHeader("If-Modified-Since",ft.lastModified[a]),ft.etag[a]&&x.setRequestHeader("If-None-Match",ft.etag[a])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+en+"; q=0.01":""):h.accepts["*"]),h.headers)x.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(!1===h.beforeSend.call(f,x,h)||2===w))return x.abort();for(r in C="abort",{success:1,error:1,complete:1})x[r](h[r]);if(u=V(tn,h,n,x)){if(x.readyState=1,c&&p.trigger("ajaxSend",[x,h]),2===w)return x;h.async&&h.timeout>0&&(l=t.setTimeout(function(){x.abort("timeout")},h.timeout));try{w=1,u.send(y,i)}catch(_){if(!(w<2))throw _;i(-1,_)}}else i(-1,"No Transport");return x},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,undefined,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,n,i,o){return ft.isFunction(n)&&(o=o||i,i=n,n=undefined),ft.ajax(ft.extend({url:t,type:e,dataType:o,data:n,success:i},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ft.fn.extend({wrapAll:function(t){if(ft.isFunction(t))return this.each(function(e){ft(this).wrapAll(t.call(this,e))});if(this[0]){var e=ft(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(n){ft(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:K(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var rn=/%20/g,an=/\[\]$/,sn=/\r?\n/g,ln=/^(?:submit|button|image|reset|file)$/i,cn=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,i=[],o=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){o(this.name,this.value)});else for(n in t)Q(n,t[n],e,o);return i.join("&").replace(rn,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&cn.test(this.nodeName)&&!ln.test(t)&&(this.checked||!Wt.test(t))}).map(function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,function(t){return{name:e.name,value:t.replace(sn,"\r\n")}}):{name:e.name,value:n.replace(sn,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=t.ActiveXObject!==undefined?function(){return this.isLocal?tt():it.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||tt()}:Z;var un=0,dn={},hn=ft.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in dn)dn[t](undefined,!0)}),dt.cors=!!hn&&"withCredentials"in hn,(hn=dt.ajax=!!hn)&&ft.ajaxTransport(function(e){var n;if(!e.crossDomain||dt.cors)return{send:function(i,o){var r,a=e.xhr(),s=++un;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)i[r]!==undefined&&a.setRequestHeader(r,i[r]+"");a.send(e.hasContent&&e.data||null),n=function(t,i){var r,l,c;if(n&&(i||4===a.readyState))if(delete dn[s],n=undefined,a.onreadystatechange=ft.noop,i)4!==a.readyState&&a.abort();else{c={},r=a.status,"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(u){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=c.text?200:404}c&&o(r,l,c,a.getAllResponseHeaders())},e.async?4===a.readyState?t.setTimeout(n):a.onreadystatechange=dn[s]=n:n()},abort:function(){n&&n(undefined,!0)}}}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=it.head||ft("head")[0]||it.documentElement;return{send:function(i,o){(e=it.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||o(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(undefined,!0)}}}});var fn=[],pn=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=fn.pop()||ft.expando+"_"+We++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,a,s=!1!==e.jsonp&&(pn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&pn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(pn,"$1"+o):!1!==e.jsonp&&(e.url+=(Ue.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||ft.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},i.always(function(){r===undefined?ft(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,fn.push(o)),a&&ft.isFunction(r)&&r(a[0]),a=r=undefined}),"script"}),ft.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=xt.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=v([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],i.childNodes))};var mn=ft.fn.load;ft.fn.load=function(t,e,n){if("string"!=typeof t&&mn)return mn.apply(this,arguments);var i,o,r,a=this,s=t.indexOf(" ");return s>-1&&(i=ft.trim(t.slice(s,t.length)),t=t.slice(0,s)),ft.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(o="POST"),a.length>0&&ft.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?ft("<div>").append(ft.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.filters.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c=ft.css(t,"position"),u=ft(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),r=ft.css(t,"top"),l=ft.css(t,"left"),("absolute"===c||"fixed"===c)&&ft.inArray("auto",[r,l])>-1?(a=(i=u.position()).top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):u.css(d)}},ft.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(e=r.documentElement,ft.contains(e,o)?("undefined"!=typeof o.getBoundingClientRect&&(i=o.getBoundingClientRect()),n=et(r),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ft.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n.top+=ft.css(t[0],"borderTopWidth",!0),n.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ft.css(i,"marginTop",!0),left:e.left-n.left-ft.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||me})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);ft.fn[t]=function(i){return jt(this,function(t,i,o){var r=et(t);if(o===undefined)return r?e in r?r[e]:r.document.documentElement[i]:t[i];r?r.scrollTo(n?ft(r).scrollLeft():o,n?o:ft(r).scrollTop()):t[i]=o},t,i,arguments.length,null)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=N(dt.pixelPosition,function(t,n){if(n)return n=ve(t,e),fe.test(n)?ft(t).position()[e]+"px":n})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ft.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return jt(this,function(e,n,i){var o;return ft.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):i===undefined?ft.css(e,n,a):ft.style(e,n,i,a)},e,r?i:undefined,r,null)}})}),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var gn=t.jQuery,vn=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=vn),e&&t.jQuery===ft&&(t.jQuery=gn),ft},e||(t.jQuery=t.$=ft),ft}),function(t,e){"use strict";var n;t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var o=t.Event(n);return e.trigger(o,i),!1!==o.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(i){var o,r,a,s,l,c;if(n.fire(i,"ajax:before")){if(s=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.data("ujs:submit-button-formmethod")||i.attr("method"),r=i.data("ujs:submit-button-formaction")||i.attr("action"),a=t(i[0]).serializeArray();var u=i.data("ujs:submit-button");u&&(a.push(u),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(o=i.data("method"),r=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",r=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(o=i.data("method"),r=n.href(i),a=i.data("params")||null);return c={type:o||"GET",data:a,dataType:l,beforeSend:function(t,o){if(o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!n.fire(i,"ajax:beforeSend",[t,o]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(r)},s&&(c.xhrFields={withCredentials:s}),r&&(c.url=r),n.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var o=n.href(i),r=i.data("method"),a=i.attr("target"),s=n.csrfToken(),l=n.csrfParam(),c=t('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l===e||s===e||n.isCrossDomain(o)||(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",(i=t.data("disable-with"))!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),o=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{o=n.confirm(i)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=n.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,n,i){var o,r,a,s=t(),l=n||"input,textarea",c=e.find(l),u={};return c.each(function(){(o=t(this)).is("input[type=radio]")?(a=o.attr("name"),u[a]||(0===e.find('input[type=radio]:checked[name="'+a+'"]').length&&(r=e.find('input[type=radio][name="'+a+'"]'),s=s.add(r)),u[a]=a)):(o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===i&&(s=s.add(o))}),!!s.length&&s},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),i.on("click.rails",n.linkClickSelector,function(e){var i=t(this),o=i.data("method"),r=i.data("params"),a=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!a&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(a&&(!o||"GET"===o)&&!r)return!0;var s=n.handleRemote(i);return!1===s?n.enableElement(i):s.fail(function(){n.enableElement(i)}),!1}return o?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var o=n.handleRemote(i);return!1===o?n.enableFormElement(i):o.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.on("submit.rails",n.formSubmitSelector,function(i){var o,r,a=t(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(i);if(a.attr("novalidate")===e)if(a.data("ujs:formnovalidate-button")===e){if((o=n.blankInputs(a,n.requiredInputSelector,!1))&&n.fire(a,"ajax:aborted:required",[o]))return n.stopEverything(i)}else a.data("ujs:formnovalidate-button",e);if(s){if(r=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[r]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.on("click.rails",n.formInputClickSelector,function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),r=o?{name:o,value:i.val()}:null,a=i.closest("form");0===a.length&&(a=t("#"+i.attr("form"))),a.data("ujs:submit-button",r),a.data("ujs:formnovalidate-button",i.attr("formnovalidate")),a.data("ujs:submit-button-formaction",i.attr("formaction")),a.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"}),
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return function(){function e(t,e,n){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var o,r=Math.max,a=Math.abs,s=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,d=/%$/,h=t.fn.position;t.position={scrollbarWidth:function(){if(o!==undefined)return o;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=i.children()[0];return t("body").append(i),e=r.offsetWidth,i.css("overflow","scroll"),e===(n=r.offsetWidth)&&(n=i[0].clientWidth),i.remove(),o=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:!i&&!o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return h.apply(this,arguments);o=t.extend({},o);var d,f,p,m,g,v,y=t(o.of),b=t.position.getWithinInfo(o.within),w=t.position.getScrollInfo(b),C=(o.collision||"flip").split(" "),x={};return v=i(y),y[0].preventDefault&&(o.at="left top"),f=v.width,p=v.height,m=v.offset,g=t.extend({},m),t.each(["my","at"],function(){var t,e,n=(o[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",t=c.exec(n[0]),e=c.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],o[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===o.at[0]?g.left+=f:"center"===o.at[0]&&(g.left+=f/2),"bottom"===o.at[1]?g.top+=p:"center"===o.at[1]&&(g.top+=p/2),d=e(x.at,f,p),g.left+=d[0],g.top+=d[1],this.each(function(){var i,s,l=t(this),c=l.outerWidth(),u=l.outerHeight(),h=n(this,"marginLeft"),v=n(this,"marginTop"),_=c+h+n(this,"marginRight")+w.width,k=u+v+n(this,"marginBottom")+w.height,T=t.extend({},g),S=e(x.my,l.outerWidth(),l.outerHeight());"right"===o.my[0]?T.left-=c:"center"===o.my[0]&&(T.left-=c/2),"bottom"===o.my[1]?T.top-=u:"center"===o.my[1]&&(T.top-=u/2),T.left+=S[0],T.top+=S[1],i={marginLeft:h,marginTop:v},t.each(["left","top"],function(e,n){t.ui.position[C[e]]&&t.ui.position[C[e]][n](T,{targetWidth:f,targetHeight:p,elemWidth:c,elemHeight:u,collisionPosition:i,collisionWidth:_,collisionHeight:k,offset:[d[0]+S[0],d[1]+S[1]],my:o.my,at:o.at,within:b,elem:l})}),o.using&&(s=function(t){var e=m.left-T.left,n=e+f-c,i=m.top-T.top,s=i+p-u,d={target:{element:y,left:m.left,top:m.top,width:f,height:p},element:{element:l,left:T.left,top:T.top,width:c,height:u},horizontal:n<0?"left":e>0?"right":"center",vertical:s<0?"top":i>0?"bottom":"middle"};f<c&&a(e+n)<f&&(d.horizontal="center"),p<u&&a(i+s)<p&&(d.vertical="middle"),r(a(e),a(n))>r(a(i),a(s))?d.important="horizontal":d.important="vertical",o.using.call(this,t,d)}),l.offset(t.extend(T,{using:s}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=t.left-e.collisionPosition.marginLeft,l=o-s,c=s+e.collisionWidth-a-o;e.collisionWidth>a?l>0&&c<=0?(n=t.left+l+e.collisionWidth-a-o,t.left+=l-n):t.left=c>0&&l<=0?o:l>c?o+a-e.collisionWidth:o:l>0?t.left+=l:c>0?t.left-=c:t.left=r(t.left-s,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,a=e.within.height,s=t.top-e.collisionPosition.marginTop,l=o-s,c=s+e.collisionHeight-a-o;e.collisionHeight>a?l>0&&c<=0?(n=t.top+l+e.collisionHeight-a-o,t.top+=l-n):t.top=c>0&&l<=0?o:l>c?o+a-e.collisionHeight:o:l>0?t.top+=l:c>0?t.top-=c:t.top=r(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,o=e.within,r=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,d=c+e.collisionWidth-s-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];u<0?((n=t.left+h+f+p+e.collisionWidth-s-r)<0||n<a(u))&&(t.left+=h+f+p):d>0&&((i=t.left-e.collisionPosition.marginLeft+h+f+p-l)>0||a(i)<d)&&(t.left+=h+f+p)},top:function(t,e){var n,i,o=e.within,r=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,d=c+e.collisionHeight-s-l,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];u<0?((i=t.top+h+f+p+e.collisionHeight-s-r)<0||i<a(u))&&(t.top+=h+f+p):d>0&&((n=t.top-e.collisionPosition.marginTop+h+f+p-l)>0||a(n)<d)&&(t.top+=h+f+p)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}}),
/*!
 * jQuery UI Unique ID 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.extend({uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}});var e}),
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){var e,n=0,i=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{(i=t._data(o,"events"))&&i.remove&&t(o).triggerHandler("remove")}catch(a){}e(n)}),t.widget=function(e,n,i){var o,r,a,s={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},o=t[l][e],r=t[l][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(i,function(e,i){t.isFunction(i)?s[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function o(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}():s[e]=i}),r.prototype=t.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},s,{constructor:r,namespace:l,widgetName:e,widgetFullName:c}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete o._childConstructors):n._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,o,r=i.call(arguments,1),a=0,s=r.length;a<s;a++)for(n in r[a])o=r[a][n],r[a].hasOwnProperty(n)&&o!==undefined&&(t.isPlainObject(o)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],o):t.widget.extend({},o):e[n]=o);return e},t.widget.bridge=function(e,n){var o=n.prototype.widgetFullName||e;t.fn[e]=function(r){var a="string"==typeof r,s=i.call(arguments,1),l=this;return a?this.length||"instance"!==r?this.each(function(){var n,i=t.data(this,o);return"instance"===r?(l=i,!1):i?t.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,s))!==i&&n!==undefined?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):l=undefined:(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,o);e?(e.option(r||{}),e._init&&e._init()):t.data(this,o,new n(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},e=(i=e.split(".")).shift(),i.length){for(o=a[e]=t.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return o[e]===undefined?null:o[e];o[e]=n}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,o;for(n in e)o=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&o&&o.length&&(i=t(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,r){var a,s;for(s=0;s<n.length;s++)a=o.classesElementLookup[n[s]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),o.classesElementLookup[n[s]]=a,i.push(n[s]),r&&e.classes[n[s]]&&i.push(e.classes[n[s]])}var i=[],o=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,o){-1!==t.inArray(e.target,o)&&(n.classesElementLookup[i]=t(o.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var o="string"==typeof t||null===t,r={extra:o?e:n,keys:o?t:e,element:o?this.element:t,add:i};return r.element.toggleClass(this._classes(r),i),this},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,a){function s(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.on(c,u,s):n.on(c,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var o,r,a=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){var a;"string"==typeof o&&(o={effect:o});var s=o?!0===o||"number"==typeof o?n:o.effect||n:e;"number"==typeof(o=o||{})&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&t.effects&&t.effects.effect[s]?i[e](o):s!==e&&i[s]?i[s](o.duration,o.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}}),t.widget}),
/*!
 * jQuery UI Menu 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,o,r,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",r=!1,o=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),o===i?r=!0:o=i+o,n=this._filterMenuItems(o),(n=r&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(o=String.fromCharCode(e.keyCode),n=this._filterMenuItems(o)),n.length?(this.focus(e,n),this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,o,r=this,a=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);r._addClass(i,"ui-menu-icon","ui-icon "+a),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(e=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);r._isDivider(e)&&r._addClass(e,"ui-menu-divider","ui-widget-content")}),o=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,o;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),o=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(o,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,o,r,a,s;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-n-i,r=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.outerHeight(),o<0?this.activeMenu.scrollTop(r+o):o+s>a&&this.activeMenu.scrollTop(r+o-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,o;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i-o<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,o;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+o>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}})}),
/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./menu","../keycode","../position","../safe-active-element","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,o=this.element[0].nodeName.toLowerCase(),r="textarea"===o,a="input"===o;this.isMultiLine=r||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[r||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var r=t.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case r.UP:e=!0,this._keyEvent("previous",o);break;case r.DOWN:e=!0,this._keyEvent("next",o);break;case r.ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var o=t.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,o;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});o=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:o})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(o.value),(i=n.item.attr("aria-label")||o.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),o=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=o,this._delay(function(){this.previous=o,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,o){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete}),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(o).remove(),t(r).each(function(){var i=t(this),o=e(i),r={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var r=e(o),a=r.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(r.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&o.find(r).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=(r=o.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===r?[]:r);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.tooltip",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=r[0].offsetWidth,h=r[0].offsetHeight;if(c){var f=s,p=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+h>p.bottom?"top":"top"==s&&u.top-h<p.top?"bottom":"right"==s&&u.right+d>p.width?"left":"left"==s&&u.left-d<p.left?"right":s,r.removeClass(f).addClass(s)}var m=this.getCalculatedOffset(s,u,d,h);this.applyPlacement(m,s);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=r&&(e.top=e.top+r-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=/top|bottom/.test(n),h=d?2*u.left-o+l:2*u.top-r+c,f=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][f],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=o.hoverState&&r.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=window.SVGElement&&n instanceof window.SVGElement,a=i?{top:0,left:0}:r?null:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,l,a)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,u=e.left+r+n;c<a.left?o.left=a.left-c:u>a.right&&(o.left=a.left+a.width-u)}return o},n.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},n.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.popover"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.popover",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),r=o.data("bs.modal"),a=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new n(this,a)),"string"==typeof e?r[e](i):a.show&&r.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),r=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(r,a,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),a="string"==typeof e?e:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof e?o.to(e):a?o[a]():r.interval&&o.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(e,o),a=this.interval,s="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i,o=t(this),r=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=t.extend({},r.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),e.call(r,a),s&&r.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){
var o=n.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=t(i);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,i,o){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=i.find("> .active"),s=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),a.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||n.data("bs.collapse",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"))&&e.transitioning)){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return o.call(this);this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var r=e(o),a=r.data("bs.collapse")?"toggle":o.data();n.call(r,a)})}(jQuery),
/** Notify.js - v0.3.1 - 2013/07/05
 * http://notifyjs.com/
 * Copyright (c) 2013 Jaime Pillora - MIT
 */
function(t,e,n,i){"use strict";var o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,w,C,x,_,k,T,S,E,A,$,D,N=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};a=(k="notify")+"!blank",S={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},g=["l","c","r"],D=["t","m","b"],w=["t","b","l","r"],C={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},x=function(t){var e;return e=[],n.each(t.split(/\W+/),function(t,n){var o;return o=n.toLowerCase().charAt(0),S[o]?e.push(o):i}),e},$={},s={name:"core",html:'<div class="'+(_=k+"js")+'-wrapper">\n  <div class="'+_+'-arrow"></div>\n  <div class="'+_+'-container"></div>\n</div>',css:"."+_+"-corner {\n  position: fixed;\n  margin: 5px;\n  z-index: 1050;\n}\n\n."+_+"-corner ."+_+"-wrapper,\n."+_+"-corner ."+_+"-container {\n  position: relative;\n  display: block;\n  height: inherit;\n  width: inherit;\n  margin: 3px;\n}\n\n."+_+"-wrapper {\n  z-index: 1;\n  position: absolute;\n  display: inline-block;\n  height: 0;\n  width: 0;\n}\n\n."+_+"-container {\n  display: none;\n  z-index: 1;\n  position: absolute;\n  cursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n  position: relative;\n}\n\n."+_+"-arrow {\n  position: absolute;\n  z-index: 2;\n  width: 0;\n  height: 0;\n}"},A={"border-radius":["-webkit-","-moz-"]},p=function(t){return $[t]},r=function(e,i){var o,r,a,s;if(!e)throw"Missing Style name";if(!i)throw"Missing Style definition";if(!i.html)throw"Missing Style HTML";return(null!=(s=$[e])?s.cssElem:void 0)&&(t.console&&console.warn(k+": overwriting style '"+e+"'"),$[e].cssElem.remove()),i.name=e,$[e]=i,o="",i.classes&&n.each(i.classes,function(t,e){return o+="."+_+"-"+i.name+"-"+t+" {\n",n.each(e,function(t,e){return A[t]&&n.each(A[t],function(n,i){return o+="  "+i+t+": "+e+";\n"}),o+="  "+t+": "+e+";\n"}),o+="}\n"}),i.css&&(o+="/* styles for "+i.name+" */\n"+i.css),o&&(i.cssElem=b(o),i.cssElem.attr("id","notify-"+i.name)),a={},r=n(i.html),h("html",r,a),h("text",r,a),i.fields=a},b=function(t){var e;(e=l("style")).attr("type","text/css"),n("head").append(e);try{e.html(t)}catch(i){e[0].styleSheet.cssText=t}return e},h=function(t,e,i){var o;return"html"!==t&&(t="text"),d(e,"["+(o="data-notify-"+t)+"]").each(function(){var e;return(e=n(this).attr(o))||(e=a),i[e]=t})},d=function(t,e){return t.is(e)?t:t.find(e)},T={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},y=function(t,e){var i;return(i=function(){}).prototype=t,n.extend(!0,new i,e)},c=function(t){return n.extend(T,t)},l=function(t){return n("<"+t+"></"+t+">")},m={},f=function(t){var e;return t.is("[type=radio]")&&(e=t.parents("form:first").find("[type=radio]").filter(function(e,i){return n(i).attr("name")===t.attr("name")}),t=e.first()),t},v=function(t,e,n){var o;if("string"==typeof n)n=parseInt(n,10);else if("number"!=typeof n)return;if(!isNaN(n))return e,t[o=S[C[e.charAt(0)]]]!==i&&(e=S[o.charAt(0)],n=-n),t[e]===i?t[e]=n:t[e]+=n,null},E=function(t,e,n){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return n/2-e/2;if("r"===t||"b"===t)return n-e;throw"Invalid alignment"},u=function(t){return u.e=u.e||l("div"),u.e.text(t).html()},o=function(){function t(t,e,i){"string"==typeof i&&(i={className:i}),this.options=y(T,n.isPlainObject(i)?i:{}),this.loadHTML(),this.wrapper=n(s.html),this.wrapper.data(_,this),this.arrow=this.wrapper.find("."+_+"-arrow"),this.container=this.wrapper.find("."+_+"-container"),this.container.append(this.userContainer),t&&t.length&&(this.elementType=t.attr("type"),this.originalElement=t,this.elem=f(t),this.elem.data(_,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(e)}return t.prototype.loadHTML=function(){var t;return t=this.getStyle(),this.userContainer=n(t.html),this.userFields=t.fields},t.prototype.show=function(t,e){var n,o,r,a,s,l=this;if(o=function(){return t||l.elem||l.destroy(),e?e():i},s=this.container.parent().parents(":hidden").length>0,r=this.container.add(this.arrow),n=[],s&&t)a="show";else if(s&&!t)a="hide";else if(!s&&t)a=this.options.showAnimation,n.push(this.options.showDuration);else{if(s||t)return o();a=this.options.hideAnimation,n.push(this.options.hideDuration)}return n.push(o),r[a].apply(r,n)},t.prototype.setGlobalPosition=function(){var t,e,i,o,r,a,s,c;return s=(c=this.getPosition())[0],a=c[1],r=S[s],t=S[a],(e=m[o=s+"|"+a])||(e=m[o]=l("div"),(i={})[r]=0,"middle"===t?i.top="45%":"center"===t?i.left="45%":i[t]=0,e.css(i).addClass(_+"-corner"),n("body").append(e)),e.prepend(this.wrapper)},t.prototype.setElementPosition=function(){var t,e,o,r,a,s,l,c,u,d,h,f,p,m,y,b,x,_,k,T,A,$,R,P,I,L,O,M;for(k=($=this.getPosition())[0],_=$[1],$[2],h=this.elem.position(),c=this.elem.outerHeight(),f=this.elem.outerWidth(),u=this.elem.innerHeight(),d=this.elem.innerWidth(),R=this.wrapper.position(),a=this.container.height(),s=this.container.width(),m=S[k],b=C[k],(l={})[x=S[b]]="b"===k?c:"r"===k?f:0,v(l,"top",h.top-R.top),v(l,"left",h.left-R.left),P=0,L=(M=["top","left"]).length;L>P;P++)T=M[P],(y=parseInt(this.elem.css("margin-"+T),10))&&v(l,T,y);if(p=Math.max(0,this.options.gap-(this.options.arrowShow?o:0)),v(l,x,p),this.options.arrowShow){for(o=this.options.arrowSize,e=n.extend({},l),t=this.userContainer.css("border-color")||this.userContainer.css("background-color")||"white",I=0,O=w.length;O>I;I++)T=w[I],A=S[T],T!==b&&(r=A===m?t:"transparent",e["border-"+A]=o+"px solid "+r);v(l,S[b],o),N.call(w,_)>=0&&v(e,S[_],2*o)}else this.arrow.hide();return N.call(D,k)>=0?(v(l,"left",E(_,s,f)),e&&v(e,"left",E(_,o,d))):N.call(g,k)>=0&&(v(l,"top",E(_,a,c)),e&&v(e,"top",E(_,o,u))),this.container.is(":visible")&&(l.display="block"),this.container.removeAttr("style").css(l),e?this.arrow.removeAttr("style").css(e):i},t.prototype.getPosition=function(){var t,e,n,i,o,r,a,s;if(e=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),0===(t=x(e)).length&&(t[0]="b"),n=t[0],0>N.call(w,n))throw"Must be one of ["+w+"]";return(1===t.length||(i=t[0],N.call(D,i)>=0&&(o=t[1],0>N.call(g,o)))||(r=t[0],N.call(g,r)>=0&&(a=t[1],0>N.call(D,a))))&&(t[1]=(s=t[0],N.call(g,s)>=0?"m":"l")),2===t.length&&(t[2]=t[1]),t},t.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),!(e=$[t]))throw"Missing style: "+t;return e},t.prototype.updateClasses=function(){var t,e;return t=["base"],n.isArray(this.options.className)?t=t.concat(this.options.className):this.options.className&&t.push(this.options.className),e=this.getStyle(),t=n.map(t,function(t){return _+"-"+e.name+"-"+t}).join(" "),this.userContainer.attr("class",t)},t.prototype.run=function(t,e){var o,r,s,l,c,h=this;if(n.isPlainObject(e)?n.extend(this.options,e):"string"===n.type(e)&&(this.options.color=e),this.container&&!t)return this.show(!1),i;if(this.container||t){for(s in r={},n.isPlainObject(t)?r=t:r[a]=t,r)o=r[s],(l=this.userFields[s])&&("text"===l&&(o=u(o),this.options.breakNewLines&&(o=o.replace(/\n/g,"<br/>"))),c=s===a?"":"="+s,d(this.userContainer,"[data-notify-"+l+c+"]").html(o));return this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide?(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(function(){return h.show(!1)},this.options.autoHideDelay)):i}},t.prototype.destroy=function(){return this.wrapper.remove()},t}(),n[k]=function(t,e,i){return t&&t.nodeName||t.jquery?n(t)[k](e,i):(i=e,new o(null,e=t,i)),t},n.fn[k]=function(t,e){return n(this).each(function(){var i;return(i=f(n(this)).data(_))?i.run(t,e):new o(n(this),t,e)}),this},n.extend(n[k],{defaults:c,addStyle:r,pluginOptions:T,getStyle:p,insertCSS:b}),n(function(){return b(s.css).attr("id","core-notify"),n(e).on("click notify-hide","."+_+"-wrapper",function(t){var e;return(e=n(this).data(_))&&(e.options.clickToHide||"notify-hide"===t.type)?e.show(!1):i})})}(window,document,jQuery),$.notify.addStyle("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},"undefined"!=typeof Turbolinks&&Turbolinks.supported&&document.addEventListener("turbolinks:before-render",function(){tinymce.remove()}),function(t,e){"use strict";function n(t,e){for(var n,i=[],r=0;r<t.length;++r){if(!(n=a[t[r]]||o(t[r])))throw"module definition dependecy not found: "+t[r];i.push(n)}e.apply(null,i)}function i(t,i,o){if("string"!=typeof t)throw"invalid module definition, module id must be defined and be a string";if(i===e)throw"invalid module definition, dependencies must be specified";if(o===e)throw"invalid module definition, definition function must be specified";n(i,function(){a[t]=o.apply(null,arguments)})}function o(e){for(var n=t,i=e.split(/[.\/]/),o=0;o<i.length;++o){if(!n[i[o]])return;n=n[i[o]]}return n}function r(n){var i,o,r,s,l;for(i=0;i<n.length;i++){o=t,s=(r=n[i]).split(/[.\/]/);for(var c=0;c<s.length-1;++c)o[s[c]]===e&&(o[s[c]]={}),o=o[s[c]];o[s[s.length-1]]=a[r]}if(t.AMDLC_TESTS){for(r in l=t.privateModules||{},a)l[r]=a[r];for(i=0;i<n.length;i++)delete l[n[i]];t.privateModules=l}}
/**
 * Rect.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */var a={};i("tinymce/geom/Rect",[],function(){function t(t,e,n){var i,o,a,s,l,u;return i=e.x,o=e.y,a=t.w,s=t.h,l=e.w,u=e.h,"b"===(n=(n||"").split(""))[0]&&(o+=u),"r"===n[1]&&(i+=l),"c"===n[0]&&(o+=c(u/2)),"c"===n[1]&&(i+=c(l/2)),"b"===n[3]&&(o-=s),"r"===n[4]&&(i-=a),"c"===n[3]&&(o-=c(s/2)),"c"===n[4]&&(i-=c(a/2)),r(i,o,a,s)}function e(e,n,i,o){var r,a;for(a=0;a<o.length;a++)if((r=t(e,n,o[a])).x>=i.x&&r.x+r.w<=i.w+i.x&&r.y>=i.y&&r.y+r.h<=i.h+i.y)return o[a];return null}function n(t,e,n){return r(t.x-e,t.y-n,t.w+2*e,t.h+2*n)}function i(t,e){var n,i,o,a;return n=l(t.x,e.x),i=l(t.y,e.y),o=s(t.x+t.w,e.x+e.w),a=s(t.y+t.h,e.y+e.h),o-n<0||a-i<0?null:r(n,i,o-n,a-i)}function o(t,e,n){var i,o,a,s,c,u,d,h,f,p;return c=t.x,u=t.y,d=t.x+t.w,h=t.y+t.h,f=e.x+e.w,p=e.y+e.h,i=l(0,e.x-c),o=l(0,e.y-u),a=l(0,d-f),s=l(0,h-p),c+=i,u+=o,n&&(d+=i,h+=o,c-=a,u-=s),r(c,u,(d-=a)-c,(h-=s)-u)}function r(t,e,n,i){return{x:t,y:e,w:n,h:i}}function a(t){return r(t.left,t.top,t.width,t.height)}var s=Math.min,l=Math.max,c=Math.round;return{inflate:n,relativePosition:t,findBestRelativePosition:e,intersect:i,clamp:o,create:r,fromClientRect:a}}),
/**
 * Promise.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * Promise polyfill under MIT license: https://github.com/taylorhakes/promise-polyfill
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Promise",[],function(){function t(t,e){return function(){t.apply(e,arguments)}}function e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(e,t(i,this),t(o,this))}function n(t){var e=this;null!==this._state?l(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(o){return void t.reject(o)}t.resolve(i)}else(e._state?t.resolve:t.reject)(e._value)}):this._deferreds.push(t)}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void s(t(n,e),t(i,this),t(o,this))}this._state=!0,this._value=e,r.call(this)}catch(a){o.call(this,a)}}function o(t){this._state=!1,this._value=t,r.call(this)}function r(){for(var t=0,e=this._deferreds.length;t<e;t++)n.call(this,this._deferreds[t]);this._deferreds=null}function a(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function s(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(o){if(i)return;i=!0,n(o)}}if(window.Promise)return window.Promise;var l=e.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype.then=function(t,i){var o=this;return new e(function(e,r){n.call(o,new a(t,i,e,r))})},e.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new e(function(e,n){function i(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(r,t)},n)}t[r]=a,0==--o&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)i(r,t[r])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=0,o=t.length;i<o;i++)t[i].then(e,n)})},e}),
/**
 * Delay.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Delay",["tinymce/util/Promise"],function(t){function e(t,e){function n(t){window.setTimeout(t,0)}var i,o=window.requestAnimationFrame,r=["ms","moz","webkit"];for(i=0;i<r.length&&!o;i++)o=window[r[i]+"RequestAnimationFrame"];o||(o=n),o(t,e)}function n(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)}function i(t,e){return"number"!=typeof e&&(e=1),setInterval(t,e)}function o(t){return clearTimeout(t)}function r(t){return clearInterval(t)}function a(t,e){var i,o;return(o=function(){var o=arguments;clearTimeout(i),i=n(function(){t.apply(this,o)},e)}).stop=function(){clearTimeout(i)},o}var s;return{requestAnimationFrame:function(n,i){s?s.then(n):s=new t(function(t){i||(i=document.body),e(t,i)}).then(n)},setTimeout:n,setInterval:i,setEditorTimeout:function(t,e,i){return n(function(){t.removed||e()},i)},setEditorInterval:function(t,e,n){var o;return o=i(function(){t.removed?clearInterval(o):e()},n)},debounce:a,throttle:a,clearInterval:r,clearTimeout:o}}),
/**
 * Env.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Env",[],function(){function t(t){return"matchMedia"in window&&matchMedia(t).matches}var e,n,i,o,r,a,s,l,c,u,d,h,f,p=navigator,m=p.userAgent;return e=window.opera&&window.opera.buildNumber,c=/Android/.test(m),i=(i=!(n=/WebKit/.test(m))&&!e&&/MSIE/gi.test(m)&&/Explorer/gi.test(p.appName))&&/MSIE (\w+)\./.exec(m)[1],o=-1!=m.indexOf("Trident/")&&(-1!=m.indexOf("rv:")||-1!=p.appName.indexOf("Netscape"))&&11,r=-1!=m.indexOf("Edge/")&&!i&&!o&&12,i=i||o||r,a=!n&&!o&&/Gecko/.test(m),s=-1!=m.indexOf("Mac"),l=/(iPad|iPhone)/.test(m),u="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,d=t("only screen and (max-device-width: 480px)")&&(c||l),h=t("only screen and (min-width: 800px)")&&(c||l),f=-1!=m.indexOf("Windows Phone"),r&&(n=!1),{opera:e,webkit:n,ie:i,gecko:a,mac:s,iOS:l,android:c,contentEditable:!l||u||m.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=i,range:window.getSelection&&"Range"in window,documentMode:i&&!r?document.documentMode||7:10,fileApi:u,ceFalse:!1===i||i>8,canHaveCSP:!1===i||i>11,desktop:!d&&!h,windowsPhone:f}}),
/**
 * EventUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(t,e){function n(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)}function o(t,e){var n,i=e;return(n=t.path)&&n.length>0&&(i=n[0]),t.deepPath&&(n=t.deepPath())&&n.length>0&&(i=n[0]),i}function r(t,n){function i(){return!1}function r(){return!0}var a,s,l=n||{};for(a in t)u[a]||(l[a]=t[a]);if(l.target||(l.target=l.srcElement||document),e.experimentalShadowDom&&(l.target=o(t,l.target)),t&&c.test(t.type)&&t.pageX===s&&t.clientX!==s){var d=l.target.ownerDocument||document,h=d.documentElement,f=d.body;l.pageX=t.clientX+(h&&h.scrollLeft||f&&f.scrollLeft||0)-(h&&h.clientLeft||f&&f.clientLeft||0),l.pageY=t.clientY+(h&&h.scrollTop||f&&f.scrollTop||0)-(h&&h.clientTop||f&&f.clientTop||0)}return l.preventDefault=function(){l.isDefaultPrevented=r,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},l.stopPropagation=function(){l.isPropagationStopped=r,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=r,l.stopPropagation()},l.isDefaultPrevented||(l.isDefaultPrevented=i,l.isPropagationStopped=i,l.isImmediatePropagationStopped=i),"undefined"==typeof l.metaKey&&(l.metaKey=!1),l}function a(e,o,r){function a(){r.domLoaded||(r.domLoaded=!0,o(u))}function s(){("complete"===c.readyState||"interactive"===c.readyState&&c.body)&&(i(c,"readystatechange",s),a())}function l(){try{c.documentElement.doScroll("left")}catch(e){return void t.setTimeout(l)}a()}var c=e.document,u={type:"ready"};r.domLoaded?o(u):(c.addEventListener?"complete"===c.readyState?a():n(e,"DOMContentLoaded",a):(n(c,"readystatechange",s),c.documentElement.doScroll&&e.self===e.top&&l()),n(e,"load",a))}function s(){function t(t,e){var n,i,o,r,a=h[e];if(n=a&&a[t.type])for(i=0,o=n.length;i<o;i++)if((r=n[i])&&!1===r.func.call(r.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}var e,o,s,c,u,d=this,h={};o=l+(+new Date).toString(32),c="onmouseenter"in document.documentElement,s="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,d.domLoaded=!1,d.events=h,d.bind=function(i,l,f,p){function m(e){t(r(e||_.event),g)}var g,v,y,b,w,C,x,_=window;if(i&&3!==i.nodeType&&8!==i.nodeType){for(i[o]?g=i[o]:(g=e++,i[o]=g,h[g]={}),p=p||i,y=(l=l.split(" ")).length;y--;)C=m,w=x=!1,"DOMContentLoaded"===(b=l[y])&&(b="ready"),d.domLoaded&&"ready"===b&&"complete"==i.readyState?f.call(p,r({type:b})):(c||(w=u[b])&&(C=function(e){var n,i;if(n=e.currentTarget,(i=e.relatedTarget)&&n.contains)i=n.contains(i);else for(;i&&i!==n;)i=i.parentNode;i||((e=r(e||_.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=n,t(e,g))}),s||"focusin"!==b&&"focusout"!==b||(x=!0,w="focusin"===b?"focus":"blur",C=function(e){(e=r(e||_.event)).type="focus"===e.type?"focusin":"focusout",t(e,g)}),(v=h[g][b])?"ready"===b&&d.domLoaded?f({type:b}):v.push({func:f,scope:p}):(h[g][b]=v=[{func:f,scope:p}],v.fakeName=w,v.capture=x,v.nativeHandler=C,"ready"===b?a(i,C,d):n(i,w||b,C,x)));return i=v=0,f}},d.unbind=function(t,e,n){var r,a,s,l,c,u;if(!t||3===t.nodeType||8===t.nodeType)return d;if(r=t[o]){if(u=h[r],e){for(s=(e=e.split(" ")).length;s--;)if(a=u[c=e[s]]){if(n)for(l=a.length;l--;)if(a[l].func===n){var f=a.nativeHandler,p=a.fakeName,m=a.capture;(a=a.slice(0,l).concat(a.slice(l+1))).nativeHandler=f,a.fakeName=p,a.capture=m,u[c]=a}n&&0!==a.length||(delete u[c],i(t,a.fakeName||c,a.nativeHandler,a.capture))}}else{for(c in u)i(t,(a=u[c]).fakeName||c,a.nativeHandler,a.capture);u={}}for(c in u)return d;delete h[r];try{delete t[o]}catch(g){t[o]=null}}return d},d.fire=function(e,n,i){var a;if(!e||3===e.nodeType||8===e.nodeType)return d;(i=r(null,i)).type=n,i.target=e;do{(a=e[o])&&t(i,a),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!i.isPropagationStopped());return d},d.clean=function(t){var e,n,i=d.unbind;if(!t||3===t.nodeType||8===t.nodeType)return d;if(t[o]&&i(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(i(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[o]&&i(t);return d},d.destroy=function(){h={}},d.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}}var l="mce-data-",c=/^(?:mouse|contextmenu)|click/,u={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return s.Event=new s,s.Event.bind(window,"ready",function(){}),s}),
/**
 * Sizzle.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 *
 * @ignore-file
 */
/**
 * Sizzle CSS Selector Engine v@VERSION
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: @DATE
 */
i("tinymce/dom/Sizzle",[],function(){function t(t,e,n,i){var o,r,a,s,l,c,d,f,p,m;if((e?e.ownerDocument||e:F)!==R&&N(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=(e=e||R).nodeType)&&9!==s)return[];if(I&&!i){if(o=vt.exec(t))if(a=o[1]){if(9===s){if(!(r=e.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&B(e,r)&&r.id===a)return n.push(r),n}else{if(o[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&C.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(a)),n}if(C.qsa&&(!L||!L.test(t))){if(f=d=H,p=e,m=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=T(t),(d=e.getAttribute("id"))?f=d.replace(bt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+h(c[l]);p=yt.test(t)&&u(e.parentNode)||e,m=c.join(",")}if(m)try{return Z.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{d||e.removeAttribute("id")}}}return E(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[H]=!0,t}function o(t){var e=R.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=t.length;i--;)x.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function u(t){return t&&typeof t.getElementsByTagName!==X&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=j++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,a){var s,l,c=[z,r];if(a){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if((s=(l=e[H]||(e[H]={}))[i])&&s[0]===z&&s[1]===r)return c[2]=s[2];if(l[i]=c,c[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(e,n,i){for(var o=0,r=n.length;o<r;o++)t(e,n[o],i);return i}function g(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function v(t,e,n,o,r,a){return o&&!o[H]&&(o=v(o)),r&&!r[H]&&(r=v(r,a)),i(function(i,a,s,l){var c,u,d,h=[],f=[],p=a.length,v=i||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:g(v,h,t,s,l),b=n?r||(i?t:p||o)?[]:a:y;if(n&&n(y,b,s,l),o)for(c=g(b,f),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(y[f[u]]=d));if(i){if(r||t){if(r){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);r(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=r?et.call(i,d):h[u])>-1&&(i[c]=!(a[c]=d))}}else b=g(b===a?b.splice(p,b.length):b),r?r(null,a,b,l):Z.apply(a,b)})}function y(t){for(var e,n,i,o=t.length,r=x.relative[t[0].type],a=r||x.relative[" "],s=r?1:0,l=f(function(t){return t===e},a,!0),c=f(function(t){return et.call(e,t)>-1},a,!0),u=[function(t,n,i){return!r&&(i||n!==A)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];s<o;s++)if(n=x.relative[t[s].type])u=[f(p(u),n)];else{if((n=x.filter[t[s].type].apply(null,t[s].matches))[H]){for(i=++s;i<o&&!x.relative[t[i].type];i++);return v(s>1&&p(u),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<i&&y(t.slice(s,i)),i<o&&y(t=t.slice(i)),i<o&&h(t))}u.push(n)}return p(u)}function b(e,n){var o=n.length>0,r=e.length>0,a=function(i,a,s,l,c){var u,d,h,f=0,p="0",m=i&&[],v=[],y=A,b=i||r&&x.find.TAG("*",c),w=z+=null==y?1:Math.random()||.1,C=b.length;for(c&&(A=a!==R&&a);p!==C&&null!=(u=b[p]);p++){if(r&&u){for(d=0;h=e[d++];)if(h(u,a,s)){l.push(u);break}c&&(z=w)}o&&((u=!h&&u)&&f--,i&&m.push(u))}if(f+=p,o&&p!==f){for(d=0;h=n[d++];)h(m,v,a,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=K.call(l));v=g(v)}Z.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(z=w,A=y),m};return o?i(a):a}var w,C,x,_,k,T,S,E,A,$,D,N,R,P,I,L,O,M,B,H="sizzle"+-new Date,F=window.document,z=0,j=0,W=n(),U=n(),q=n(),V=function(t,e){return t===e&&(D=!0),0},X=typeof e,Y=1<<31,G={}.hasOwnProperty,J=[],K=J.pop,Q=J.push,Z=J.push,tt=J.slice,et=J.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+it+"*("+ot+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+it+"*\\]",at=":("+ot+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(at),ht=new RegExp("^"+ot+"$"),ft={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Ct=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Z.apply(J=tt.call(F.childNodes),F.childNodes),J[F.childNodes.length].nodeType}catch(xt){Z={apply:J.length?function(t,e){Q.apply(t,tt.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(w in C=t.support={},k=t.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},N=t.setDocument=function(t){function e(t){try{return t.top}catch(e){}return null}var n,i=t?t.ownerDocument||t:F,r=i.defaultView;return i!==R&&9===i.nodeType&&i.documentElement?(R=i,P=i.documentElement,I=!k(i),r&&r!==e(r)&&(r.addEventListener?r.addEventListener("unload",function(){N()},!1):r.attachEvent&&r.attachEvent("onunload",function(){N()})),C.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=gt.test(i.getElementsByClassName),C.getById=o(function(t){return P.appendChild(t).id=H,!i.getElementsByName||!i.getElementsByName(H).length}),C.getById?(x.find.ID=function(t,e){if(typeof e.getElementById!==X&&I){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(wt,Ct);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(wt,Ct);return function(t){var n=typeof t.getAttributeNode!==X&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=C.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==X)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},x.find.CLASS=C.getElementsByClassName&&function(t,e){if(I)return e.getElementsByClassName(t)},O=[],L=[],(C.qsa=gt.test(i.querySelectorAll))&&(o(function(t){t.innerHTML="<select msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+it+"*(?:value|"+nt+")"),t.querySelectorAll(":checked").length||L.push(":checked")}),o(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(C.matchesSelector=gt.test(M=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(t){C.disconnectedMatch=M.call(t,"div"),M.call(t,"[s!='']:x"),O.push("!=",at)}),L=L.length&&new RegExp(L.join("|")),O=O.length&&new RegExp(O.join("|")),n=gt.test(P.compareDocumentPosition),B=n||gt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=n?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!C.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===F&&B(F,t)?-1:e===i||e.ownerDocument===F&&B(F,e)?1:$?et.call($,t)-et.call($,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,o=0,r=t.parentNode,s=e.parentNode,l=[t],c=[e];if(!r||!s)return t===i?-1:e===i?1:r?-1:s?1:$?et.call($,t)-et.call($,e):0;if(r===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===F?-1:c[o]===F?1:0},i):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&N(e),n=n.replace(ut,"='$1']"),C.matchesSelector&&I&&(!O||!O.test(n))&&(!L||!L.test(n)))try{var i=M.call(e,n);if(i||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(xt){}return t(n,R,null,[e]).length>0},t.contains=function(t,e){return(t.ownerDocument||t)!==R&&N(t),B(t,e)},t.attr=function(t,n){(t.ownerDocument||t)!==R&&N(t);var i=x.attrHandle[n.toLowerCase()],o=i&&G.call(x.attrHandle,n.toLowerCase())?i(t,n,!I):e;return o!==e?o:C.attributes||!I?t.getAttribute(n):(o=t.getAttributeNode(n))&&o.specified?o.value:null},t.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},t.uniqueSort=function(t){var e,n=[],i=0,o=0;if(D=!C.detectDuplicates,$=!C.sortStable&&t.slice(0),t.sort(V),D){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return $=null,t},_=t.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=_(e);return n},(x=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==X&&t.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,f,p,m=r!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(g){if(r){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(f=(c=(u=g[H]||(g[H]={}))[t]||[])[0]===z&&c[1],h=c[0]===z&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===e){u[t]=[z,f,h];break}}else if(y&&(c=(e[H]||(e[H]={}))[t])&&c[0]===z)h=c[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[H]||(d[H]={}))[t]=[z,h]),d!==e)););return(h-=o)===i||h%i==0&&h/i>=0}}},PSEUDO:function(e,n){var o,r=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[H]?r(n):r.length>1?(o=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),a=o.length;a--;)t[i=et.call(t,o[a])]=!(e[i]=o[a])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=S(t.replace(st,"$1"));return o[H]?i(function(t,e,n,i){for(var r,a=o(t,null,i,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(t){return t=t.replace(wt,Ct),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:i(function(e){return ht.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Ct).toLowerCase(),function(t){var n;do{if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===P},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,T=t.tokenize=function(e,n){var i,o,r,a,s,l,c,u=U[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=x.preFilter;s;){for(a in i&&!(o=lt.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=ct.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(st," ")}),s=s.slice(i.length)),x.filter)!(o=ft[a].exec(s))||c[a]&&!(o=c[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):U(e,l).slice(0)},S=t.compile=function(t,e){var n,i=[],o=[],r=q[t+" "];if(!r){for(e||(e=T(t)),n=e.length;n--;)(r=y(e[n]))[H]?i.push(r):o.push(r);(r=q(t,b(o,i))).selector=t}return r},E=t.select=function(t,e,n,i){var o,r,a,s,l,c="function"==typeof t&&t,d=!i&&T(t=c.selector||t);if(n=n||[],1===d.length){if((r=d[0]=d[0].slice(0)).length>2&&"ID"===(a=r[0]).type&&C.getById&&9===e.nodeType&&I&&x.relative[r[1].type]){if(!(e=(x.find.ID(a.matches[0].replace(wt,Ct),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(a=r[o],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(wt,Ct),yt.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&h(r)))return Z.apply(n,i),n;break}}return(c||S(t,d))(i,e,!I,n,yt.test(t)&&u(e.parentNode)||e),n},C.sortStable=H.split("").sort(V).join("")===H,C.detectDuplicates=!!D,N(),C.sortDetached=o(function(t){return 1&t.compareDocumentPosition(R.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(nt,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),t}),
/**
 * Arr.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Arr",[],function(){function t(t){var e,n,i=t;if(!u(t))for(i=[],e=0,n=t.length;e<n;e++)i[e]=t[e];return i}function n(t,n,i){var o,r;if(!t)return 0;if(i=i||t,t.length!==e){for(o=0,r=t.length;o<r;o++)if(!1===n.call(i,t[o],o,t))return 0}else for(o in t)if(t.hasOwnProperty(o)&&!1===n.call(i,t[o],o,t))return 0;return 1}function i(t,e){var i=[];return n(t,function(n,o){i.push(e(n,o,t))}),i}function o(t,e){var i=[];return n(t,function(n,o){e&&!e(n,o,t)||i.push(n)}),i}function r(t,e){var n,i;if(t)for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function a(t,e,n,i){var o=0;for(arguments.length<3&&(n=t[0]);o<t.length;o++)n=e.call(i,n,t[o],o);return n}function s(t,e,n){var i,o;for(i=0,o=t.length;i<o;i++)if(e.call(n,t[i],i,t))return i;return-1}function l(t,n,i){var o=s(t,n,i);return-1!==o?t[o]:e}function c(t){return t[t.length-1]}var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return{isArray:u,toArray:t,each:n,map:i,filter:o,indexOf:r,reduce:a,findIndex:s,find:l,last:c}}),
/**
 * Tools.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(t,n){function i(t){return null===t||t===e?"":(""+t).replace(p,"")}function o(t,i){return i?!("array"!=i||!n.isArray(t))||typeof t==i:t!==e}function r(t,e,n){var i;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e,n){var i,o,r,a,s,l=this,c=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),r=t[3].match(/(^|\.)(\w+)$/i)[2],!(o=l.createNS(t[3].replace(/\.\w+$/,""),n))[r]){if("static"==t[2])return o[r]=e,void(this.onCreate&&this.onCreate(t[2],t[3],o[r]));e[r]||(e[r]=function(){},c=1),o[r]=e[r],l.extend(o[r].prototype,e),t[5]&&(i=l.resolve(t[5]).prototype,a=t[5].match(/\.(\w+)$/i)[1],s=o[r],o[r]=c?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},o[r].prototype[r]=o[r],l.each(i,function(t,e){o[r].prototype[e]=i[e]}),l.each(e,function(t,e){i[e]?o[r].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!=r&&(o[r].prototype[e]=t)})),l.each(e["static"],function(t,e){o[r][e]=t})}}function l(t,n){var i,o,r,a,s=arguments;for(i=1,o=s.length;i<o;i++)for(r in n=s[i])n.hasOwnProperty(r)&&(a=n[r])!==e&&(t[r]=a);return t}function c(t,e,i,o){o=o||this,t&&(i&&(t=t[i]),n.each(t,function(t,n){if(!1===e.call(o,t,n,i))return!1;c(t,e,i,o)}))}function u(t,e){var n,i;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)e[i=t[n]]||(e[i]={}),e=e[i];return e}function d(t,e){var n,i;for(e=e||window,n=0,i=(t=t.split(".")).length;n<i&&(e=e[t[n]]);n++);return e}function h(t,e){return!t||o(t,"array")?t:n.map(t.split(e||","),i)}function f(e){var n=t.cacheSuffix;return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e}var p=/^\s*|\s*$/g;return{trim:i,isArray:n.isArray,is:o,toArray:n.toArray,makeMap:r,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,hasOwn:a,extend:l,create:s,walk:c,createNS:u,resolve:d,explode:h,_addCacheSuffix:f}}),
/**
 * DomQuery.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(t,n,i,o){function r(t){return void 0!==t}function a(t){return"string"==typeof t}function s(t){return t&&t==t.window}function l(t,e){var n,i,o;for(o=(e=e||_).createElement("div"),n=e.createDocumentFragment(),o.innerHTML=t;i=o.firstChild;)n.appendChild(i);return n}function c(t,e,n,i){var o;if(a(e))e=l(e,v(t[0]));else if(e.length&&!e.nodeType){if(e=h.makeArray(e),i)for(o=e.length-1;o>=0;o--)c(t,e[o],n,i);else for(o=0;o<e.length;o++)c(t,e[o],n,i);return t}if(e.nodeType)for(o=t.length;o--;)n.call(t[o],e);return t}function u(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function d(t,e,n){var i,o;return e=h(e)[0],t.each(function(){var t=this;n&&i==t.parentNode?o.appendChild(t):(i=t.parentNode,o=e.cloneNode(!1),t.parentNode.insertBefore(o,t),o.appendChild(t))}),t}function h(t,e){return new h.fn.init(t,e)}function f(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1}function p(t){return null===t||t===x?"":(""+t).replace(L,"")}function m(t,e){var n,i,o,r,a;if(t)if((n=t.length)===r){for(i in t)if(t.hasOwnProperty(i)&&(a=t[i],!1===e.call(a,i,a)))break}else for(o=0;o<n&&(a=t[o],!1!==e.call(a,o,a));o++);return t}function g(t,e){var n=[];return m(t,function(t,i){e(i,t)&&n.push(i)}),n}function v(t){return t?9==t.nodeType?t:t.ownerDocument:_}function y(t,n,i){var o=[],r=t[n];for("string"!=typeof i&&i instanceof h&&(i=i[0]);r&&9!==r.nodeType;){if(i!==e){if(r===i)break;if("string"==typeof i&&h(r).is(i))break}1===r.nodeType&&o.push(r),r=r[n]}return o}function b(t,n,i,o){var r=[];for(o instanceof h&&(o=o[0]);t;t=t[n])if(!i||t.nodeType===i){if(o!==e){if(t===o)break;if("string"==typeof o&&h(t).is(o))break}r.push(t)}return r}function w(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType==n)return t;return null}function C(t,e,n){m(n,function(n,i){t[n]=t[n]||{},t[n][e]=i})}var x,_=document,k=Array.prototype.push,T=Array.prototype.slice,S=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=t.Event,A=i.makeMap("children,contents,next,prev"),$=i.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),D=i.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),N={"for":"htmlFor","class":"className",readonly:"readOnly"},R={float:"cssFloat"},P={},I={},L=/^\s*|\s*$/g;return h.fn=h.prototype={constructor:h,selector:"",context:null,length:0,init:function(t,e){var n,i,o=this;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(e&&e.nodeType)o.context=e;else{if(e)return h(t).attr(e);o.context=e=document}if(a(t)){if(o.selector=t,!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:S.exec(t)))return h(e).find(t);if(n[1])for(i=l(t,v(e)).firstChild;i;)k.call(o,i),i=i.nextSibling;else{if(!(i=v(e).getElementById(n[2])))return o;if(i.id!==n[2])return o.find(t);o.length=1,o[0]=i}}else this.add(t,!1);return o},toArray:function(){return i.toArray(this)},add:function(t,e){var n,i,o=this;if(a(t))return o.add(h(t));if(!1!==e)for(n=h.unique(o.toArray().concat(h.makeArray(t))),o.length=n.length,i=0;i<n.length;i++)o[i]=n[i];else k.apply(o,h.makeArray(t));return o},attr:function(t,e){var n,i=this;if("object"==typeof t)m(t,function(t,e){i.attr(t,e)});else{if(!r(e)){if(i[0]&&1===i[0].nodeType){if((n=P[t])&&n.get)return n.get(i[0],t);if(D[t])return i.prop(t)?t:x;null===(e=i[0].getAttribute(t,2))&&(e=x)}return e}this.each(function(){var n;if(1===this.nodeType){if((n=P[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=N[t]||t))m(t,function(t,e){n.prop(t,e)});else{if(!r(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1==this.nodeType&&(this[t]=e)})}return n},css:function(t,e){function n(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})}function i(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})}var o,a,s=this;if("object"==typeof t)m(t,function(t,e){s.css(t,e)});else if(r(e))t=n(t),"number"!=typeof e||$[t]||(e+="px"),s.each(function(){var n=this.style;if((a=I[t])&&a.set)a.set(this,e);else{try{this.style[R[t]||t]=e}catch(o){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(i(t)):n.removeAttribute(t))}});else{if(o=s[0],(a=I[t])&&a.get)return a.get(o);if(o.ownerDocument.defaultView)try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(i(t))}catch(l){return x}else if(o.currentStyle)return o.currentStyle[n(t)]}return s},remove:function(){for(var t,e=this,n=this.length;n--;)t=e[n],E.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(r(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(i){h(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(r(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return c(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return c(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?c(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?c(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return h(t).append(this),this},prependTo:function(t){return h(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return d(this,t)},wrapAll:function(t){return d(this,t,!0)},wrapInner:function(t){return this.each(function(){h(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){h(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),h(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t?n:(-1!==t.indexOf(" ")?m(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(n,i){var o,r;(r=u(i,t))!==e&&(o=i.className,r?i.className=p((" "+o+" ").replace(" "+t+" "," ")):i.className+=o?" "+t:t)}),n)},hasClass:function(t){return u(this[0],t)},each:function(t){return m(this,t)},on:function(t,e){return this.each(function(){E.bind(this,t,e)})},off:function(t,e){return this.each(function(){E.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?E.fire(this,t.type,t):E.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new h(T.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)h.find(t,this[e],i);return h(i)},filter:function(t){return h("function"==typeof t?g(this.toArray(),function(e,n){return t(n,e)}):h.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof h&&(t=t[0]),this.each(function(n,i){for(;i;){if("string"==typeof t&&h(i).is(t)){e.push(i);break}if(i==t){e.push(i);break}i=i.parentNode}}),h(e)},offset:function(t){var e,n,i,o,r=0,a=0;return t?this.css(t):((e=this[0])&&(i=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(r=(o=e.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=o.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:r,top:a})},push:k,sort:[].sort,splice:[].splice},i.extend(h,{extend:i.extend,makeArray:function(t){return s(t)||t.nodeType?[t]:i.toArray(t)},inArray:f,isArray:i.isArray,each:m,trim:p,grep:g,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!=e[i].nodeType&&e.splice(i,1);return e=1===e.length?h.find.matchesSelector(e[0],t)?[e[0]]:[]:h.find.matches(t,e)}}),m({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return y(t,"parentNode")},next:function(t){return w(t,"nextSibling",1)},prev:function(t){return w(t,"previousSibling",1)},children:function(t){return b(t.firstChild,"nextSibling",1)},contents:function(t){return i.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){h.fn[t]=function(n){var i=[];return this.each(function(){var t=e.call(i,this,n,i);t&&(h.isArray(t)?i.push.apply(i,t):i.push(t))}),this.length>1&&(A[t]||(i=h.unique(i)),0===t.indexOf("parents")&&(i=i.reverse())),i=h(i),n?i.filter(n):i}}),m({parentsUntil:function(t,e){return y(t,"parentNode",e)},nextUntil:function(t,e){return b(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return b(t,"previousSibling",1,e).slice(1)}},function(t,e){h.fn[t]=function(n,i){var o=[];return this.each(function(){var t=e.call(o,this,n,o);t&&(h.isArray(t)?o.push.apply(o,t):o.push(t))}),this.length>1&&(o=h.unique(o),0!==t.indexOf("parents")&&"prevUntil"!==t||(o=o.reverse())),o=h(o),i?o.filter(i):o}}),h.fn.is=function(t){return!!t&&this.filter(t).length>0},h.fn.init.prototype=h.fn,h.overrideDefaults=function(t){function e(i,o){return n=n||t(),0===arguments.length&&(i=n.element),o||(o=n.context),new e.fn.init(i,o)}var n;return h.extend(e,this),e},o.ie&&o.ie<8&&(C(P,"get",{maxlength:function(t){var e=t.maxLength;return 2147483647===e?x:e},size:function(t){var e=t.size;return 20===e?x:e},"class":function(t){return t.className},style:function(t){var e=t.style.cssText;return 0===e.length?x:e}}),C(P,"set",{"class":function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),o.ie&&o.ie<9&&(R.float="styleFloat",C(I,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),h.attrHooks=P,h.cssHooks=I,h}),
/**
 * Styles.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Styles",[],function(){return function(t,e){function n(t,e,n,i){function o(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t}return"#"+o(e)+o(n)+o(i)}var i,o,r,a,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,d={},h="\ufeff";for(t=t||{},e&&(r=e.getValidStyles(),a=e.getInvalidStyles()),o=("\\\" \\' \\; \\: ; : "+h).split(" "),i=0;i<o.length;i++)d[o[i]]=h+i,d[h+i]=o[i];return{toHex:function(t){return t.replace(s,n)},parse:function(e){function o(t,e,n){var o,r,a,s;if((o=x[t+"-top"+e])&&(r=x[t+"-right"+e])&&(a=x[t+"-bottom"+e])&&(s=x[t+"-left"+e])){var l=[o,r,a,s];for(i=l.length-1;i--&&l[i]===l[i+1];);i>-1&&n||(x[t+e]=-1==i?l[0]:l.join(" "),delete x[t+"-top"+e],delete x[t+"-right"+e],delete x[t+"-bottom"+e],delete x[t+"-left"+e])}}function r(t){var e,n=x[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return x[t]=n[0],!0}}function a(t,e,n,i){r(e)&&r(n)&&r(i)&&(x[t]=x[e]+" "+x[n]+" "+x[i],delete x[e],delete x[n],delete x[i])}function f(t){return C=!0,d[t]}function p(t,e){return C&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return d[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t}function m(t){return String.fromCharCode(parseInt(t.slice(1),16))}function g(t){return t.replace(/\\[0-9a-f]+/gi,m)}function v(e,n,i,o,r,a){if(r=r||a)return"'"+(r=p(r)).replace(/\'/g,"\\'")+"'";if(n=p(n||i||o),!t.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return _&&(n=_.call(k,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var y,b,w,C,x={},_=t.url_converter,k=t.url_converter_scope||this;if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,f).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,f)});y=c.exec(e);)if(c.lastIndex=y.index+y[0].length,b=y[1].replace(u,"").toLowerCase(),w=y[2].replace(u,""),b&&w){if(b=g(b),w=g(w),-1!==b.indexOf(h)||-1!==b.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"==b||/expression\s*\(|\/\*|\*\//.test(w)))continue;"font-weight"===b&&"700"===w?w="bold":"color"!==b&&"background-color"!==b||(w=w.toLowerCase()),w=(w=w.replace(s,n)).replace(l,v),x[b]=C?p(w,!0):w}o("border","",!0),o("border","-width"),o("border","-color"),o("border","-style"),o("padding",""),o("margin",""),a("border","border-width","border-style","border-color"),"medium none"===x.border&&delete x.border,"none"===x["border-image"]&&delete x["border-image"]}return x},serialize:function(t,e){function n(e){var n,i,o,a;if(n=r[e])for(i=0,o=n.length;i<o;i++)e=n[i],(a=t[e])&&(l+=(l.length>0?" ":"")+e+": "+a+";")}function i(t,e){var n;return(!(n=a["*"])||!n[t])&&(!(n=a[e])||!n[t])}var o,s,l="";if(e&&r)n("*"),n(e);else for(o in t)!(s=t[o])||a&&!i(o,e)||(l+=(l.length>0?" ":"")+o+": "+s+";");return l}}}}),
/**
 * TreeWalker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/TreeWalker",[],function(){return function(t,e){function n(t,n,i,o){var r,a;if(t){if(!o&&t[n])return t[n];if(t!=e){if(r=t[i])return r;for(a=t.parentNode;a&&a!=e;a=a.parentNode)if(r=a[i])return r}}}function i(t,n,i,o){var r,a,s;if(t){if(r=t[i],e&&r===e)return;if(r){if(!o)for(s=r[n];s;s=s[n])if(!s[n])return s;return r}if((a=t.parentNode)&&a!==e)return a}}var o=t;this.current=function(){return o},this.next=function(t){return o=n(o,"firstChild","nextSibling",t)},this.prev=function(t){return o=n(o,"lastChild","previousSibling",t)},this.prev2=function(t){return o=i(o,"lastChild","previousSibling",t)}}}),
/**
 * Range.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Range",["tinymce/util/Tools"],function(t){function e(n){function i(){return L.createDocumentFragment()}function o(t,e){_(H,t,e)}function r(t,e){_(F,t,e)}function a(t){o(t.parentNode,V(t))}function s(t){o(t.parentNode,V(t)+1)}function l(t){r(t.parentNode,V(t))}function c(t){r(t.parentNode,V(t)+1)}function u(t){t?(I[W]=I[j],I[U]=I[z]):(I[j]=I[W],I[z]=I[U]),I.collapsed=H}function d(t){a(t),c(t)}function h(t){o(t,0),r(t,1===t.nodeType?t.childNodes.length:t.nodeValue.length)}function f(t,e){var n=I[j],i=I[z],o=I[W],r=I[U],a=e.startContainer,s=e.startOffset,l=e.endContainer,c=e.endOffset;return 0===t?x(n,i,a,s):1===t?x(o,r,a,s):2===t?x(o,r,l,c):3===t?x(n,i,l,c):void 0}function p(){k(B)}function m(){return k(O)}function g(){return k(M)}function v(t){var e,i,o=this[j],r=this[z];3!==o.nodeType&&4!==o.nodeType||!o.nodeValue?(o.childNodes.length>0&&(i=o.childNodes[r]),i?o.insertBefore(t,i):3==o.nodeType?n.insertAfter(t,o):o.appendChild(t)):r?r>=o.nodeValue.length?n.insertAfter(t,o):(e=o.splitText(r),o.parentNode.insertBefore(t,e)):o.parentNode.insertBefore(t,o)}function y(t){var e=I.extractContents();I.insertNode(t),t.appendChild(e),I.selectNode(t)}function b(){return q(new e(n),{startContainer:I[j],startOffset:I[z],endContainer:I[W],endOffset:I[U],collapsed:I.collapsed,commonAncestorContainer:I.commonAncestorContainer})}function w(t,e){var n;if(3==t.nodeType)return t;if(e<0)return t;for(n=t.firstChild;n&&e>0;)--e,n=n.nextSibling;return n||t}function C(){return I[j]==I[W]&&I[z]==I[U]}function x(t,e,i,o){var r,a,s,l,c,u;if(t==i)return e==o?0:e<o?-1:1;for(r=i;r&&r.parentNode!=t;)r=r.parentNode;if(r){for(a=0,s=t.firstChild;s!=r&&a<e;)a++,s=s.nextSibling;return e<=a?-1:1}for(r=t;r&&r.parentNode!=i;)r=r.parentNode;if(r){for(a=0,s=i.firstChild;s!=r&&a<o;)a++,s=s.nextSibling;return a<o?-1:1}for(l=n.findCommonAncestor(t,i),c=t;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=i;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==u)return 1;s=s.nextSibling}}function _(t,e,i){var o,r;for(t?(I[j]=e,I[z]=i):(I[W]=e,I[U]=i),o=I[W];o.parentNode;)o=o.parentNode;for(r=I[j];r.parentNode;)r=r.parentNode;r==o?x(I[j],I[z],I[W],I[U])>0&&I.collapse(t):I.collapse(t),I.collapsed=C(),I.commonAncestorContainer=n.findCommonAncestor(I[j],I[W])}function k(t){var e,n,i,o,r,a,s,l=0,c=0;if(I[j]==I[W])return T(t);for(n=(e=I[W]).parentNode;n;e=n,n=n.parentNode){if(n==I[j])return S(e,t);++l}for(n=(e=I[j]).parentNode;n;e=n,n=n.parentNode){if(n==I[W])return E(e,t);++c}for(i=c-l,o=I[j];i>0;)o=o.parentNode,i--;for(r=I[W];i<0;)r=r.parentNode,i++;for(a=o.parentNode,s=r.parentNode;a!=s;a=a.parentNode,s=s.parentNode)o=a,r=s;return A(o,r,t)}function T(t){var e,n,o,r,a,s,l,c;if(t!=B&&(e=i()),I[z]==I[U])return e;if(3==I[j].nodeType){if(n=I[j].nodeValue.substring(I[z],I[U]),t!=M&&(o=I[j],l=I[z],c=I[U]-I[z],0===l&&c>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(l,c),I.collapse(H)),t==B)return;return n.length>0&&e.appendChild(L.createTextNode(n)),e}for(o=w(I[j],I[z]),r=I[U]-I[z];o&&r>0;)a=o.nextSibling,s=R(o,t),e&&e.appendChild(s),--r,o=a;return t!=M&&I.collapse(H),e}function S(t,e){var n,o,r,a,s;if(e!=B&&(n=i()),o=$(t,e),n&&n.appendChild(o),(r=V(t)-I[z])<=0)return e!=M&&(I.setEndBefore(t),I.collapse(F)),n;for(o=t.previousSibling;r>0;)a=o.previousSibling,s=R(o,e),n&&n.insertBefore(s,n.firstChild),--r,o=a;return e!=M&&(I.setEndBefore(t),I.collapse(F)),n}function E(t,e){var n,o,r,a,s,l;for(e!=B&&(n=i()),r=D(t,e),n&&n.appendChild(r),o=V(t),++o,a=I[U]-o,r=t.nextSibling;r&&a>0;)s=r.nextSibling,l=R(r,e),n&&n.appendChild(l),--a,r=s;return e!=M&&(I.setStartAfter(t),I.collapse(H)),n}function A(t,e,n){var o,r,a,s,l,c;for(n!=B&&(r=i()),o=D(t,n),r&&r.appendChild(o),a=V(t),s=V(e)-++a,l=t.nextSibling;s>0;)c=l.nextSibling,o=R(l,n),r&&r.appendChild(o),l=c,--s;return o=$(e,n),r&&r.appendChild(o),n!=M&&(I.setStartAfter(t),I.collapse(H)),r}function $(t,e){var n,i,o,r,a,s=w(I[W],I[U]-1),l=s!=I[W];if(s==t)return N(s,l,F,e);for(i=N(n=s.parentNode,F,F,e);n;){for(;s;)o=s.previousSibling,r=N(s,l,F,e),e!=B&&i.insertBefore(r,i.firstChild),l=H,s=o;if(n==t)return i;s=n.previousSibling,a=N(n=n.parentNode,F,F,e),e!=B&&a.appendChild(i),i=a}}function D(t,e){var n,i,o,r,a,s=w(I[j],I[z]),l=s!=I[j];if(s==t)return N(s,l,H,e);for(i=N(n=s.parentNode,F,H,e);n;){for(;s;)o=s.nextSibling,r=N(s,l,H,e),e!=B&&i.appendChild(r),l=H,s=o;if(n==t)return i;s=n.nextSibling,a=N(n=n.parentNode,F,H,e),e!=B&&a.appendChild(i),i=a}}function N(t,e,i,o){var r,a,s,l,c;if(e)return R(t,o);if(3==t.nodeType){if(r=t.nodeValue,i?(l=I[z],a=r.substring(l),s=r.substring(0,l)):(l=I[U],a=r.substring(0,l),s=r.substring(l)),o!=M&&(t.nodeValue=s),o==B)return;return(c=n.clone(t,F)).nodeValue=a,c}return o!=B?n.clone(t,F):void 0}function R(t,e){if(e!=B)return e==M?n.clone(t,H):t;t.parentNode.removeChild(t)}function P(){return n.create("body",null,g()).outerText}var I=this,L=n.doc,O=0,M=1,B=2,H=!0,F=!1,z="startOffset",j="startContainer",W="endContainer",U="endOffset",q=t.extend,V=n.nodeIndex;return q(I,{startContainer:L,startOffset:0,endContainer:L,endOffset:0,collapsed:H,commonAncestorContainer:L,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:o,setEnd:r,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:c,collapse:u,selectNode:d,selectNodeContents:h,compareBoundaryPoints:f,deleteContents:p,extractContents:m,cloneContents:g,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:P}),I}return e.prototype.toString=function(){return this.toStringIE()},e}),
/**
 * Entities.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Entities",["tinymce/util/Tools"],function(t){function e(t){var e;return(e=document.createElement("div")).innerHTML=t,e.textContent||e.innerText||t}function n(t,e){var n,i,r,a={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),o[i]||(r="&"+t[n+1]+";",a[i]=r,a[r]=i);return a}}var i,o,r,a=t.makeMap,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,u=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};o={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},r={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var h={encodeRaw:function(t,e){return t.replace(e?s:l,function(t){return o[t]||t})},encodeAllRaw:function(t){return(""+t).replace(c,function(t){return o[t]||t})},encodeNumeric:function(t,e){return t.replace(e?s:l,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":o[t]||"&#"+t.charCodeAt(0)+";"})},encodeNamed:function(t,e,n){return n=n||i,t.replace(e?s:l,function(t){return o[t]||n[t]||t})},getEncodeFunc:function(t,e){function r(t,n){return t.replace(n?s:l,function(t){return o[t]||e[t]||"&#"+t.charCodeAt(0)+";"||t})}function c(t,n){return h.encodeNamed(t,n,e)}return e=n(e)||i,(t=a(t.replace(/\+/g,","))).named&&t.numeric?r:t.named?e?c:h.encodeNamed:t.numeric?h.encodeNumeric:h.encodeRaw},decode:function(t){return t.replace(u,function(t,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10))>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):d[n]||String.fromCharCode(n):r[t]||i[t]||e(t)})}};return h}),
/**
 * StyleSheetLoader.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(t,e){return function(n,i){function o(t){n.getElementsByTagName("head")[0].appendChild(t)}function r(i,r,c){function u(){for(var t=b.passed,e=t.length;e--;)t[e]();b.status=2,b.passed=[],b.failed=[]}function d(){for(var t=b.failed,e=t.length;e--;)t[e]();b.status=3,b.passed=[],b.failed=[]}function h(){var t=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(t&&t[1]<536)}function f(t,n){t()||((new Date).getTime()-y<a?e.setTimeout(n):d())}function p(){f(function(){for(var t,e,i=n.styleSheets,o=i.length;o--;)if((e=(t=i[o]).ownerNode?t.ownerNode:t.owningElement)&&e.id===g.id)return u(),!0},p)}function m(){f(function(){try{var t=v.sheet.cssRules;return u(),!!t}catch(e){}},m)}var g,v,y,b;if(i=t._addCacheSuffix(i),l[i]?b=l[i]:(b={passed:[],failed:[]},l[i]=b),r&&b.passed.push(r),c&&b.failed.push(c),1!=b.status)if(2!=b.status)if(3!=b.status){if(b.status=1,(g=n.createElement("link")).rel="stylesheet",g.type="text/css",g.id="u"+s++,g.async=!1,g.defer=!1,y=(new Date).getTime(),"onload"in g&&!h())g.onload=p,g.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return(v=n.createElement("style")).textContent='@import "'+i+'"',m(),void o(v);p()}o(g),g.href=i}else d();else u()}var a,s=0,l={};a=(i=i||{}).maxLoadTime||5e3,this.load=r}}),
/**
 * DOMUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(t,n,i,o,r,a,s,l,c,u){function d(t,e){var n,i={},o=e.keep_values;return n={set:function(n,i,o){e.url_converter&&(i=e.url_converter.call(e.url_converter_scope||t,i,o,n[0])),n.attr("data-mce-"+o,i).attr(o,i)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},i={style:{set:function(t,e){null===e||"object"!=typeof e?(o&&t.attr("data-mce-style",e),t.attr("style",e)):t.css(e)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serializeStyle(t.parseStyle(n),e[0].nodeName)}}},o&&(i.href=i.src=n),i}function h(t,e){var n=e.attr("style");(n=t.serializeStyle(t.parseStyle(n),e[0].nodeName))||(n=null),e.attr("data-mce-style",n)}function f(t,e){var n,i,o=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!=i||i!=n&&t.nodeValue.length)&&(o++,n=i);return o}function p(t,e){var r,a=this;a.doc=t,a.win=window,a.files={},a.counter=0,a.stdMode=!b||t.documentMode>=8,a.boxModel=!b||"CSS1Compat"==t.compatMode||a.stdMode,a.styleSheetLoader=new u(t),a.boundEvents=[],a.settings=e=e||{},a.schema=e.schema,a.styles=new i({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),a.fixDoc(t),a.events=e.ownEvents?new o(e.proxy):o.Event,a.attrHooks=d(a,e),r=e.schema?e.schema.getBlockElements():{},a.$=n.overrideDefaults(function(){return{context:t,element:a.getRoot()}}),a.isBlock=function(t){if(!t)return!1;var e=t.nodeType;return e?!(1!==e||!r[t.nodeName]):!!r[t]}}var m=c.each,g=c.is,v=c.grep,y=c.trim,b=l.ie,w=/^([a-z0-9],?)+$/i,C=/^[ \t\r\n]*$/;return p.prototype={$$:function(t){return"string"==typeof t&&(t=this.get(t)),this.$(t)},root:null,fixDoc:function(t){var e,n=this.settings;if(b&&n.schema)for(e in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)}),n.schema.getCustomElements())t.createElement(e)},clone:function(t,e){var n,i,o=this;return!b||1!==t.nodeType||e?t.cloneNode(e):(i=o.doc,e?n.firstChild:(n=i.createElement(t.nodeName),m(o.getAttribs(t),function(e){o.setAttrib(n,e.nodeName,o.getAttrib(t,e.nodeName))}),n))},getRoot:function(){var t=this;return t.settings.root_element||t.doc.body},getViewPort:function(t){var e,n;return e=(t=t||this.win).document,n=this.boxModel?e.documentElement:e.body,{x:t.pageXOffset||n.scrollLeft,y:t.pageYOffset||n.scrollTop,w:t.innerWidth||n.clientWidth,h:t.innerHeight||n.clientHeight}},getRect:function(t){var e,n,i=this;return t=i.get(t),e=i.getPos(t),n=i.getSize(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:function(t){var e,n,i=this;return t=i.get(t),e=i.getStyle(t,"width"),n=i.getStyle(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},getParent:function(t,e,n){return this.getParents(t,e,n,!1)},getParents:function(t,n,i,o){var r,a=this,s=[];for(t=a.get(t),o=o===e,i=i||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),g(n,"string")&&(r=n,n="*"===n?function(t){return 1==t.nodeType}:function(t){return a.is(t,r)});t&&t!=i&&t.nodeType&&9!==t.nodeType;){if(!n||n(t)){if(!o)return t;s.push(t)}t=t.parentNode}return o?s:null},get:function(t){var e;return t&&this.doc&&"string"==typeof t&&(e=t,(t=this.doc.getElementById(t))&&t.id!==e)?this.doc.getElementsByName(e)[1]:t},getNext:function(t,e){return this._findSib(t,e,"nextSibling")},getPrev:function(t,e){return this._findSib(t,e,"previousSibling")},select:function(e,n){var i=this;return t(e,i.get(n)||i.settings.root_element||i.doc,[])},is:function(n,i){var o;if(n.length===e){if("*"===i)return 1==n.nodeType;if(w.test(i)){for(i=i.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),o=i.length-1;o>=0;o--)if(i[o]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var r=n.nodeType?[n]:n;return t(i,r[0].ownerDocument||r[0],null,r).length>0},add:function(t,e,n,i,o){var r=this;return this.run(t,function(t){var a;return a=g(e,"string")?r.doc.createElement(e):e,r.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):r.setHTML(a,i)),o?a:t.appendChild(a)})},create:function(t,e,n){return this.add(this.doc.createElement(t),t,e,n,1)},createHTML:function(t,e,n){var i,o="";for(i in o+="<"+t,e)e.hasOwnProperty(i)&&null!==e[i]&&"undefined"!=typeof e[i]&&(o+=" "+i+'="'+this.encode(e[i])+'"');return void 0!==n?o+">"+n+"</"+t+">":o+" />"},createFragment:function(t){var e,n,i,o=this.doc;for(i=o.createElement("div"),e=o.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},remove:function(t,e){return t=this.$$(t),e?t.each(function(){for(var t;t=this.firstChild;)3==t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():t.remove(),t.length>1?t.toArray():t[0]},setStyle:function(t,e,n){t=this.$$(t).css(e,n),this.settings.update_styles&&h(this,t)},getStyle:function(t,n,i){return t=this.$$(t),i?t.css(n):("float"==(n=n.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}))&&(n=l.ie&&l.ie<12?"styleFloat":"cssFloat"),t[0]&&t[0].style?t[0].style[n]:e)},setStyles:function(t,e){t=this.$$(t).css(e),this.settings.update_styles&&h(this,t)},removeAllAttribs:function(t){return this.run(t,function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))})},setAttrib:function(t,e,n){var i,o,r=this,a=r.settings;""===n&&(n=null),i=(t=r.$$(t)).attr(e),t.length&&((o=r.attrHooks[e])&&o.set?o.set(t,n,e):t.attr(e,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:t,attrName:e,attrValue:n}))},setAttribs:function(t,e){var n=this;n.$$(t).each(function(t,i){m(e,function(t,e){n.setAttrib(i,e,t)})})},getAttrib:function(t,e,n){var i,o,r=this;return(t=r.$$(t)).length&&(o=(i=r.attrHooks[e])&&i.get?i.get(t,e):t.attr(e)),void 0===o&&(o=n||""),o},getPos:function(t,e){var i,o,r=this,a=0,s=0,l=r.doc,c=l.body;if(e=e||c,t=r.get(t)){if(e===c&&t.getBoundingClientRect&&"static"===n(c).css("position"))return o=t.getBoundingClientRect(),e=r.boxModel?l.documentElement:c,{x:a=o.left+(l.documentElement.scrollLeft||c.scrollLeft)-e.clientLeft,y:s=o.top+(l.documentElement.scrollTop||c.scrollTop)-e.clientTop};for(i=t;i&&i!=e&&i.nodeType;)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!=e&&i.nodeType;)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode}return{x:a,y:s}},parseStyle:function(t){return this.styles.parse(t)},serializeStyle:function(t,e){return this.styles.serialize(t,e)},addStyle:function(t){var e,n,i=this,o=i.doc;if(i!==p.DOM&&o===document){var r=p.DOM.addedStyles;if((r=r||[])[t])return;r[t]=!0,p.DOM.addedStyles=r}(n=o.getElementById("mceDefaultStyles"))||((n=o.createElement("style")).id="mceDefaultStyles",n.type="text/css",(e=o.getElementsByTagName("head")[0]).firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(o.createTextNode(t))},loadCSS:function(t){var e,n=this,i=n.doc;n===p.DOM||i!==document?(t||(t=""),e=i.getElementsByTagName("head")[0],m(t.split(","),function(t){var o;t=c._addCacheSuffix(t),n.files[t]||(n.files[t]=!0,o=n.create("link",{rel:"stylesheet",href:t}),b&&i.documentMode&&i.recalc&&(o.onload=function(){i.recalc&&i.recalc(),o.onload=null}),e.appendChild(o))})):p.DOM.loadCSS(t)},addClass:function(t,e){this.$$(t).addClass(e)},removeClass:function(t,e){this.toggleClass(t,e,!1)},hasClass:function(t,e){return this.$$(t).hasClass(e)},toggleClass:function(t,e,i){this.$$(t).toggleClass(e,i).each(function(){""===this.className&&n(this).attr("class",null)})},show:function(t){this.$$(t).show()},hide:function(t){this.$$(t).hide()},isHidden:function(t){return"none"==this.$$(t).css("display")},uniqueId:function(t){return(t||"mce_")+this.counter++},setHTML:function(t,e){t=this.$$(t),b?t.each(function(t,i){if(!1!==i.canHaveHTML){for(;i.firstChild;)i.removeChild(i.firstChild);try{i.innerHTML="<br>"+e,i.removeChild(i.firstChild)}catch(o){n("<div></div>").html("<br>"+e).contents().slice(1).appendTo(i)}return e}}):t.html(e)},getOuterHTML:function(t){return 1==(t=this.get(t)).nodeType&&"outerHTML"in t?t.outerHTML:n("<div></div>").append(n(t).clone()).html()},setOuterHTML:function(t,e){var i=this;i.$$(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}i.remove(n(this).html(e),!0)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(t,e){return e=this.get(e),this.run(t,function(t){var n,i;return n=e.parentNode,(i=e.nextSibling)?n.insertBefore(t,i):n.appendChild(t),t})},replace:function(t,e,n){return this.run(e,function(e){return g(e,"array")&&(t=t.cloneNode(!0)),n&&m(v(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,i=this;return t.nodeName!=e.toUpperCase()&&(n=i.create(e),m(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),i.replace(n,t,1)),n||t},findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:function(t){return this.styles.toHex(c.trim(t))},run:function(t,e,n){var i,o=this;return"string"==typeof t&&(t=o.get(t)),!!t&&(n=n||this,t.nodeType||!t.length&&0!==t.length?e.call(n,t):(i=[],m(t,function(t,r){t&&("string"==typeof t&&(t=o.get(t)),i.push(e.call(n,t,r)))}),i))},getAttribs:function(t){var e;if(!(t=this.get(t)))return[];if(b){if(e=[],"OBJECT"==t.nodeName)return t.attributes;"OPTION"===t.nodeName&&this.getAttrib(t,"selected")&&e.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return t.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(t){e.push({specified:1,nodeName:t})}),e}return t.attributes},isEmpty:function(t,e){var n,i,o,a,s,l,c=this,u=0;if(t=t.firstChild){s=new r(t,t.parentNode),e=e||(c.schema?c.schema.getNonEmptyElements():null),a=c.schema?c.schema.getWhiteSpaceElements():{};do{if(1===(o=t.nodeType)){var d=t.getAttribute("data-mce-bogus");if(d){t=s.next("all"===d);continue}if(l=t.nodeName.toLowerCase(),e&&e[l]){if("br"===l){u++,t=s.next();continue}return!1}for(n=(i=c.getAttribs(t)).length;n--;)if("name"===(l=i[n].nodeName)||"data-mce-bookmark"===l)return!1}if(8==o)return!1;if(3===o&&!C.test(t.nodeValue))return!1;if(3===o&&t.parentNode&&a[t.parentNode.nodeName]&&C.test(t.nodeValue))return!1;t=s.next()}while(t)}return u<=1},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new a(this)},nodeIndex:f,split:function(t,e,n){function i(t){function e(t){var e=t.previousSibling&&"SPAN"==t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"==t.nextSibling.nodeName;return e&&n}var n,o=t.childNodes,r=t.nodeType;if(1!=r||"bookmark"!=t.getAttribute("data-mce-type")){for(n=o.length-1;n>=0;n--)i(o[n]);if(9!=r){if(3==r&&t.nodeValue.length>0){var a=y(t.nodeValue).length;if(!s.isBlock(t.parentNode)||a>0||0===a&&e(t))return}else if(1==r&&(1==(o=t.childNodes).length&&o[0]&&1==o[0].nodeType&&"bookmark"==o[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(o[0],t),o.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;s.remove(t)}return t}}var o,r,a,s=this,l=s.createRng();if(t&&e)return l.setStart(t.parentNode,s.nodeIndex(t)),l.setEnd(e.parentNode,s.nodeIndex(e)),o=l.extractContents(),(l=s.createRng()).setStart(e.parentNode,s.nodeIndex(e)+1),l.setEnd(t.parentNode,s.nodeIndex(t)+1),r=l.extractContents(),(a=t.parentNode).insertBefore(i(o),t),n?a.insertBefore(n,t):a.insertBefore(e,t),a.insertBefore(i(r),t),s.remove(t),n||e},bind:function(t,e,n,i){var o=this;if(c.isArray(t)){for(var r=t.length;r--;)t[r]=o.bind(t[r],e,n,i);return t}return!o.settings.collect||t!==o.doc&&t!==o.win||o.boundEvents.push([t,e,n,i]),o.events.bind(t,e,n,i||o)},unbind:function(t,e,n){var i,o=this;if(c.isArray(t)){for(i=t.length;i--;)t[i]=o.unbind(t[i],e,n);return t}if(o.boundEvents&&(t===o.doc||t===o.win))for(i=o.boundEvents.length;i--;){var r=o.boundEvents[i];t!=r[0]||e&&e!=r[1]||n&&n!=r[2]||this.events.unbind(r[0],r[1],r[2])}return this.events.unbind(t,e,n)},fire:function(t,e,n){return this.events.fire(t,e,n)},getContentEditable:function(t){var e;return t&&1==t.nodeType?(e=t.getAttribute("data-mce-contenteditable"))&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null:null},getContentEditableParent:function(t){for(var e=this.getRoot(),n=null;t&&t!==e&&null===(n=this.getContentEditable(t));t=t.parentNode);return n},destroy:function(){var e=this;if(e.boundEvents){for(var n=e.boundEvents.length;n--;){var i=e.boundEvents[n];this.events.unbind(i[0],i[1],i[2])}e.boundEvents=null}t.setDocument&&t.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},_findSib:function(t,e,n){var i=this,o=e;if(t)for("string"==typeof o&&(o=function(t){return i.is(t,e)}),t=t[n];t;t=t[n])if(o(t))return t;return null}},p.DOM=new p(document),p.nodeIndex=f,p}),
/**
 * ScriptLoader.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(t,e){function n(){function t(t,n,o){function r(){u.remove(c),l&&(l.onreadystatechange=l.onload=l=null),n()}function s(){a(o)?o():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)}var l,c,u=i;c=u.uniqueId(),(l=document.createElement("script")).id=c,l.type="text/javascript",l.src=e._addCacheSuffix(t),"onreadystatechange"in l?l.onreadystatechange=function(){/loaded|complete/.test(l.readyState)&&r()}:l.onload=r,l.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(l)}var n,s=0,l=1,c=2,u=3,d={},h=[],f={},p=[],m=0;this.isDone=function(t){return d[t]==c},this.markDone=function(t){d[t]=c},this.add=this.load=function(t,e,i,o){d[t]==n&&(h.push(t),d[t]=s),e&&(f[t]||(f[t]=[]),f[t].push({success:e,failure:o,scope:i||this}))},this.remove=function(t){delete d[t],delete f[t]},this.loadQueue=function(t,e,n){this.loadScripts(h,t,e,n)},this.loadScripts=function(e,i,s,h){function g(t,e){o(f[e],function(e){a(e[t])&&e[t].call(e.scope)}),f[e]=n}var v,y=[];p.push({success:i,failure:h,scope:s||this}),(v=function(){var n=r(e);e.length=0,o(n,function(e){d[e]!==c?d[e]!==u?d[e]!==l&&(d[e]=l,m++,t(e,function(){d[e]=c,m--,g("success",e),v()},function(){d[e]=u,m--,y.push(e),g("failure",e),v()})):g("failure",e):g("success",e)}),m||(o(p,function(t){0===y.length?a(t.success)&&t.success.call(t.scope):a(t.failure)&&t.failure.call(t.scope,y)}),p.length=0)})()}}var i=t.DOM,o=e.each,r=e.grep,a=function(t){return"function"==typeof t};return n.ScriptLoader=new n,n}),
/**
 * AddOnManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(t,n){function i(){var t=this;t.items=[],t.urls={},t.lookup={}}var o=n.each;return i.prototype={get:function(t){return this.lookup[t]?this.lookup[t].instance:e},dependencies:function(t){var e;return this.lookup[t]&&(e=this.lookup[t].dependencies),e||[]},requireLangPack:function(e,n){var o=i.language;if(o&&!1!==i.languageLoad){if(n)if(-1!=(n=","+n+",").indexOf(","+o.substr(0,2)+","))o=o.substr(0,2);else if(-1==n.indexOf(","+o+","))return;t.ScriptLoader.add(this.urls[e]+"/langs/"+o+".js")}},add:function(t,e,n){return this.items.push(e),this.lookup[t]={instance:e,dependencies:n},e},remove:function(t){delete this.urls[t],delete this.lookup[t]},createUrl:function(t,e){return"object"==typeof e?e:{prefix:t.prefix,resource:e,suffix:t.suffix}},addComponents:function(e,n){var i=this.urls[e];o(n,function(e){t.ScriptLoader.add(i+"/"+e)})},load:function(n,r,a,s,l){function c(){var i=u.dependencies(n);o(i,function(t){var n=u.createUrl(r,t);u.load(n.resource,n,e,e)}),a&&(s?a.call(s):a.call(t))}var u=this,d=r;u.urls[n]||("object"==typeof r&&(d=r.prefix+r.resource+r.suffix),0!==d.indexOf("/")&&-1==d.indexOf("://")&&(d=i.baseURL+"/"+d),u.urls[n]=d.substring(0,d.lastIndexOf("/")),u.lookup[n]?c():t.ScriptLoader.add(d,c,s,l))}},i.PluginManager=new i,i.ThemeManager=new i,i}),
/**
 * NodeType.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/NodeType",[],function(){function t(t){return function(e){return!!e&&e.nodeType==t}}function e(t){return t=t.toLowerCase().split(" "),function(e){var n,i;if(e&&e.nodeType)for(i=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(i===t[n])return!0;return!1}}function n(t,e){return e=e.toLowerCase().split(" "),function(n){var i;if(s(n))for(i=0;i<e.length;i++)if(getComputedStyle(n,null).getPropertyValue(t)===e[i])return!0;return!1}}function i(t,e){return function(n){return s(n)&&n[t]===e}}function o(t,e){return function(n){return s(n)&&n.getAttribute(t)===e}}function r(t){return s(t)&&t.hasAttribute("data-mce-bogus")}function a(t){return function(e){if(s(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}var s=t(1);return{isText:t(3),isElement:s,isComment:t(8),isBr:e("br"),isContentEditableTrue:a("true"),isContentEditableFalse:a("false"),matchNodeNames:e,hasPropValue:i,hasAttributeValue:o,matchStyleValues:n,isBogus:r}}),
/**
 * Zwsp.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/text/Zwsp",[],function(){function t(t){return t==n}function e(t){return t.replace(new RegExp(n,"g"),"")}var n="\ufeff";return{isZwsp:t,ZWSP:n,trim:e}}),
/**
 * CaretContainer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(t,e){function n(t){return y(t)&&(t=t.parentNode),v(t)&&t.hasAttribute("data-mce-caret")}function i(t){return y(t)&&e.isZwsp(t.data)}function o(t){return n(t)||i(t)}function r(t){var e=t.parentNode;e&&e.removeChild(t)}function a(t){try{return t.nodeValue}catch(e){return""}}function s(t,e){0===e.length?r(t):t.nodeValue=e}function l(t,n){var i,r,a;if(r=t.ownerDocument.createTextNode(e.ZWSP),a=t.parentNode,n){if(i=t.previousSibling,y(i)){if(o(i))return i;if(p(i))return i.splitText(i.data.length-1)}a.insertBefore(r,t)}else{if(i=t.nextSibling,y(i)){if(o(i))return i;if(f(i))return i.splitText(1),i}t.nextSibling?a.insertBefore(r,t.nextSibling):a.appendChild(r)}return r}function c(){var t=document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t}function u(t,e,n){var i,o;return(i=e.ownerDocument.createElement(t)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(c()),o=e.parentNode,n?o.insertBefore(i,e):e.nextSibling?o.insertBefore(i,e.nextSibling):o.appendChild(i),i}function d(e){return e.firstChild!==e.lastChild||!t.isBr(e.firstChild)}function h(t){(v(t)&&o(t)&&(d(t)?t.removeAttribute("data-mce-caret"):r(t)),y(t))&&s(t,e.trim(a(t)))}function f(t){return y(t)&&t.data[0]==e.ZWSP}function p(t){return y(t)&&t.data[t.data.length-1]==e.ZWSP}function m(e){var n=e.getElementsByTagName("br"),i=n[n.length-1];t.isBogus(i)&&i.parentNode.removeChild(i)}function g(t){return t&&t.hasAttribute("data-mce-caret")?(m(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null}var v=t.isElement,y=t.isText;return{isCaretContainer:o,isCaretContainerBlock:n,isCaretContainerInline:i,showCaretContainerBlock:g,insertInline:l,insertBlock:u,hasContent:d,remove:h,startsWithCaretContainer:f,endsWithCaretContainer:p}}),
/**
 * RangeUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/dom/Range","tinymce/caret/CaretContainer"],function(t,e,n,i,o){function r(t){return m(t)||g(t)}function a(t,e){var n=t.childNodes;return--e>n.length-1?e=n.length-1:e<0&&(e=0),n[e]||t}function s(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}function l(t,e,n){return null!==s(t,e,n)}function c(t){return"_mce_caret"===t.id}function u(t,e){return v(t)&&!1===l(t,e,c)}function d(t){this.walk=function(e,n){function i(t){var e;return 3===(e=t[0]).nodeType&&e===g&&v>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===b&&t.length>0&&e===y&&3===e.nodeType&&t.splice(t.length-1,1),t}function o(t,e,n){for(var i=[];t&&t!=n;t=t[e])i.push(t);return i}function r(t,e){do{if(t.parentNode==e)return t;t=t.parentNode}while(t)}function s(t,e,r){var a=r?"nextSibling":"previousSibling";for(h=(d=t).parentNode;d&&d!=e;d=h)h=d.parentNode,(f=o(d==t?d:d[a],a)).length&&(r||f.reverse(),n(i(f)))}var l,c,u,d,h,f,m,g=e.startContainer,v=e.startOffset,y=e.endContainer,b=e.endOffset;if((m=t.select("td[data-mce-selected],th[data-mce-selected]")).length>0)p(m,function(t){n([t])});else{if(1==g.nodeType&&g.hasChildNodes()&&(g=g.childNodes[v]),1==y.nodeType&&y.hasChildNodes()&&(y=a(y,b)),g==y)return n(i([g]));for(l=t.findCommonAncestor(g,y),d=g;d;d=d.parentNode){if(d===y)return s(g,l,!0);if(d===l)break}for(d=y;d;d=d.parentNode){if(d===g)return s(y,l);if(d===l)break}c=r(g,l)||g,u=r(y,l)||y,s(g,c,!0),(f=o(c==g?c:c.nextSibling,"nextSibling",u==y?u.nextSibling:u)).length&&n(i(f)),s(y,u)}},this.split=function(t){function e(t,e){return t.splitText(e)}var n=t.startContainer,i=t.startOffset,o=t.endContainer,r=t.endOffset;return n==o&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(n=(o=e(n,i)).previousSibling,r>i?(n=o=e(o,r-=i).previousSibling,r=o.nodeValue.length,i=0):r=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=e(n,i),i=0),3==o.nodeType&&r>0&&r<o.nodeValue.length&&(r=(o=e(o,r).previousSibling).nodeValue.length)),{startContainer:n,startOffset:i,endContainer:o,endOffset:r}},this.normalize=function(n){function i(i){function a(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}function s(n,i){for(var o=new e(n,t.getParent(n.parentNode,t.isBlock)||C);n=o[i?"prev":"next"]();)if("BR"===n.nodeName)return!0}function l(t){for(;t&&t!=C;){if(g(t))return!0;t=t.parentNode}return!1}function c(t,e){return t.previousSibling&&t.previousSibling.nodeName==e}function d(n,i){var a,s,l;if(i=i||h,l=t.getParent(i.parentNode,t.isBlock)||C,n&&"BR"==i.nodeName&&w&&t.isEmpty(l))return h=i.parentNode,f=t.nodeIndex(i),void(o=!0);for(a=new e(i,l);m=a[n?"prev":"next"]();){if("false"===t.getContentEditableParent(m)||u(m,t.getRoot()))return;if(3===m.nodeType&&m.nodeValue.length>0)return h=m,f=n?m.nodeValue.length:0,void(o=!0);if(t.isBlock(m)||y[m.nodeName.toLowerCase()])return;s=m}r&&s&&(h=s,o=!0,f=0)}var h,f,p,m,y,b,w,C=t.getRoot();if(h=n[(i?"start":"end")+"Container"],f=n[(i?"start":"end")+"Offset"],w=1==h.nodeType&&f===h.childNodes.length,y=t.schema.getNonEmptyElements(),b=i,!v(h)){if(1==h.nodeType&&f>h.childNodes.length-1&&(b=!1),9===h.nodeType&&(h=t.getRoot(),f=0),h===C){if(b&&(m=h.childNodes[f>0?f-1:0])){if(v(m))return;if(y[m.nodeName]||"TABLE"==m.nodeName)return}if(h.hasChildNodes()){if(f=Math.min(!b&&f>0?f-1:f,h.childNodes.length-1),h=h.childNodes[f],f=0,!r&&h===C.lastChild&&"TABLE"===h.nodeName)return;if(l(h)||v(h))return;if(h.hasChildNodes()&&!/TABLE/.test(h.nodeName)){m=h,p=new e(h,C);do{if(g(m)||v(m)){o=!1;break}if(3===m.nodeType&&m.nodeValue.length>0){f=b?0:m.nodeValue.length,h=m,o=!0;break}if(y[m.nodeName.toLowerCase()]&&!a(m)){f=t.nodeIndex(m),h=m.parentNode,"IMG"!=m.nodeName||b||f++,o=!0;break}}while(m=b?p.next():p.prev())}}}r&&(3===h.nodeType&&0===f&&d(!0),1===h.nodeType&&((m=h.childNodes[f])||(m=h.childNodes[f-1]),!m||"BR"!==m.nodeName||c(m,"A")||s(m)||s(m,!0)||d(!0,m))),b&&!r&&3===h.nodeType&&f===h.nodeValue.length&&d(!1),o&&n["set"+(i?"Start":"End")](h,f)}}var o,r;return r=n.collapsed,i(!0),r||i(),o&&r&&n.collapse(!0),o}}function h(e,n,i){var o,r,a;if(o=i.elementFromPoint(e,n),r=i.body.createTextRange(),o&&"HTML"!=o.tagName||(o=i.body),r.moveToElementText(o),(a=(a=t.toArray(r.getClientRects())).sort(function(t,e){return(t=Math.abs(Math.max(t.top-n,t.bottom-n)))-(e=Math.abs(Math.max(e.top-n,e.bottom-n)))})).length>0){n=(a[0].bottom+a[0].top)/2;try{return r.moveToPoint(e,n),r.collapse(!0),r}catch(s){}}return null}function f(t,e){var n=t&&t.parentElement?t.parentElement():null;return g(s(n,e,r))?null:t}var p=t.each,m=n.isContentEditableTrue,g=n.isContentEditableFalse,v=o.isCaretContainer;return d.compareRanges=function(t,e){if(t&&e){if(!t.item&&!t.duplicate)return t.startContainer==e.startContainer&&t.startOffset==e.startOffset;if(t.item&&e.item&&t.item(0)===e.item(0))return!0;if(t.isEqual&&e.isEqual&&e.isEqual(t))return!0}return!1},d.getCaretRangeFromPoint=function(t,e,n){var i,o;if(n.caretPositionFromPoint)o=n.caretPositionFromPoint(t,e),(i=n.createRange()).setStart(o.offsetNode,o.offset),i.collapse(!0);else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(n.body.createTextRange){i=n.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(r){i=h(t,e,n)}return f(i,n.body)}return i},d.getSelectedNode=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset==n+1?e.childNodes[n]:null},d.getNode=function(t,e){return 1==t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},d}),
/**
 * NodeChange.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(t,e,n){return function(i){function o(t){var e,n;if((n=i.$(t).parentsUntil(i.getBody()).add(t)).length===a.length){for(e=n.length;e>=0&&n[e]===a[e];e--);if(-1===e)return a=n,!0}return a=n,!1}var r,a=[];"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",function(e){var n,o;o={startContainer:(n=i.selection.getRng()).startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=e.type&&t.compareRanges(o,r)||i.fire("SelectionChange"),r=o}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var t=i.selection.getStart(!0);!e.range&&i.selection.isCollapsed()||!o(t)&&i.dom.isChildOf(t,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("MouseUp",function(t){t.isDefaultPrevented()||("IMG"==i.selection.getNode().nodeName?n.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())}),this.nodeChanged=function(t){var e,n,o,r=i.selection;i.initialized&&r&&!i.settings.disable_nodechange&&!i.readonly&&(o=i.getBody(),(e=r.getStart()||o).ownerDocument==i.getDoc()&&i.dom.isChildOf(e,o)||(e=o),"IMG"==e.nodeName&&r.isCollapsed()&&(e=e.parentNode),n=[],i.dom.getParent(e,function(t){if(t===o)return!0;n.push(t)}),(t=t||{}).element=e,t.parents=n,i.fire("NodeChange",t))}}}),
/**
 * Node.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Node",[],function(){function t(t,e,n){var i,o,r=n?"lastChild":"firstChild",a=n?"prev":"next";if(t[r])return t[r];if(t!==e){if(i=t[a])return i;for(o=t.parent;o&&o!==e;o=o.parent)if(i=o[a])return i}}function e(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return e.prototype={replace:function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},attr:function(t,e){var n,i,o,r=this;if("string"!=typeof t){for(i in t)r.attr(i,t[i]);return r}if(n=r.attributes){if(e!==o){if(null===e){if(t in n.map)for(delete n.map[t],i=n.length;i--;)if(n[i].name===t)return n=n.splice(i,1),r;return r}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,r}return n.map[t]}},clone:function(){var t,n,i,o,r,a=this,s=new e(a.name,a.type);if(i=a.attributes){for((r=[]).map={},t=0,n=i.length;t<n;t++)"id"!==(o=i[t]).name&&(r[r.length]={name:o.name,value:o.value},r.map[o.name]=o.value);s.attributes=r}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},unwrap:function(){var t,e,n=this;for(t=n.firstChild;t;)e=t.next,n.insert(t,n,!0),t=e;n.remove()},remove:function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):i.next=n,e.lastChild===t?(e.lastChild=i,i&&(i.next=null)):n.prev=i,t.parent=t.next=t.prev=null),t},append:function(t){var e,n=this;return t.parent&&t.remove(),(e=n.lastChild)?(e.next=t,t.prev=e,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},insert:function(t,e,n){var i;return t.parent&&t.remove(),i=e.parent||this,n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},getAll:function(e){var n,i=this,o=[];for(n=i.firstChild;n;n=t(n,i))n.name===e&&o.push(n);return o},empty:function(){var e,n,i,o=this;if(o.firstChild){for(e=[],i=o.firstChild;i;i=t(i,o))e.push(i);for(n=e.length;n--;)(i=e[n]).parent=i.firstChild=i.lastChild=i.next=i.prev=null}return o.firstChild=o.lastChild=null,o},isEmpty:function(e,i){var o,r,a=this,s=a.firstChild;if(i=i||{},s)do{if(1===s.type){if(s.attributes.map["data-mce-bogus"])continue;if(e[s.name])return!1;for(o=s.attributes.length;o--;)if("name"===(r=s.attributes[o].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===s.type)return!1;if(3===s.type&&!n.test(s.value))return!1;if(3===s.type&&s.parent&&i[s.parent.name]&&n.test(s.value))return!1}while(s=t(s,a));return!0},walk:function(e){return t(this,null,e)}},e.create=function(t,n){var o,r;if(o=new e(t,i[t]||1),n)for(r in n)o.attr(r,n[r]);return o},e}),
/**
 * Schema.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Schema",["tinymce/util/Tools"],function(t){function e(e,n){return(e=t.trim(e))?e.split(n||" "):[]}function n(t){function n(t,n,i){function o(t,e){var n,i,o={};for(n=0,i=t.length;n<i;n++)o[t[n]]=e||{};return o}var s,l,c;for(n=n||"","string"==typeof(i=i||[])&&(i=e(i)),s=(t=e(t)).length;s--;)c={attributes:o(l=e([a,n].join(" "))),attributesOrder:l,children:o(i,r)},f[t[s]]=c}function i(t,n){var i,o,r,a;for(i=(t=e(t)).length,n=e(n);i--;)for(o=f[t[i]],r=0,a=n.length;r<a;r++)o.attributes[n[r]]={},o.attributesOrder.push(n[r])}var a,l,c,u,d,h,f={};return o[t]?o[t]:(a="id accesskey class dir lang style tabindex title",l="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",c="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=t&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",l+=" article aside details dialog figure header footer hgroup section nav",c+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=t&&(a+=" xml:lang",c=[c,h="acronym applet basefont big font strike tt"].join(" "),s(e(h),function(t){n(t,"",c)}),l=[l,d="center dir isindex noframes"].join(" "),u=[l,c].join(" "),s(e(d),function(t){n(t,"",u)})),u=u||[l,c].join(" "),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u),n("address dt dd div caption","",u),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),n("blockquote","cite",u),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",u),n("dl","","dt dd"),n("a","href target rel media hreflang type",c),n("q","cite",c),n("ins del","cite datetime",u),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",u),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",[u,"param"].join(" ")),n("param","name value"),n("map","name",[u,"area"].join(" ")),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==t?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",u),n("th","colspan rowspan headers scope abbr",u),n("form","accept-charset action autocomplete enctype method name novalidate target",u),n("fieldset","disabled form name",[u,"legend"].join(" ")),n("label","form for",c),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==t?u:c),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",[u,"li"].join(" ")),n("noscript","",u),"html4"!=t&&(n("wbr"),n("ruby","",[c,"rt rp"].join(" ")),n("figcaption","",u),n("mark rt rp summary bdi","",c),n("canvas","width height",u),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[u,"track source"].join(" ")),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[u,"track source"].join(" ")),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",[c,"option"].join(" ")),n("article section nav aside header footer","",u),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",[u,"figcaption"].join(" ")),n("time","datetime",c),n("dialog","open",u),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",c),n("progress","value max",c),n("meter","value min max low high optimum",c),n("details","open",[u,"summary"].join(" ")),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=t&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select","onchange"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!=t&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("iframe","sandbox seamless allowfullscreen")),s(e("a form meter progress dfn"),function(t){f[t]&&delete f[t].children[t]}),delete f.caption.children.table,delete f.script,o[t]=f,f)}function i(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),s(t,function(t,i){n[i]=n[i.toUpperCase()]="map"==e?a(t,/[, ]/):c(t,/[, ]/)})),n}var o={},r={},a=t.makeMap,s=t.each,l=t.extend,c=t.explode,u=t.inArray;return function(t){function r(e,n,i){var r=t[e];return r?r=a(r,/[, ]/,a(r.toUpperCase(),/[, ]/)):(r=o[e])||(r=a(n," ",a(n.toUpperCase()," ")),r=l(r,i),o[e]=r),r}function d(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")}function h(t){var n,i,o,r,s,l,c,h,f,p,m,g,v,y,b,w,C,x,_,k=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,T=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(t)for(t=e(t,","),N["@"]&&(w=N["@"].attributes,C=N["@"].attributesOrder),n=0,i=t.length;n<i;n++)if(s=k.exec(t[n])){if(y=s[1],f=s[2],b=s[3],h=s[5],l={attributes:g={},attributesOrder:v=[]},"#"===y&&(l.paddEmpty=!0),"-"===y&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),w){for(x in w)g[x]=w[x];v.push.apply(v,C)}if(h)for(o=0,r=(h=e(h,"|")).length;o<r;o++)if(s=T.exec(h[o])){if(c={},m=s[1],p=s[2].replace(/::/g,":"),y=s[3],_=s[4],"!"===m&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(p),c.required=!0),"-"===m){delete g[p],v.splice(u(v,p),1);continue}y&&("="===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:p,value:_}),c.defaultValue=_),":"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:p,value:_}),c.forcedValue=_),"<"===y&&(c.validValues=a(_,"?"))),S.test(p)?(l.attributePatterns=l.attributePatterns||[],c.pattern=d(p),l.attributePatterns.push(c)):(g[p]||v.push(p),g[p]=c)}w||"@"!=f||(w=g,C=v),b&&(l.outputName=f,N[b]=l),S.test(f)?(l.pattern=d(f),P.push(l)):N[f]=l}}function f(t){N={},P=[],h(t),s(b,function(t,e){R[e]=t.children})}function p(t){var n=/^(~)?(.+)$/;t&&(o.text_block_elements=o.block_elements=null,s(e(t,","),function(t){var e=n.exec(t),i="~"===e[1],o=i?"span":"div",r=e[2];if(R[r]=R[o],I[r]=o,i||(T[r.toUpperCase()]={},T[r]={}),!N[r]){var a=N[o];delete(a=l({},a)).removeEmptyAttrs,delete a.removeEmpty,N[r]=a}s(R,function(t,e){t[o]&&(R[e]=t=l({},R[e]),t[r]=t[o])})}))}function m(n){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;o[t.schema]=null,n&&s(e(n,","),function(t){var n,o,r=i.exec(t);r&&(o=r[1],n=o?R[r[2]]:R[r[2]]={"#comment":{}},n=R[r[2]],s(e(r[3],"|"),function(t){"-"===o?delete n[t]:n[t]={}}))})}function g(t){var e,n=N[t];if(n)return n;for(e=P.length;e--;)if((n=P[e]).pattern.test(t))return n}var v,y,b,w,C,x,_,k,T,S,E,A,$,D=this,N={},R={},P=[],I={},L={};b=n((t=t||{}).schema),!1===t.verify_html&&(t.valid_elements="*[*]"),v=i(t.valid_styles),y=i(t.invalid_styles,"map"),k=i(t.valid_classes,"map"),w=r("whitespace_elements","pre script noscript style textarea video audio iframe object code"),C=r("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),x=r("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),_=r("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),S=r("non_empty_elements","td th iframe video audio object script pre code",x),E=r("move_caret_before_on_enter_elements","table",S),A=r("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),T=r("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",A),$=r("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),s((t.special||"script noscript style textarea").split(" "),function(t){L[t]=new RegExp("</"+t+"[^>]*>","gi")}),t.valid_elements?f(t.valid_elements):(s(b,function(t,e){N[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},R[e]=t.children}),"html5"!=t.schema&&s(e("strong/b em/i"),function(t){t=e(t,"/"),N[t[1]].outputName=t[0]}),s(e("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){N[t]&&(N[t].removeEmpty=!0)}),s(e("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(t){N[t].paddEmpty=!0}),s(e("span"),function(t){N[t].removeEmptyAttrs=!0})),p(t.custom_elements),m(t.valid_children),h(t.extended_valid_elements),m("+ol[ul|ol],+ul[ul|ol]"),s({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(t,n){N[n]&&(N[n].parentsRequired=e(t))}),t.invalid_elements&&s(c(t.invalid_elements),function(t){N[t]&&delete N[t]}),g("span")||h("span[!data-mce-type|*]"),D.children=R,D.getValidStyles=function(){return v},D.getInvalidStyles=function(){return y},D.getValidClasses=function(){return k},D.getBoolAttrs=function(){return _},D.getBlockElements=function(){return T},D.getTextBlockElements=function(){return A},D.getTextInlineElements=function(){return $},D.getShortEndedElements=function(){return x},D.getSelfClosingElements=function(){return C},D.getNonEmptyElements=function(){return S},D.getMoveCaretBeforeOnEnterElements=function(){return E},D.getWhiteSpaceElements=function(){return w},D.getSpecialElements=function(){return L},D.isValidChild=function(t,e){var n=R[t];return!(!n||!n[e])},D.isValid=function(t,e){var n,i,o=g(t);if(o){if(!e)return!0;if(o.attributes[e])return!0;if(n=o.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},D.getElementRule=g,D.getCustomElements=function(){return I},D.addValidElements=h,D.setValidElements=f,D.addCustomElements=p,D.addValidChildren=m,D.elements=N}}),
/**
 * SaxParser.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(t,e,n){function i(t,e,n){var i,o,r,a,s=1;for(a=t.getShortEndedElements(),(r=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;o=r.exec(e);){if(i=r.lastIndex,"/"===o[1])s--;else if(!o[1]){if(o[2]in a)continue;s++}if(0===s)break}return i}function o(o,a){function s(){}var l=this;o=o||{},l.schema=a=a||new t,!1!==o.fix_self_closing&&(o.fix_self_closing=!0),r("comment cdata text start end pi doctype".split(" "),function(t){t&&(l[t]=o[t]||s)}),l.parse=function(t){function r(t){var e,n;for(e=B.length;e--&&B[e].name!==t;);if(e>=0){for(n=B.length-1;n>=e;n--)(t=B[n]).valid&&O.end(t.name);B.length=e}}function s(t,e,n,i,r){var a,s,l=/[\s\u0000-\u001F]+/g;if(n=(e=e.toLowerCase())in y?e:F(n||i||r||""),w&&!m&&0!==e.indexOf("data-")){if(!(a=T[e])&&S){for(s=S.length;s--&&!(a=S[s]).pattern.test(e););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(z[e]&&!o.allow_script_urls){var c=n.replace(l,"");try{c=decodeURIComponent(c)}catch(u){c=unescape(c)}if(j.test(c))return;if(!o.allow_html_data_urls&&W.test(c)&&!/^data:image\//i.test(c))return}d.map[e]=n,d.push({name:e,value:n})}var l,c,u,d,h,f,p,m,g,v,y,b,w,C,x,_,k,T,S,E,A,$,D,N,R,P,I,L,O=this,M=0,B=[],H=0,F=e.decode,z=n.makeMap("src,href,data,background,formaction,poster"),j=/((java|vb)script|mhtml):/i,W=/^data:/i;for(N=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),R=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,v=a.getShortEndedElements(),D=o.self_closing_elements||a.getSelfClosingElements(),y=a.getBoolAttrs(),w=o.validate,g=o.remove_internals,L=o.fix_self_closing,P=a.getSpecialElements();l=N.exec(t);){if(M<l.index&&O.text(F(t.substr(M,l.index-M))),c=l[6])":"===(c=c.toLowerCase()).charAt(0)&&(c=c.substr(1)),r(c);else if(c=l[7]){if(":"===(c=c.toLowerCase()).charAt(0)&&(c=c.substr(1)),b=c in v,L&&D[c]&&B.length>0&&B[B.length-1].name===c&&r(c),!w||(C=a.getElementRule(c))){if(x=!0,w&&(T=C.attributes,S=C.attributePatterns),(k=l[8])?((m=-1!==k.indexOf("data-mce-type"))&&g&&(x=!1),(d=[]).map={},k.replace(R,s)):(d=[]).map={},w&&!m){if(E=C.attributesRequired,A=C.attributesDefault,$=C.attributesForced,C.removeEmptyAttrs&&!d.length&&(x=!1),$)for(h=$.length;h--;)p=(_=$[h]).name,"{$uid}"===(I=_.value)&&(I="mce_"+H++),d.map[p]=I,d.push({name:p,value:I});if(A)for(h=A.length;h--;)(p=(_=A[h]).name)in d.map||("{$uid}"===(I=_.value)&&(I="mce_"+H++),d.map[p]=I,d.push({name:p,value:I}));if(E){for(h=E.length;h--&&!(E[h]in d.map););-1===h&&(x=!1)}if(_=d.map["data-mce-bogus"]){if("all"===_){M=i(a,t,N.lastIndex),N.lastIndex=M;continue}x=!1}}x&&O.start(c,d,b)}else x=!1;if(u=P[c]){u.lastIndex=M=l.index+l[0].length,(l=u.exec(t))?(x&&(f=t.substr(M,l.index-M)),M=l.index+l[0].length):(f=t.substr(M),M=t.length),x&&(f.length>0&&O.text(f,!0),O.end(c)),N.lastIndex=M;continue}b||(k&&k.indexOf("/")==k.length-1?x&&O.end(c):B.push({name:c,valid:x}))}else(c=l[1])?(">"===c.charAt(0)&&(c=" "+c),o.allow_conditional_comments||"[if"!==c.substr(0,3).toLowerCase()||(c=" "+c),O.comment(c)):(c=l[2])?O.cdata(c):(c=l[3])?O.doctype(c):(c=l[4])&&O.pi(c,l[5]);M=l.index+l[0].length}for(M<t.length&&O.text(F(t.substr(M))),h=B.length-1;h>=0;h--)(c=B[h]).valid&&O.end(c.name)}}var r=n.each;return o.findEndTag=i,o}),
/**
 * DomParser.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(t,e,n,i){var o=i.makeMap,r=i.each,a=i.explode,s=i.extend,l=function(e,n){e.padd_empty_with_br?n.empty().append(new t("br","1")).shortEnded=!0:n.empty().append(new t("#text","3")).value="\xa0"},c=function(t,e){return t&&t.firstChild===t.lastChild&&t.firstChild.name===e};return function(u,d){function h(e){var n,i,r,a,s,l,u,h,p,m,g,v,y,b,w,C;for(v=o("tr,td,th,tbody,thead,tfoot,table"),m=d.getNonEmptyElements(),g=d.getWhiteSpaceElements(),y=d.getTextBlockElements(),b=d.getSpecialElements(),n=0;n<e.length;n++)if((i=e[n]).parent&&!i.fixed)if(y[i.name]&&"li"==i.parent.name){for(w=i.next;w&&y[w.name];)w.name="li",w.fixed=!0,i.parent.insert(w,i.parent),w=w.next;i.unwrap(i)}else{for(a=[i],r=i.parent;r&&!d.isValidChild(r.name,i.name)&&!v[r.name];r=r.parent)a.push(r);if(r&&a.length>1){for(a.reverse(),s=l=f.filterNode(a[0].clone()),p=0;p<a.length-1;p++){for(d.isValidChild(l.name,a[p].name)?(u=f.filterNode(a[p].clone()),l.append(u)):u=l,h=a[p].firstChild;h&&h!=a[p+1];)C=h.next,u.append(h),h=C;l=u}s.isEmpty(m,g)?r.insert(i,a[0],!0):(r.insert(s,a[0],!0),r.insert(i,s)),((r=a[0]).isEmpty(m,g)||c(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if((w=i.prev)&&("ul"===w.name||"ul"===w.name)){w.append(i);continue}if((w=i.next)&&("ul"===w.name||"ul"===w.name)){w.insert(i,w.firstChild,!0);continue}i.wrap(f.filterNode(new t("ul",1)));continue}d.isValidChild(i.parent.name,"div")&&d.isValidChild("div",i.name)?i.wrap(f.filterNode(new t("div",1))):b[i.name]?i.empty().remove():i.unwrap()}}}var f=this,p={},m=[],g={},v={};(u=u||{}).validate=!("validate"in u)||u.validate,u.root_name=u.root_name||"body",f.schema=d=d||new e,f.filterNode=function(t){var e,n,i;n in p&&((i=g[n])?i.push(t):g[n]=[t]),e=m.length;for(;e--;)(n=m[e].name)in t.attributes.map&&((i=v[n])?i.push(t):v[n]=[t]);return t},f.addNodeFilter=function(t,e){r(a(t),function(t){var n=p[t];n||(p[t]=n=[]),n.push(e)})},f.addAttributeFilter=function(t,e){r(a(t),function(t){var n;for(n=0;n<m.length;n++)if(m[n].name===t)return void m[n].callbacks.push(e);m.push({name:t,callbacks:[e]})})},f.parse=function(e,i){function r(){function t(t){t&&((i=t.firstChild)&&3==i.type&&(i.value=i.value.replace(D,"")),(i=t.lastChild)&&3==i.type&&(i.value=i.value.replace(R,"")))}var e,n,i=b.firstChild;if(d.isValidChild(b.name,B.toLowerCase())){for(;i;)e=i.next,3==i.type||1==i.type&&"p"!==i.name&&!$[i.name]&&!i.attr("data-mce-type")?n?n.append(i):((n=a(B,1)).attr(u.forced_root_block_attrs),b.insert(n,i),n.append(i)):(t(n),n=null),i=e;t(n)}}function a(e,n){var i,o=new t(e,n);return e in p&&((i=g[e])?i.push(o):g[e]=[o]),o}function c(t){var e,n,i,o,r=d.getBlockElements();for(e=t.prev;e&&3===e.type;){if((i=e.value.replace(R,"")).length>0)return void(e.value=i);if(n=e.next){if(3==n.type&&n.value.length){e=e.prev;continue}if(!r[n.name]&&"script"!=n.name&&"style"!=n.name){e=e.prev;continue}}o=e.prev,e.remove(),e=o}}function f(t){var e,n={};for(e in t)"li"!==e&&"p"!=e&&(n[e]=t[e]);return n}var y,b,w,C,x,_,k,T,S,E,A,$,D,N,R,P,I,L,O,M,B,H=[];if(i=i||{},g={},v={},$=s(o("script,style,head,html,body,title,meta,param"),d.getBlockElements()),M=d.getNonEmptyElements(),O=d.children,A=u.validate,B="forced_root_block"in i?i.forced_root_block:u.forced_root_block,L=d.getWhiteSpaceElements(),D=/^[ \t\r\n]+/,R=/[ \t\r\n]+$/,P=/[ \t\r\n]+/g,I=/^[ \t\r\n]+$/,y=new n({validate:A,allow_script_urls:u.allow_script_urls,allow_conditional_comments:u.allow_conditional_comments,self_closing_elements:f(d.getSelfClosingElements()),cdata:function(t){w.append(a("#cdata",4)).value=t},text:function(t,e){var n;N||(t=t.replace(P," "),w.lastChild&&$[w.lastChild.name]&&(t=t.replace(D,""))),0!==t.length&&((n=a("#text",3)).raw=!!e,w.append(n).value=t)},comment:function(t){w.append(a("#comment",8)).value=t},pi:function(t,e){w.append(a(t,7)).value=e,c(w)},doctype:function(t){w.append(a("#doctype",10)).value=t,c(w)},start:function(t,e,n){var i,o,r,s,l;if(r=A?d.getElementRule(t):{}){for((i=a(r.outputName||t,1)).attributes=e,i.shortEnded=n,w.append(i),(l=O[w.name])&&O[i.name]&&!l[i.name]&&H.push(i),o=m.length;o--;)(s=m[o].name)in e.map&&((S=v[s])?S.push(i):v[s]=[i]);$[t]&&c(i),n||(w=i),!N&&L[t]&&(N=!0)}},end:function(t){var e,n,i,o,r;if(n=A?d.getElementRule(t):{}){if($[t]&&!N){if((e=w.firstChild)&&3===e.type)if((i=e.value.replace(D,"")).length>0)e.value=i,e=e.next;else for(o=e.next,e.remove(),e=o;e&&3===e.type;)i=e.value,o=e.next,(0===i.length||I.test(i))&&(e.remove(),e=o),e=o;if((e=w.lastChild)&&3===e.type)if((i=e.value.replace(R,"")).length>0)e.value=i,e=e.prev;else for(o=e.prev,e.remove(),e=o;e&&3===e.type;)i=e.value,o=e.prev,(0===i.length||I.test(i))&&(e.remove(),e=o),e=o}if(N&&L[t]&&(N=!1),(n.removeEmpty||n.paddEmpty)&&w.isEmpty(M,L))if(n.paddEmpty)l(u,w);else if(!w.attributes.map.name&&!w.attributes.map.id)return r=w.parent,$[w.name]?w.empty().remove():w.unwrap(),void(w=r);w=w.parent}}},d),b=w=new t(i.context||u.root_name,11),y.parse(e),A&&H.length&&(i.context?i.invalid=!0:h(H)),B&&("body"==b.name||i.isRootContent)&&r(),!i.invalid){for(E in g){for(S=p[E],k=(C=g[E]).length;k--;)C[k].parent||C.splice(k,1);for(x=0,_=S.length;x<_;x++)S[x](C,E,i)}for(x=0,_=m.length;x<_;x++)if((S=m[x]).name in v){for(k=(C=v[S.name]).length;k--;)C[k].parent||C.splice(k,1);for(k=0,T=S.callbacks.length;k<T;k++)S.callbacks[k](C,S.name,i)}}return b},u.remove_trailing_brs&&f.addNodeFilter("br",function(e){var n,i,o,r,a,c,h,f,p=e.length,m=s({},d.getBlockElements()),g=d.getNonEmptyElements(),v=d.getNonEmptyElements();for(m.body=1,n=0;n<p;n++)if(o=(i=e[n]).parent,m[i.parent.name]&&i===o.lastChild){for(a=i.prev;a;){if("span"!==(c=a.name)||"bookmark"!==a.attr("data-mce-type")){if("br"!==c)break;if("br"===c){i=null;break}}a=a.prev}i&&(i.remove(),o.isEmpty(g,v)&&(h=d.getElementRule(o.name))&&(h.removeEmpty?o.remove():h.paddEmpty&&l(u,o)))}else{for(r=i;o&&o.firstChild===r&&o.lastChild===r&&(r=o,!m[o.name]);)o=o.parent;r===o&&!0!==u.padd_empty_with_br&&((f=new t("#text",3)).value="\xa0",i.replace(f))}}),u.allow_unsafe_link_target||f.addAttributeFilter("href",function(t){function e(t){return(t=n(t))?[t,l].join(" "):l}function n(t){var e=new RegExp("("+l.replace(" ","|")+")","g");return t&&(t=i.trim(t.replace(e,""))),t||null}function o(t,i){return i?e(t):n(t)}for(var r,a,s=t.length,l="noopener noreferrer";s--;)a=(r=t[s]).attr("rel"),"a"===r.name&&r.attr("rel",o(a,"_blank"==r.attr("target")))}),u.allow_html_in_named_anchor||f.addAttributeFilter("id,name",function(t){for(var e,n,i,o,r=t.length;r--;)if("a"===(o=t[r]).name&&o.firstChild&&!o.attr("href")){i=o.parent,e=o.lastChild;do{n=e.prev,i.insert(e,o),e=n}while(e)}}),u.fix_list_elements&&f.addNodeFilter("ul,ol",function(e){for(var n,i,o=e.length;o--;)if("ul"===(i=(n=e[o]).parent).name||"ol"===i.name)if(n.prev&&"li"===n.prev.name)n.prev.append(n);else{var r=new t("li",1);r.attr("style","list-style-type: none"),n.wrap(r)}}),u.validate&&d.getValidClasses()&&f.addAttributeFilter("class",function(t){for(var e,n,i,o,r,a,s,l=t.length,c=d.getValidClasses();l--;){for(n=(e=t[l]).attr("class").split(" "),r="",i=0;i<n.length;i++)o=n[i],s=!1,(a=c["*"])&&a[o]&&(s=!0),a=c[e.name],!s&&a&&a[o]&&(s=!0),s&&(r&&(r+=" "),r+=o);r.length||(r=null),e.attr("class",r)}})}}),
/**
 * Writer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(t,e){var n=e.makeMap;return function(e){var i,o,r,a,s,l=[];return i=(e=e||{}).indent,o=n(e.indent_before||""),r=n(e.indent_after||""),a=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="html"==e.element_format,{start:function(t,e,n){var c,u,d,h;if(i&&o[t]&&l.length>0&&(h=l[l.length-1]).length>0&&"\n"!==h&&l.push("\n"),l.push("<",t),e)for(c=0,u=e.length;c<u;c++)d=e[c],l.push(" ",d.name,'="',a(d.value,!0),'"');l[l.length]=!n||s?">":" />",n&&i&&r[t]&&l.length>0&&(h=l[l.length-1]).length>0&&"\n"!==h&&l.push("\n")},end:function(t){var e;l.push("</",t,">"),i&&r[t]&&l.length>0&&(e=l[l.length-1]).length>0&&"\n"!==e&&l.push("\n")},text:function(t,e){t.length>0&&(l[l.length]=e?t:a(t))},cdata:function(t){l.push("<![CDATA[",t,"]]>")},comment:function(t){l.push("<!--",t,"-->")},pi:function(t,e){e?l.push("<?",t," ",a(e),"?>"):l.push("<?",t,"?>"),i&&l.push("\n")},doctype:function(t){l.push("<!DOCTYPE",t,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),
/**
 * Serializer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(t,e){return function(n,i){var o=this,r=new t(n);(n=n||{}).validate=!("validate"in n)||n.validate,o.schema=i=i||new e,o.writer=r,o.serialize=function(t){function e(t){var n,s,l,c,u,d,h,f,p,m=o[t.type];if(m)m(t);else{if(n=t.name,s=t.shortEnded,l=t.attributes,a&&l&&l.length>1&&((d=[]).map={},p=i.getElementRule(t.name))){for(h=0,f=p.attributesOrder.length;h<f;h++)(c=p.attributesOrder[h])in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(h=0,f=l.length;h<f;h++)(c=l[h].name)in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(r.start(t.name,l,s),!s){if(t=t.firstChild)do{e(t)}while(t=t.next);r.end(n)}}}var o,a;return a=n.validate,o={3:function(t){r.text(t.value,t.raw)},8:function(t){r.comment(t.value)},7:function(t){r.pi(t.name,t.value)},10:function(t){r.doctype(t.value)},4:function(t){r.cdata(t.value)},11:function(t){if(t=t.firstChild)do{e(t)}while(t=t.next)}},r.reset(),1!=t.type||n.inner?o[11](t):e(t),r.getContent()}}}),
/**
 * Serializer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/SaxParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools","tinymce/text/Zwsp"],function(t,e,n,i,o,r,a,s,l,c){function u(t){function e(t){return t&&"br"===t.name}var n,i;e(n=t.lastChild)&&e(i=n.prev)&&(n.remove(),i.remove())}var d=l.each,h=l.trim,f=t.DOM;return function(t,r){function p(t){var e=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+C.join("|")+')="[^"]+"'].join("|"),"gi");return t=c.trim(t.replace(e,""))}function m(t){var e,i,o,a,s,l=t,c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=r.schema;for(l=p(l),s=u.getShortEndedElements();a=c.exec(l);)i=c.lastIndex,o=a[0].length,e=s[a[1]]?i:n.findEndTag(u,l,i),l=l.substring(0,i-o)+l.substring(e),c.lastIndex=i-o;return l}function g(){return m(r.getBody().innerHTML)}function v(t){-1===l.inArray(C,t)&&(w.addAttributeFilter(t,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),C.push(t))}var y,b,w,C=["data-mce-selected"];return r&&(y=r.dom,b=r.schema),y=y||f,b=b||new a(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs,(w=new e(t,b)).addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)(n=t[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(e,null)}),w.addAttributeFilter("src,href,style",function(e,n){for(var i,o,r,a=e.length,s="data-mce-"+n,l=t.url_converter,c=t.url_converter_scope;a--;)(o=(i=e[a]).attributes.map[s])!==r?(i.attr(n,o.length>0?o:null),i.attr(s,null)):(o=i.attributes.map[n],"style"===n?o=y.serializeStyle(y.parseStyle(o),i.name):l&&(o=l.call(c,o,n,i.name)),i.attr(n,o.length>0?o:null))}),w.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)(n=(e=t[i]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))}),w.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,o=t.length;o--;)"bookmark"!==(i=t[o]).attributes.map["data-mce-type"]||n.cleanup||i.remove()}),w.addNodeFilter("noscript",function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=i.decode(e.value))}),w.addNodeFilter("script,style",function(t,e){function n(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,o,r,a=t.length;a--;)o=(i=t[a]).firstChild?i.firstChild.value:"","script"===e?((r=i.attr("type"))&&i.attr("type","mce-no/type"==r?null:r.replace(/^mce\-/,"")),o.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(o)+"\n// ]]>")):o.length>0&&(i.firstChild.value="<!--\n"+n(o)+"\n-->")}),w.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)0===(e=t[n]).value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),w.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)7===(n=t[i]).type?n.remove():1===n.type&&("input"!==e||"type"in n.attributes.map||n.attr("type","text"))}),w.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),{schema:b,addNodeFilter:w.addNodeFilter,addAttributeFilter:w.addAttributeFilter,serialize:function(e,n){var i,r,a,l,f,p,m=this;return s.ie&&y.select("script,style,select,map").length>0?(f=e.innerHTML,e=e.cloneNode(!1),y.setHTML(e,f)):e=e.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(r=i.createHTMLDocument(""),d("BODY"==e.nodeName?e.childNodes:[e],function(t){r.body.appendChild(r.importNode(t,!0))}),e="BODY"!=e.nodeName?r.body.firstChild:r.body,a=y.doc,y.doc=r),(n=n||{}).format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=e,m.onPreProcess(n)),u(p=w.parse(h(n.getInner?e.innerHTML:y.getOuterHTML(e)),n)),l=new o(t,b),n.content=l.serialize(p),n.cleanup||(n.content=c.trim(n.content),n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||m.onPostProcess(n),a&&(y.doc=a),n.node=null,n.content},addRules:function(t){b.addValidElements(t)},setRules:function(t){b.setValidElements(t)},onPreProcess:function(t){r&&r.fire("PreProcess",t)},onPostProcess:function(t){r&&r.fire("PostProcess",t)},addTempAttr:v,trimHtml:p,getTrimmedContent:g,trimContent:m}}}),
/**
 * TridentSelection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/TridentSelection",[],function(){function t(t){function e(e,n){var i,o,r,a,s,l,c,u,d=0,h=-1;if((i=e.duplicate()).collapse(n),(u=i.parentElement()).ownerDocument===t.dom.doc){for(;"false"===u.contentEditable;)u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(o=(a=u.children).length-1;d<=o;)if(s=a[c=Math.floor((d+o)/2)],i.moveToElementText(s),(h=i.compareEndPoints(n?"StartToStart":"EndToEnd",e))>0)o=c-1;else{if(!(h<0))return{node:s};d=c+1}if(h<0)for(s?i.collapse(!1):(i.moveToElementText(u),i.collapse(!0),s=u,r=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",e)&&0!==i.move("character",1)&&u==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",e)&&0!==i.move("character",-1)&&u==i.parentElement();)l++;return{node:s,position:h,offset:l,inside:r}}}function n(){function n(t){var n,i,o,r,a,s=e(u,t),l=0;if(n=s.node,i=s.offset,!s.inside||n.hasChildNodes())if(i!==r){if(s.position<0){if(!(o=s.inside?n.firstChild:n.nextSibling))return void d[t?"setStartAfter":"setEndAfter"](n);if(!i)return void(3==o.nodeType?d[t?"setStart":"setEnd"](o,0):d[t?"setStartBefore":"setEndBefore"](o));for(;o;){if(3==o.nodeType&&(l+=(a=o.nodeValue).length)>=i){n=o,l-=i,l=a.length-l;break}o=o.nextSibling}}else{if(!(o=n.previousSibling))return d[t?"setStartBefore":"setEndBefore"](n);if(!i)return void(3==n.nodeType?d[t?"setStart":"setEnd"](o,n.nodeValue.length):d[t?"setStartAfter":"setEndAfter"](o));for(;o;){if(3==o.nodeType&&(l+=o.nodeValue.length)>=i){n=o,l-=i;break}o=o.previousSibling}}d[t?"setStart":"setEnd"](n,l)}else d[t?"setStartBefore":"setEndAfter"](n);else d[t?"setStart":"setEnd"](n,0)}var r,a,s,l,c,u=t.getRng(),d=o.createRng();if((r=u.item?u.item(0):u.parentElement()).ownerDocument!=o.doc)return d;if(a=t.isCollapsed(),u.item)return d.setStart(r.parentNode,o.nodeIndex(r)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),a||n()}catch(h){if(-2147024809!=h.number)throw h;c=i.getBookmark(2),(s=u.duplicate()).collapse(!0),r=s.parentElement(),a||((s=u.duplicate()).collapse(!1),(l=s.parentElement()).innerHTML=l.innerHTML),r.innerHTML=r.innerHTML,i.moveToBookmark(c),u=t.getRng(),n(!0),a||n()}return d}var i=this,o=t.dom,r=!1;this.getBookmark=function(n){function i(t){var e,n,i,r,a=[];for(e=t.parentNode,n=o.getRoot().parentNode;e!=n&&9!==e.nodeType;){for(r=(i=e.children).length;r--;)if(t===i[r]){a.push(r);break}t=e,e=e.parentNode}return a}function r(t){var n;if(n=e(a,t))return{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}}var a=t.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=r(!0),t.isCollapsed()||(s.end=r()))),s},this.moveToBookmark=function(t){function e(t){var e,n,i,r;for(e=o.getRoot(),n=t.length-1;n>=0;n--)r=e.children,(i=t[n])<=r.length-1&&(e=r[i]);return e}function n(n){var o,a,s,l,c=t[n?"start":"end"];c&&(o=c.position>0,(a=r.createTextRange()).moveToElementText(e(c.indexes)),(l=c.offset)!==s?(a.collapse(c.inside||o),a.moveStart("character",o?-l:l)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,r=o.doc.body;t.start&&(t.start.ctrl?((i=r.createControlRange()).addElement(e(t.start.indexes)),i.select()):(i=r.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(e){function n(t){var e,n,a,d,h;a=o.create("a"),e=t?s:c,n=t?l:u,d=i.duplicate(),e!=p&&e!=p.documentElement||(e=m,n=0),3==e.nodeType?(e.parentNode.insertBefore(a,e),d.moveToElementText(a),d.moveStart("character",n),o.remove(a),i.setEndPoint(t?"StartToStart":"EndToEnd",d)):((h=e.childNodes).length?(n>=h.length?o.insertAfter(a,h[h.length-1]):e.insertBefore(a,h[n]),d.moveToElementText(a)):e.canHaveHTML&&(e.innerHTML="<span>&#xFEFF;</span>",a=e.firstChild,d.moveToElementText(a),d.collapse(r)),i.setEndPoint(t?"StartToStart":"EndToEnd",d),o.remove(a))}var i,a,s,l,c,u,d,h,f,p=t.dom.doc,m=p.body;if(s=e.startContainer,l=e.startOffset,c=e.endContainer,u=e.endOffset,i=m.createTextRange(),s==c&&1==s.nodeType){if(l==u&&!s.hasChildNodes()){if(s.canHaveHTML)return(d=s.previousSibling)&&!d.hasChildNodes()&&o.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(s.lastChild),i.select(),o.doc.selection.clear(),s.innerHTML="",void(d&&(d.innerHTML=""));l=o.nodeIndex(s),s=s.parentNode}if(l==u-1)try{if(f=s.childNodes[l],(a=m.createControlRange()).addElement(f),a.select(),(h=t.getRng()).item&&f===h.item(0))return}catch(g){}}n(!0),n(),i.select()},this.getRangeAt=n}return t}),
/**
 * VK.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/VK",["tinymce/Env"],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),
/**
 * ControlSelection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(t,e,n,i,o){function r(t,e){for(;e&&e!=t;){if(s(e)||a(e))return e;e=e.parentNode}return null}var a=o.isContentEditableFalse,s=o.isContentEditableTrue;return function(o,s){function l(t){var e=s.settings.object_resizing;return!1!==e&&!i.iOS&&("string"!=typeof e&&(e="table,img,div"),"false"!==t.getAttribute("data-mce-resize")&&(t!=s.getBody()&&s.dom.is(t,e)))}function c(e){var n,i,o,r;n=e.screenX-N,i=e.screenY-R,H=n*$[2]+L,F=i*$[3]+O,H=H<5?5:H,F=F<5?5:F,("IMG"==T.nodeName&&!1!==s.settings.resize_img_proportional?!t.modifierPressed(e):t.modifierPressed(e)||"IMG"==T.nodeName&&$[2]*$[3]!=0)&&(Y(n)>Y(i)?(F=G(H*M),H=G(F/M)):(H=G(F/M),F=G(H*M))),W.setStyles(S,{width:H,height:F}),o=(o=$.startPos.x+n)>0?o:0,r=(r=$.startPos.y+i)>0?r:0,W.setStyles(E,{left:o,top:r,display:"block"}),E.innerHTML=H+" &times; "+F,$[2]<0&&S.clientWidth<=H&&W.setStyle(S,"left",P+(L-H)),$[3]<0&&S.clientHeight<=F&&W.setStyle(S,"top",I+(O-F)),(n=J.scrollWidth-z)+(i=J.scrollHeight-j)!==0&&W.setStyles(E,{left:o-n,top:r-i}),B||(s.fire("ObjectResizeStart",{target:T,width:L,height:O}),B=!0)}function u(){function t(t,e){e&&(T.style[t]||!s.schema.isValid(T.nodeName.toLowerCase(),t)?W.setStyle(T,t,e):W.setAttrib(T,t,e))}B=!1,t("width",H),t("height",F),W.unbind(q,"mousemove",c),W.unbind(q,"mouseup",u),V!=q&&(W.unbind(V,"mousemove",c),W.unbind(V,"mouseup",u)),W.remove(S),W.remove(E),X&&"TABLE"!=T.nodeName||d(T),s.fire("ObjectResized",{target:T,width:H,height:F}),W.setAttrib(T,"style",W.getAttrib(T,"style")),s.nodeChanged()}function d(t,e,n){var o,r,a,d,f;h(),C(),o=W.getPos(t,J),P=o.x,I=o.y,f=t.getBoundingClientRect(),r=f.width||f.right-f.left,a=f.height||f.bottom-f.top,T!=t&&(w(),T=t,H=F=0),d=s.fire("ObjectSelected",{target:t}),l(t)&&!d.isDefaultPrevented()?U(A,function(t,o){function s(e){N=e.screenX,R=e.screenY,L=T.clientWidth,O=T.clientHeight,M=O/L,$=t,t.startPos={x:r*t[0]+P,y:a*t[1]+I},z=J.scrollWidth,j=J.scrollHeight,S=T.cloneNode(!0),W.addClass(S,"mce-clonedresizable"),W.setAttrib(S,"data-mce-bogus","all"),S.contentEditable=!1,S.unSelectabe=!0,W.setStyles(S,{left:P,top:I,margin:0}),S.removeAttribute("data-mce-selected"),J.appendChild(S),W.bind(q,"mousemove",c),W.bind(q,"mouseup",u),V!=q&&(W.bind(V,"mousemove",c),W.bind(V,"mouseup",u)),E=W.add(J,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},L+" &times; "+O)}var l;e?o==e&&s(n):((l=W.get("mceResizeHandle"+o))&&W.remove(l),l=W.add(J,"div",{id:"mceResizeHandle"+o,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+o+"-resize; margin:0; padding:0"}),i.ie&&(l.contentEditable=!1),W.bind(l,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),s(t)}),t.elm=l,W.setStyles(l,{left:r*t[0]+P-l.offsetWidth/2,top:a*t[1]+I-l.offsetHeight/2}))}):h(),T.setAttribute("data-mce-selected","1")}function h(){var t,e;for(t in C(),T&&T.removeAttribute("data-mce-selected"),A)(e=W.get("mceResizeHandle"+t))&&(W.unbind(e),W.remove(e))}function f(t){function e(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)}var n,i;B||s.removed||(U(W.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),i="mousedown"==t.type?t.target:o.getNode(),e(i=W.$(i).closest(X?"table":"table,img,hr")[0],J)&&(x(),e(n=o.getStart(!0),i)&&e(o.getEnd(!0),i)&&(!X||i!=n&&"IMG"!==n.nodeName))?d(i):h())}function p(t,e,n){t&&t.attachEvent&&t.attachEvent("on"+e,n)}function m(t,e,n){t&&t.detachEvent&&t.detachEvent("on"+e,n)}function g(t){var e,n,i,o,r,a,l,c=t.srcElement;for(n in e=c.getBoundingClientRect(),a=D.clientX-e.left,l=D.clientY-e.top,A)if(i=A[n],o=c.offsetWidth*i[0],r=c.offsetHeight*i[1],Y(o-a)<8&&Y(r-l)<8){$=i;break}B=!0,s.fire("ObjectResizeStart",{target:T,width:T.clientWidth,height:T.clientHeight}),s.getDoc().selection.empty(),d(c,n,D)}function v(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function y(t){return a(r(s.getBody(),t))}function b(t){var e=t.srcElement;if(y(e))v(t);else if(e!=T){if(s.fire("ObjectSelected",{target:e}),w(),0===e.id.indexOf("mceResizeHandle"))return void(t.returnValue=!1);"IMG"!=e.nodeName&&"TABLE"!=e.nodeName||(h(),T=e,p(e,"resizestart",g))}}function w(){m(T,"resizestart",g)}function C(){for(var t in A){var e=A[t];e.elm&&(W.unbind(e.elm),delete e.elm)}}function x(){try{s.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}}function _(t){var e;if(X){e=q.body.createControlRange();try{return e.addElement(t),e.select(),!0}catch(n){}}}function k(){T=S=null,X&&(w(),m(J,"controlselect",b))}var T,S,E,A,$,D,N,R,P,I,L,O,M,B,H,F,z,j,W=s.dom,U=e.each,q=s.getDoc(),V=document,X=i.ie&&i.ie<11,Y=Math.abs,G=Math.round,J=s.getBody();A={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var K=".mce-content-body";return s.contentStyles.push(K+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+K+" .mce-resizehandle:hover {background: #000}"+K+" img[data-mce-selected],"+K+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+K+" .mce-clonedresizable {position: absolute;"+(i.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+K+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),s.on("init",function(){X?(s.on("ObjectResized",function(t){"TABLE"!=t.target.nodeName&&(h(),_(t.target))}),p(J,"controlselect",b),s.on("mousedown",function(t){D=t})):(x(),i.ie>=11&&(s.on("mousedown click",function(t){var e=t.target,n=e.nodeName;B||!/^(TABLE|IMG|HR)$/.test(n)||y(e)||(s.selection.select(e,"TABLE"==n),"mousedown"==t.type&&s.nodeChanged())}),s.dom.bind(J,"mscontrolselect",function(t){function e(t){n.setEditorTimeout(s,function(){s.selection.select(t)})}if(y(t.target))return t.preventDefault(),void e(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"==t.target.tagName&&e(t.target))})));var t=n.throttle(function(t){s.composing||f(t)});s.on("nodechange ResizeEditor ResizeWindow drop",t),s.on("keyup compositionend",function(e){T&&"TABLE"==T.nodeName&&t(e)}),s.on("hide blur",h)}),s.on("remove",C),{isResizable:l,showResizeRect:d,hideResizeRect:h,updateResizeRect:f,controlSelect:_,destroy:k}}}),
/**
 * Fun.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Fun",[],function(){function t(t){return function(){return t}}function e(t){return function(e){return!t(e)}}function n(t,e){return function(n){return t(e(n))}}function i(){var t=s.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}}function o(){var t=s.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}}function r(t){var e=s.call(arguments);return e.length-1>=t.length?t.apply(this,e.slice(1)):function(){var t=e.concat([].slice.call(arguments));return r.apply(this,t)}}function a(){}var s=[].slice;return{constant:t,negate:e,and:o,or:i,curry:r,compose:n,noop:a}}),
/**
 * CaretCandidate.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(t,e,n){function i(t){return!m(t)&&(d(t)?!h(t.parentNode):f(t)||u(t)||p(t)||c(t))}function o(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode){if(c(t))return!1;if(l(t))return!0}return!0}function r(t){return!!c(t)&&!0!==e.reduce(t.getElementsByTagName("*"),function(t,e){return t||l(e)},!1)}function a(t){return f(t)||r(t)}function s(t,e){return i(t)&&o(t,e)}var l=t.isContentEditableTrue,c=t.isContentEditableFalse,u=t.isBr,d=t.isText,h=t.matchNodeNames("script style textarea"),f=t.matchNodeNames("img input textarea hr iframe video audio object"),p=t.matchNodeNames("table"),m=n.isCaretContainer;return{isCaretCandidate:i,isInEditable:o,isAtomic:a,isEditableCaretCandidate:s}}),
/**
 * ClientRect.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/geom/ClientRect",[],function(){function t(t){return t?{left:u(t.left),top:u(t.top),bottom:u(t.bottom),right:u(t.right),width:u(t.width),height:u(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function e(e,n){return e=t(e),n?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e}function n(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right}function i(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2}function o(t,e){return t.bottom<e.top||!(t.top>e.bottom)&&i(e.top-t.bottom,t,e)}function r(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&i(e.bottom-t.top,t,e)}function a(t,e){return t.left<e.left}function s(t,e){return t.right>e.right}function l(t,e){return o(t,e)?-1:r(t,e)?1:a(t,e)?-1:s(t,e)?1:0}function c(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}var u=Math.round;return{clone:t,collapse:e,isEqual:n,isAbove:o,isBelow:r,isLeft:a,isRight:s,compare:l,containsXY:c}}),
/**
 * ExtendingChar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/text/ExtendingChar",[],function(){function t(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&e.test(t)}var e=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:t}}),
/**
 * CaretPosition.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretPosition",["tinymce/util/Fun","tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/dom/RangeUtils","tinymce/caret/CaretCandidate","tinymce/geom/ClientRect","tinymce/text/ExtendingChar"],function(t,e,n,i,o,r,a){function s(t){return"createRange"in t?t.createRange():n.DOM.createRng()}function l(t){return t&&/[\r\n\t ]/.test(t)}function c(t){var e,n=t.startContainer,i=t.startOffset;return!(!l(t.toString())||!v(n.parentNode)||!l((e=n.data)[i-1])&&!l(e[i+1]))}function u(t){function e(t){var e,n=t.ownerDocument,i=s(n),o=n.createTextNode("\xa0"),a=t.parentNode;return a.insertBefore(o,t),i.setStart(o,0),i.setEnd(o,1),e=r.clone(i.getBoundingClientRect()),a.removeChild(o),e}function n(t){var n,i;return n=(i=t.getClientRects()).length>0?r.clone(i[0]):r.clone(t.getBoundingClientRect()),b(t)&&0===n.left?e(t):n}function i(t,e){return(t=r.collapse(t,e)).width=1,t.right=t.left+1,t}function o(t){0!==t.height&&(f.length>0&&r.isEqual(t,f[f.length-1])||f.push(t))}function l(t,e){var r=s(t.ownerDocument);if(e<t.data.length){if(a.isExtendingChar(t.data[e]))return f;if(a.isExtendingChar(t.data[e-1])&&(r.setStart(t,e),r.setEnd(t,e+1),!c(r)))return o(i(n(r),!1)),f}e>0&&(r.setStart(t,e-1),r.setEnd(t,e),c(r)||o(i(n(r),!1))),e<t.data.length&&(r.setStart(t,e),r.setEnd(t,e+1),c(r)||o(i(n(r),!0)))}var u,d,f=[];if(y(t.container()))return l(t.container(),t.offset()),f;if(h(t.container()))if(t.isAtEnd())d=C(t.container(),t.offset()),y(d)&&l(d,d.data.length),g(d)&&!b(d)&&o(i(n(d),!1));else{if(d=C(t.container(),t.offset()),y(d)&&l(d,0),g(d)&&t.isAtEnd())return o(i(n(d),!1)),f;u=C(t.container(),t.offset()-1),g(u)&&!b(u)&&(p(u)||p(d)||!g(d))&&o(i(n(u),!1)),g(d)&&o(i(n(d),!0))}return f}function d(e,n,i){function o(){return y(e),0===n}function r(){return y(e)?n>=e.data.length:n>=e.childNodes.length}function a(){var t;return(t=s(e.ownerDocument)).setStart(e,n),t.setEnd(e,n),t}function l(){return i||(i=u(new d(e,n))),i}function c(){return l().length>0}function h(t){return t&&e===t.container()&&n===t.offset()}function f(t){return C(e,t?n-1:n)}return{container:t.constant(e),offset:t.constant(n),toRange:a,getClientRects:l,isVisible:c,isAtStart:o,isAtEnd:r,isEqual:h,getNode:f}}var h=e.isElement,f=o.isCaretCandidate,p=e.matchStyleValues("display","block table"),m=e.matchStyleValues("float","left right"),g=t.and(h,f,t.negate(m)),v=t.negate(e.matchStyleValues("white-space","pre pre-line pre-wrap")),y=e.isText,b=e.isBr,w=n.nodeIndex,C=i.getNode;return d.fromRangeStart=function(t){return new d(t.startContainer,t.startOffset)},d.fromRangeEnd=function(t){return new d(t.endContainer,t.endOffset)},d.after=function(t){return new d(t.parentNode,w(t)+1)},d.before=function(t){return new d(t.parentNode,w(t))},d}),
/**
 * CaretBookmark.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(t,e,n,i,o){function r(t){var e=t.parentNode;return v(e)?r(e):e}function a(t){return t?i.reduce(t.childNodes,function(t,e){return v(e)&&"BR"!=e.nodeName?t=t.concat(a(e)):t.push(e),t},[]):[]}function s(t,e){for(;(t=t.previousSibling)&&g(t);)e+=t.data.length;return e}function l(t){return function(e){return t===e}}function c(e){var n,o,s;return n=a(r(e)),o=i.findIndex(n,l(e),e),n=n.slice(0,o+1),s=i.reduce(n,function(t,e,i){return g(e)&&g(n[i-1])&&t++,t},0),n=i.filter(n,t.matchNodeNames(e.nodeName)),(o=i.findIndex(n,l(e),e))-s}function u(t){return(g(t)?"text()":t.nodeName.toLowerCase())+"["+c(t)+"]"}function d(t,e,n){var i=[];for(e=e.parentNode;e!=t&&(!n||!n(e));e=e.parentNode)i.push(e);return i}function h(e,o){var r,a,l,c,h,f=[];return r=o.container(),a=o.offset(),g(r)?l=s(r,a):(a>=(c=r.childNodes).length?(l="after",a=c.length-1):l="before",r=c[a]),f.push(u(r)),h=d(e,r),h=i.filter(h,n.negate(t.isBogus)),(f=f.concat(i.map(h,function(t){return u(t)}))).reverse().join("/")+","+l}function f(e,n,o){var r=a(e);return r=i.filter(r,function(t,e){return!g(t)||!g(r[e-1])}),(r=i.filter(r,t.matchNodeNames(n)))[o]}function p(t,e){for(var n,i=t,r=0;g(i);){if(n=i.data.length,e>=r&&e<=r+n){t=i,e-=r;break}if(!g(i.nextSibling)){t=i,e=n;break}r+=n,i=i.nextSibling}return e>t.data.length&&(e=t.data.length),new o(t,e)}function m(t,e){var n,r,a;return e?(e=(n=e.split(","))[0].split("/"),a=n.length>1?n[1]:"before",(r=i.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),f(t,e[1],parseInt(e[2],10))):null},t))?g(r)?p(r,parseInt(a,10)):(a="after"===a?y(r)+1:y(r),new o(r.parentNode,a)):null):null}var g=t.isText,v=t.isBogus,y=e.nodeIndex;return{create:h,resolve:m}}),
/**
 * BookmarkManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretContainer","tinymce/caret/CaretBookmark","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils"],function(t,e,n,i,o,r,a){function s(s){var c=s.dom;this.getBookmark=function(t,u){function d(t,n){var i=0;return e.each(c.select(t),function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!=n&&void i++}),i}function h(t){function e(e){var n,i,o,r=e?"start":"end";n=t[r+"Container"],i=t[r+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(n=(o=n.childNodes)[Math.min(e?i:i-1,o.length-1)])&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i))}return e(!0),e(),t}function f(t){function e(t,e){var i,o,r=t[e?"startContainer":"endContainer"],a=t[e?"startOffset":"endOffset"],s=[],l=0;if(3==r.nodeType){if(u)for(i=r.previousSibling;i&&3==i.nodeType;i=i.previousSibling)a+=i.nodeValue.length;s.push(a)}else a>=(o=r.childNodes).length&&o.length&&(l=1,a=Math.max(0,o.length-1)),s.push(c.nodeIndex(o[a],u)+l);for(;r&&r!=n;r=r.parentNode)s.push(c.nodeIndex(r,u));return s}var n=c.getRoot(),i={};return i.start=e(t,!0),s.isCollapsed()||(i.end=e(t)),i}function p(t){function e(t,e){var i;if(r.isElement(t)&&(t=a.getNode(t,e),l(t)))return t;if(n.isCaretContainer(t)){if(r.isText(t)&&n.isCaretContainerBlock(t)&&(t=t.parentNode),i=t.previousSibling,l(i))return i;if(i=t.nextSibling,l(i))return i}}return e(t.startContainer,t.startOffset)||e(t.endContainer,t.endOffset)}var m,g,v,y,b,w,C,x="&#xFEFF;";if(2==t)return b=(w=s.getNode())?w.nodeName:null,m=s.getRng(),l(w)||"IMG"==b?{name:b,index:d(b,w)}:s.tridentSel?s.tridentSel.getBookmark(t):(w=p(m))?{name:b=w.tagName,index:d(b,w)}:f(m);if(3==t)return m=s.getRng(),{start:i.create(c.getRoot(),o.fromRangeStart(m)),end:i.create(c.getRoot(),o.fromRangeEnd(m))};if(t)return{rng:s.getRng()};if(m=s.getRng(),v=c.uniqueId(),y=s.isCollapsed(),C="overflow:hidden;line-height:0px",m.duplicate||m.item){if(m.item)return{name:b=(w=m.item(0)).nodeName,index:d(b,w)};g=m.duplicate();try{m.collapse(),m.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_start" style="'+C+'">'+x+"</span>"),y||(g.collapse(!1),m.moveToElementText(g.parentElement()),0===m.compareEndPoints("StartToEnd",g)&&g.move("character",-1),g.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_end" style="'+C+'">'+x+"</span>"))}catch(_){return null}}else{if("IMG"==(b=(w=s.getNode()).nodeName))return{name:b,index:d(b,w)};g=h(m.cloneRange()),y||(g.collapse(!1),g.insertNode(c.create("span",{"data-mce-type":"bookmark",id:v+"_end",style:C},x))),(m=h(m)).collapse(!0),m.insertNode(c.create("span",{"data-mce-type":"bookmark",id:v+"_start",style:C},x))}return s.moveToBookmark({id:v,keep:1}),{id:v}},this.moveToBookmark=function(n){function o(t){var e,i,o,r,a=n[t?"start":"end"];if(a){for(o=a[0],i=d,e=a.length-1;e>=1;e--){if(r=i.childNodes,a[e]>r.length-1)return;i=r[a[e]]}3===i.nodeType&&(o=Math.min(a[0],i.nodeValue.length)),1===i.nodeType&&(o=Math.min(a[0],i.childNodes.length)),t?u.setStart(i,o):u.setEnd(i,o)}return!0}function r(i){var o,r,a,s,l=c.get(n.id+"_"+i),u=n.keep;if(l&&(o=l.parentNode,"start"==i?(u?(o=l.firstChild,r=1):r=c.nodeIndex(l),h=f=o,p=m=r):(u?(o=l.firstChild,r=1):r=c.nodeIndex(l),f=o,m=r),!u)){for(s=l.previousSibling,a=l.nextSibling,e.each(e.grep(l.childNodes),function(t){3==t.nodeType&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});l=c.get(n.id+"_"+i);)c.remove(l,1);s&&a&&s.nodeType==a.nodeType&&3==s.nodeType&&!t.opera&&(r=s.nodeValue.length,s.appendData(a.nodeValue),c.remove(a),"start"==i?(h=f=s,p=m=r):(f=s,m=r))}}function a(e){return!c.isBlock(e)||e.innerHTML||t.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}function l(){var t,e;return t=c.createRng(),e=i.resolve(c.getRoot(),n.start),t.setStart(e.container(),e.offset()),e=i.resolve(c.getRoot(),n.end),t.setEnd(e.container(),e.offset()),t}var u,d,h,f,p,m;if(n)if(e.isArray(n.start)){if(u=c.createRng(),d=c.getRoot(),s.tridentSel)return s.tridentSel.moveToBookmark(n);o(!0)&&o()&&s.setRng(u)}else"string"==typeof n.start?s.setRng(l(n)):n.id?(r("start"),r("end"),h&&((u=c.createRng()).setStart(a(h),p),u.setEnd(a(f),m),s.setRng(u))):n.name?s.select(c.select(n.name)[n.index]):n.rng&&s.setRng(n.rng)}}var l=r.isContentEditableFalse;return s.isBookmarkNode=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},s}),
/**
 * Selection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/NodeType","tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretPosition"],function(t,n,i,o,r,a,s,l,c){function u(t,e,o,a){var s=this;s.dom=t,s.win=e,s.serializer=o,s.editor=a,s.bookmarkManager=new r(s),s.controlSelection=new i(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var d=l.each,h=l.trim,f=s.ie;return u.prototype={setCursorLocation:function(t,e){var n=this,i=n.dom.createRng();t?(i.setStart(t,e),i.setEnd(t,e),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(t){var n,i,o,r=this,a=r.getRng(),s=r.dom.create("body"),l=r.getSel();return n=i="",(t=t||{}).get=!0,t.format=t.format||"html",t.selection=!0,r.editor.fire("BeforeGetContent",t),"text"==t.format?r.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(o=a.cloneContents())&&s.appendChild(o):a.item!==e||a.htmlText!==e?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(i=" "),t.getInner=!0,t.content=r.isCollapsed()?"":n+r.serializer.serialize(s,t)+i,r.editor.fire("GetContent",t),t.content)},setContent:function(t,e){var n,i,o,r=this,a=r.getRng(),s=r.win.document;if((e=e||{format:"html"}).set=!0,e.selection=!0,e.content=t,e.no_events||r.editor.fire("BeforeSetContent",e),t=e.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=t:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(i=s.createDocumentFragment(),o=s.createElement("div"),i.appendChild(o),o.outerHTML=t,a.insertNode(i))),n=r.dom.get("__caret"),(a=s.createRange()).setStartBefore(n),a.setEndBefore(n),r.setRng(a),r.dom.remove("__caret");try{r.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=r.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),r.dom.remove("__mce_tmp")):a.pasteHTML(t);e.no_events||r.editor.fire("SetContent",e)},getStart:function(t){var e,n,i,o,r=this,a=r.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for((i=a.duplicate()).collapse(1),(e=i.parentElement()).ownerDocument!==r.dom.doc&&(e=r.dom.getRoot()),n=o=a.parentElement();o=o.parentNode;)if(o==e){e=n;break}return e}return 1==(e=a.startContainer).nodeType&&e.hasChildNodes()&&(t&&a.collapsed||(e=e.childNodes[Math.min(e.childNodes.length-1,a.startOffset)])),e&&3==e.nodeType?e.parentNode:e},getEnd:function(t){var e,n,i=this,o=i.getRng();return o.duplicate||o.item?o.item?o.item(0):((o=o.duplicate()).collapse(0),(e=o.parentElement()).ownerDocument!==i.dom.doc&&(e=i.dom.getRoot()),e&&"BODY"==e.nodeName&&e.lastChild||e):(e=o.endContainer,n=o.endOffset,1==e.nodeType&&e.hasChildNodes()&&(t&&o.collapsed||(e=e.childNodes[n>0?n-1:n])),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(t,e){return this.bookmarkManager.getBookmark(t,e)},moveToBookmark:function(t){return this.bookmarkManager.moveToBookmark(t)},select:function(t,e){var n,i=this,o=i.dom,r=o.createRng();if(i.lastFocusBookmark=null,t){if(!e&&i.controlSelection.controlSelect(t))return;n=o.nodeIndex(t),r.setStart(t.parentNode,n),r.setEnd(t.parentNode,n+1),e&&(i._moveEndPoint(r,t,!0),i._moveEndPoint(r,t)),i.setRng(r)}return t},isCollapsed:function(){var t=this,e=t.getRng(),n=t.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!n||e.collapsed)},collapse:function(t){var e,n=this,i=n.getRng();i.item&&(e=i.item(0),(i=n.win.document.body.createTextRange()).moveToElementText(e)),i.collapse(!!t),n.setRng(i)},getSel:function(){var t=this.win;return t.getSelection?t.getSelection():t.document.selection},getRng:function(t){function e(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(i){return-1}}var n,i,o,r,a,s,l=this;if(!l.win)return null;if(null==(r=l.win.document))return null;if(!t&&l.lastFocusBookmark){var c=l.lastFocusBookmark;return c.startContainer?((i=r.createRange()).setStart(c.startContainer,c.startOffset),i.setEnd(c.endContainer,c.endOffset)):i=c,i}if(t&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(n=l.getSel())&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():r.createRange())}catch(u){}if((s=l.editor.fire("GetSelectionRange",{range:i})).range!==i)return s.range;if(f&&i&&i.setStart&&r.selection){try{a=r.selection.createRange()}catch(u){}a&&a.item&&(o=a.item(0),(i=r.createRange()).setStartBefore(o),i.setEndAfter(o))}return i||(i=r.createRange?r.createRange():r.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(o=l.dom.getRoot(),i.setStart(o,0),i.setEnd(o,0)),l.selectedRange&&l.explicitRange&&(0===e(i.START_TO_START,i,l.selectedRange)&&0===e(i.END_TO_END,i,l.selectedRange)?i=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),i},setRng:function(t,e){var n,i,o=this;if(t)if(t.select){o.explicitRange=null;try{t.select()}catch(r){}}else if(o.tridentSel){if(t.cloneRange)try{o.tridentSel.addRange(t)}catch(r){}}else{if(n=o.getSel(),t=o.editor.fire("SetSelectionRange",{range:t}).range,n){o.explicitRange=t;try{n.removeAllRanges(),n.addRange(t)}catch(r){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),o.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}t.collapsed||t.startContainer!=t.endContainer||!n.setBaseAndExtent||s.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(i=t.startContainer.childNodes[t.startOffset])&&"IMG"==i.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(i,0,i,1)),o.editor.fire("AfterSetSelectionRange",{range:t})}},setNode:function(t){var e=this;return e.setContent(e.dom.getOuterHTML(t)),t},getNode:function(){function t(t,e){for(var n=t;t&&3===t.nodeType&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n}var e,n,i,o,r,a=this,s=a.getRng(),l=a.dom.getRoot();return s?(n=s.startContainer,i=s.endContainer,o=s.startOffset,r=s.endOffset,s.setStart?(e=s.commonAncestorContainer,!s.collapsed&&(n==i&&r-o<2&&n.hasChildNodes()&&(e=n.childNodes[o]),3===n.nodeType&&3===i.nodeType&&(n=n.length===o?t(n.nextSibling,!0):n.parentNode,i=0===r?t(i.previousSibling,!1):i.parentNode,n&&n===i))?n:e&&3==e.nodeType?e.parentNode:e):((e=s.item?s.item(0):s.parentElement()).ownerDocument!==a.win.document&&(e=l),e)):l},getSelectedBlocks:function(e,n){var i,o,r=this,a=r.dom,s=[];if(o=a.getRoot(),e=a.getParent(e||r.getStart(),a.isBlock),n=a.getParent(n||r.getEnd(),a.isBlock),e&&e!=o&&s.push(e),e&&n&&e!=n){i=e;for(var l=new t(e,o);(i=l.next())&&i!=n;)a.isBlock(i)&&s.push(i)}return n&&e!=n&&n!=o&&s.push(n),s},isForward:function(){var t,e,n=this.dom,i=this.getSel();return!(i&&i.anchorNode&&i.focusNode)||((t=n.createRng()).setStart(i.anchorNode,i.anchorOffset),t.collapse(!0),(e=n.createRng()).setStart(i.focusNode,i.focusOffset),e.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,e)<=0)},normalize:function(){var t=this,e=t.getRng();return s.range&&new o(t.dom).normalize(e)&&t.setRng(e,t.isForward()),e},selectorChanged:function(t,e){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",function(t){var e=t.element,o=i.dom,r=o.getParents(e,null,o.getRoot()),a={};d(i.selectorChangedData,function(t,e){d(r,function(i){if(o.is(i,e))return n[e]||(d(t,function(t){t(!0,{node:i,selector:e,parents:r})}),n[e]=t),a[e]=t,!1})}),d(n,function(t,i){a[i]||(delete n[i],d(t,function(t){t(!1,{node:e,selector:i,parents:r})}))})})),i.selectorChangedData[t]||(i.selectorChangedData[t]=[]),i.selectorChangedData[t].push(e),i},getScrollContainer:function(){for(var t,e=this.dom.getRoot();e&&"BODY"!=e.nodeName;){if(e.scrollHeight>e.clientHeight){t=e;break}e=e.parentNode}return t},scrollIntoView:function(t,e){function n(t){for(var e=0,n=0,i=t;i&&i.nodeType;)e+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:e,y:n}}var i,o,r,s,l=this,c=l.dom,u=c.getRoot(),d=0;if(a.isElement(t)){if(!1===e&&(d=t.offsetHeight),"BODY"!=u.nodeName){var h=l.getScrollContainer();if(h)return i=n(t).y-n(h).y+d,s=h.clientHeight,void((i<(r=h.scrollTop)||i+25>r+s)&&(h.scrollTop=i<r?i:i-s+25))}o=c.getViewPort(l.editor.getWin()),i=c.getPos(t).y+d,r=o.y,s=o.h,(i<o.y||i+25>r+s)&&l.editor.getWin().scrollTo(0,i<r?i:i-s+25)}},placeCaretAt:function(t,e){this.setRng(o.getCaretRangeFromPoint(t,e,this.editor.getDoc()))},_moveEndPoint:function(e,n,i){var o=n,r=new t(n,o),a=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==h(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"==n.nodeName?e.setEndBefore(n):e.setEndAfter(n));if(s.ie&&s.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(i?e.setStart(n,0):e.setEnd(n,0))}while(n=i?r.next():r.prev());"BODY"==o.nodeName&&(i?e.setStart(o,0):e.setEnd(o,o.childNodes.length))},getBoundingClientRect:function(){var t=this.getRng();return t.collapsed?c.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},u}),
/**
 * ElementUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(t,e){function n(e){this.compare=function(n,o){function r(t){var n={};return i(e.getAttribs(t),function(i){var o=i.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n}function a(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(void 0===(n=e[i]))return!1;if(t[i]!=n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0}return n.nodeName==o.nodeName&&(!!a(r(n),r(o))&&(!!a(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(o,"style")))&&(!t.isBookmarkNode(n)&&!t.isBookmarkNode(o))))}}var i=e.each;return n}),
/**
 * Preview.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/fmt/Preview",["tinymce/dom/DOMUtils","tinymce/util/Tools","tinymce/html/Schema"],function(t,e,n){function i(t,i){function o(t,e){e.classes.length&&c.addClass(t,e.classes.join(" ")),c.setAttribs(t,e.attrs)}function r(t){var e;return u="string"==typeof t?{name:t,classes:[],attrs:{}}:t,o(e=c.create(u.name),u),e}function a(t,n){var i="string"!=typeof t?t.nodeName.toLowerCase():t,o=h.getElementRule(i).parentsRequired;return!(!o||!o.length)&&(n&&-1!==e.inArray(o,n)?n:o[0])}function s(t,n,i){var o,l,u,d=n.length&&n[0],h=d&&d.name;if(u=a(t,h))h==u?(l=n[0],n=n.slice(1)):l=u;else if(d)l=n[0],n=n.slice(1);else if(!i)return t;return l&&(o=r(l)).appendChild(t),i&&(o||(o=c.create("div")).appendChild(t),e.each(i,function(e){var n=r(e);o.insertBefore(n,t)})),s(o,n,l&&l.siblings)}var l,u,d,h=i&&i.schema||new n({});return t&&t.length?(l=r(u=t[0]),(d=c.create("div")).appendChild(s(l,t.slice(1),u.siblings)),d):""}function o(t,e){return i(a(t),e)}function r(t){var n,i={classes:[],attrs:{}};return"*"!==(t=i.selector=e.trim(t))&&(n=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(t,n,o,r,a){switch(n){case"#":i.attrs.id=o;break;case".":i.classes.push(o);break;case":":-1!==e.inArray("checked disabled enabled read-only required".split(" "),o)&&(i.attrs[o]=o)}if("["==r){var s=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(i.attrs[s[1]]=s[2])}return""})),i.name=n||"div",i}function a(t){return t&&"string"==typeof t?(t=(t=t.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),e.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var n=e.map(t.split(/(?:~\+|~|\+)/),r),i=n.pop();return n.length&&(i.siblings=n),i}).reverse()):[]}function s(t,e){function n(t){return t.replace(/%(\w+)/g,"")}var o,r,s,u,d,h,f="";if(!1===(h=t.settings.preview_styles))return"";if("string"!=typeof h&&(h="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(h=e.preview)?"":(o=e.block||e.inline||"span",(u=a(e.selector)).length?(u[0].name||(u[0].name=o),o=e.selector,r=i(u,t)):r=i([o],t),s=c.select(o,r)[0]||r.firstChild,l(e.styles,function(t,e){(t=n(t))&&c.setStyle(s,e,t)}),l(e.attributes,function(t,e){(t=n(t))&&c.setAttrib(s,e,t)}),l(e.classes,function(t){t=n(t),c.hasClass(s,t)||c.addClass(s,t)}),t.fire("PreviewFormats"),c.setStyles(r,{position:"absolute",left:-65535}),t.getBody().appendChild(r),d=c.getStyle(t.getBody(),"fontSize",!0),d=/px$/.test(d)?parseInt(d,10):0,l(h.split(" "),function(e){var n=c.getStyle(s,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=c.getStyle(t.getBody(),e,!0),"#ffffff"==c.toHex(n).toLowerCase())||"color"==e&&"#000000"==c.toHex(n).toLowerCase())){if("font-size"==e&&/em|%$/.test(n)){if(0===d)return;n=(n=parseFloat(n,10)/(/%$/.test(n)?100:1))*d+"px"}"border"==e&&n&&(f+="padding:0 2px;"),f+=e+":"+n+";"}}),t.fire("AfterPreviewFormats"),c.remove(r),f)}var l=e.each,c=t.DOM;return{getCssText:s,parseSelector:a,selectorToHtml:o}}),
/**
 * Hooks.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(t,e,n){function i(t,e){var n=r[t];n||(r[t]=n=[]),r[t].push(e)}function o(t,e){s(r[t],function(t){t(e)})}var r={},a=t.filter,s=t.each;return i("pre",function(i){function o(e){return l(e.previousSibling)&&-1!=t.indexOf(c,e.previousSibling)}function r(t,e){n(e).remove(),n(t).append("<br><br>").append(e.childNodes)}var l,c,u=i.selection.getRng();l=e.matchNodeNames("pre"),u.collapsed||(c=i.selection.getSelectedBlocks(),s(a(a(c,l),o),function(t){r(t.previousSibling,t)}))}),{postProcess:o}}),
/**
 * Formatter.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Fun","tinymce/util/Tools","tinymce/fmt/Preview","tinymce/fmt/Hooks"],function(t,e,n,i,o,r,a,s){return function(l){function c(t){return t.nodeType&&(t=t.nodeName),!!l.schema.getTextBlockElements()[t.toLowerCase()]}function u(t){return/^(TH|TD)$/.test(t.nodeName)}function d(t){return t&&/^(IMG)$/.test(t.nodeName)}function h(t,e){return nt.getParents(t,e,nt.getRoot())}function f(t){return 1===t.nodeType&&"_mce_caret"===t.id}function p(){v({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,e,n){mt(n,function(e,n){nt.setAttrib(t,n,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),mt("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){v(t,{block:t,remove:"all"})}),v(l.settings.formats)}function m(){l.addShortcut("meta+b","bold_desc","Bold"),l.addShortcut("meta+i","italic_desc","Italic"),l.addShortcut("meta+u","underline_desc","Underline");for(var t=1;t<=6;t++)l.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);l.addShortcut("access+7","",["FormatBlock",!1,"p"]),l.addShortcut("access+8","",["FormatBlock",!1,"div"]),l.addShortcut("access+9","",["FormatBlock",!1,"address"])}function g(t){return t?et[t]:et}function v(t,e){t&&("string"!=typeof t?mt(t,function(t,e){v(e,t)}):(e=e.length?e:[e],mt(e,function(t){t.deep===Q&&(t.deep=!t.selector),t.split===Q&&(t.split=!t.selector||t.inline),t.remove===Q&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),et[t]=e))}function y(t){return t&&et[t]&&delete et[t],et}function b(t,e){var n=g(e);if(n)for(var i=0;i<n.length;i++)if(!1===n[i].inherit&&nt.is(t,n[i].selector))return!0;return!1}function w(t){var e;return l.dom.getParent(t,function(t){return(e=l.dom.getStyle(t,"text-decoration"))&&"none"!==e}),e}function C(t){var e;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(e=w(t.parentNode),l.dom.getStyle(t,"color")&&e?l.dom.setStyle(t,"text-decoration",e):l.dom.getStyle(t,"text-decoration")===e&&l.dom.setStyle(t,"text-decoration",null))}function x(e,n,i){function o(t,e){if(e=e||m,t){if(e.onformat&&e.onformat(t,e,n,i),mt(e.styles,function(e,i){nt.setStyle(t,i,H(e,n))}),e.styles){var o=nt.getAttrib(t,"style");o&&t.setAttribute("data-mce-style",o)}mt(e.attributes,function(e,i){nt.setAttrib(t,i,H(e,n))}),mt(e.classes,function(e){e=H(e,n),nt.hasClass(t,e)||nt.addClass(t,e)})}}function r(t,e){var n=!1;return!!m.selector&&(mt(t,function(t){if(!("collapsed"in t&&t.collapsed!==v))return nt.is(e,t.selector)&&!f(e)?(o(e,t),n=!0,!1):void 0}),n)}function a(){function e(e,n){var o=new t(n);for(i=o.prev2();i;i=o.prev2()){if(3==i.nodeType&&i.data.length>0)return i;if(i.childNodes.length>1||i==e||"BR"==i.tagName)return i}}var n=l.selection.getRng(),o=n.startContainer,r=n.endContainer;if(o!=r&&0===n.endOffset){var a=e(o,r),s=3==a.nodeType?a.data.length:a.childNodes.length;n.setEnd(a,s)}return n}function u(t,i,a){var s,l,u=[],d=!0;s=m.inline||m.block,o(l=nt.create(s)),ot.walk(t,function(t){function i(t){var g,v,y,b;if(b=d,g=t.nodeName.toLowerCase(),v=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&ft(t)&&(b=d,d="true"===ft(t),y=!0),R(g,"br"))return h=0,void(m.block&&nt.remove(t));if(m.wrapper&&T(t,e,n))h=0;else{if(d&&!y&&m.block&&!m.wrapper&&c(g)&&rt(v,s))return o(t=nt.rename(t,s)),u.push(t),void(h=0);if(m.selector){var w=r(p,t);if(!m.inline||w)return void(h=0)}!d||y||!rt(s,g)||!rt(v,s)||!a&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||f(t)||m.inline&&at(t)?(h=0,mt(gt(t.childNodes),i),y&&(d=b),h=0):(h||(h=nt.clone(l,dt),t.parentNode.insertBefore(h,t),u.push(h)),h.appendChild(t))}}var h;mt(t,i)}),!0===m.links&&mt(u,function(t){function e(t){"A"===t.nodeName&&o(t,m),mt(gt(t.childNodes),e)}e(t)}),mt(u,function(t){function i(t){var e=0;return mt(t.childNodes,function(t){F(t)||pt(t)||e++}),e}function r(t){var e=!1;return mt(t.childNodes,function(t){if(I(t))return e=t,!1}),e}function a(t,e){do{if(1!==i(t))break;if(!(t=r(t)))break;if(e(t))return t}while(t);return null}function s(t){var e,n;return(e=r(t))&&!pt(e)&&N(e,m)&&(o(n=nt.clone(e,dt)),nt.replace(n,t,ht),nt.remove(e,1)),n||t}var l;if(l=i(t),!(u.length>1)&&at(t)||0!==l){if(m.inline||m.wrapper){if(m.exact||1!==l||(t=s(t)),mt(p,function(e){mt(nt.select(e.inline,t),function(t){pt(t)||U(e,n,t,e.exact?t:null)})}),T(t.parentNode,e,n)&&U(m,n,t)&&(t=0),m.merge_with_parents&&nt.getParent(t.parentNode,function(i){if(T(i,e,n))return U(m,n,t)&&(t=0),ht}),!at(t)&&!M(t,"fontSize")){var c=a(t,L("fontSize"));c&&x("fontsize",{value:M(c,"fontSize")},t)}t&&!1!==m.merge_siblings&&(t=X(t=X(V(t),t),V(t,ht)))}}else nt.remove(t,1)})}var d,h,p=g(e),m=p[0],v=!i&&it.isCollapsed();if("false"!==ft(it.getNode())){if(m){if(i)i.nodeType?r(p,i)||((h=nt.createRng()).setStartBefore(i),h.setEndAfter(i),u(j(h,p),null,!0)):u(i,null,!0);else if(v&&m.inline&&!nt.select("td[data-mce-selected],th[data-mce-selected]").length)G("apply",e,n);else{var y=l.selection.getNode();st||!p[0].defaultBlock||nt.getParent(y,nt.isBlock)||x(p[0].defaultBlock),l.selection.setRng(a()),d=it.getBookmark(),u(j(it.getRng(ht),p),d),m.styles&&((m.styles.color||m.styles.textDecoration)&&(vt(y,C,"childNodes"),C(y)),m.styles.backgroundColor&&P(y,L("fontSize"),O("backgroundColor",H(m.styles.backgroundColor,n)))),it.moveToBookmark(d),J(it.getRng(ht)),l.nodeChanged()}s.postProcess(e,l)}}else{i=it.getNode();for(var b=0,w=p.length;b<w;b++)if(p[b].ceFalseOverride&&nt.is(i,p[b].selector))return void o(i,p[b])}}function _(t,e,n,i){function o(t){var n,i,r,a,s;if(1===t.nodeType&&ft(t)&&(a=y,y="true"===ft(t),s=!0),n=gt(t.childNodes),y&&!s)for(i=0,r=m.length;i<r&&!U(m[i],e,t,t);i++);if(v.deep&&n.length){for(i=0,r=n.length;i<r;i++)o(n[i]);s&&(y=a)}}function r(n){var o;return mt(h(n.parentNode).reverse(),function(n){var r;o||"_start"==n.id||"_end"==n.id||(r=T(n,t,e,i))&&!1!==r.split&&(o=n)}),o}function a(t,n,i,o){var r,a,s,l,c,u;if(t){for(u=t.parentNode,r=n.parentNode;r&&r!=u;r=r.parentNode){for(a=nt.clone(r,dt),c=0;c<m.length;c++)if(U(m[c],e,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!o||v.mixed&&at(t)||(n=nt.split(t,n)),s&&(i.parentNode.insertBefore(s,i),l.appendChild(i))}return n}function s(t){return a(r(t),t,t,!0)}function c(t){var e=nt.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return pt(n)&&(n=n[t?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),nt.remove(e,!0),n}function d(t){var e,n,i=t.commonAncestorContainer;if(t=j(t,m,ht),v.split){if((e=Y(t,ht))!=(n=Y(t))){if(/^(TR|TH|TD)$/.test(e.nodeName)&&e.firstChild&&(e="TR"==e.nodeName?e.firstChild.firstChild||e:e.firstChild||e),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&u(n)&&n.firstChild&&(n=n.firstChild||n),nt.isChildOf(e,n)&&!at(n)&&!u(e)&&!u(n))return s(e=z(e,"span",{id:"_start","data-mce-type":"bookmark"})),void(e=c(ht));e=z(e,"span",{id:"_start","data-mce-type":"bookmark"}),n=z(n,"span",{id:"_end","data-mce-type":"bookmark"}),s(e),s(n),e=c(ht),n=c()}else e=n=s(e);t.startContainer=e.parentNode?e.parentNode:e,t.startOffset=lt(e),t.endContainer=n.parentNode?n.parentNode:n,t.endOffset=lt(n)+1}ot.walk(t,function(t){mt(t,function(t){o(t),1===t.nodeType&&"underline"===l.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===w(t.parentNode)&&U({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})}var f,p,m=g(t),v=m[0],y=!0;if(n)n.nodeType?((p=nt.createRng()).setStartBefore(n),p.setEndAfter(n),d(p)):d(n);else if("false"!==ft(it.getNode()))it.isCollapsed()&&v.inline&&!nt.select("td[data-mce-selected],th[data-mce-selected]").length?G("remove",t,e,i):(f=it.getBookmark(),d(it.getRng(ht)),it.moveToBookmark(f),v.inline&&S(t,e,it.getStart())&&J(it.getRng(!0)),l.nodeChanged());else{n=it.getNode();for(var b=0,C=m.length;b<C&&(!m[b].ceFalseOverride||!U(m[b],e,n,n));b++);}}function k(t,e,n){var i=g(t);!S(t,e,n)||"toggle"in i[0]&&!i[0].toggle?x(t,e,n):_(t,e,n)}function T(t,e,n,i){function o(t,e,o){var r,a,s,l=e[o];if(e.onmatch)return e.onmatch(t,e,o);if(l)if(l.length===Q){for(r in l)if(l.hasOwnProperty(r)){if(a="attributes"===o?nt.getAttrib(t,r):M(t,r),i&&!a&&!e.exact)return;if((!i||e.exact)&&!R(a,B(H(l[r],n),r)))return}}else for(s=0;s<l.length;s++)if("attributes"===o?nt.getAttrib(t,l[s]):M(t,l[s]))return e;return e}var r,a,s,l=g(e);if(l&&t)for(a=0;a<l.length;a++)if(N(t,r=l[a])&&o(t,r,"attributes")&&o(t,r,"styles")){if(s=r.classes)for(a=0;a<s.length;a++)if(!nt.hasClass(t,s[a]))return;return r}}function S(t,e,n){function i(n){var i=nt.getRoot();return n!==i&&T(n=nt.getParent(n,function(n){return!!b(n,t)||(n.parentNode===i||!!T(n,t,e,!0))}),t,e)}var o;return n?i(n):i(n=it.getNode())?ht:(o=it.getStart())!=n&&i(o)?ht:dt}function E(t,e){var n,i=[],o={};return n=it.getStart(),nt.getParent(n,function(n){var r,a;for(r=0;r<t.length;r++)a=t[r],!o[a]&&T(n,a,e)&&(o[a]=!0,i.push(a))},nt.getRoot()),i}function A(t){var e,n,i,o,r=g(t);if(r)for(e=h(it.getStart()),i=r.length-1;i>=0;i--){if(!(o=r[i].selector)||r[i].defaultBlock)return ht;for(n=e.length-1;n>=0;n--)if(nt.is(e[n],o))return ht}return dt}function $(t,e,n){var i;return K||(K={},i={},l.on("NodeChange",function(t){var e=h(t.element),n={};e=r.grep(e,function(t){return 1==t.nodeType&&!t.getAttribute("data-mce-bogus")}),mt(K,function(t,o){mt(e,function(r){return T(r,o,{},t.similar)?(i[o]||(mt(t,function(t){t(!0,{node:r,format:o,parents:e})}),i[o]=t),n[o]=t,!1):!b(r,o)&&void 0})}),mt(i,function(o,r){n[r]||(delete i[r],mt(o,function(n){n(!1,{node:t.element,format:r,parents:e})}))})})),mt(t.split(","),function(t){K[t]||(K[t]=[],K[t].similar=n),K[t].push(e)}),this}function D(t){return a.getCssText(l,t)}function N(t,e){return R(t,e.inline)?ht:R(t,e.block)?ht:e.selector?1==t.nodeType&&nt.is(t,e.selector):void 0}function R(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()==e.toLowerCase()}function P(t,e,n){mt(t.childNodes,function(t){I(t)&&(e(t)&&n(t),t.hasChildNodes()&&P(t,e,n))})}function I(t){return 1==t.nodeType&&!pt(t)&&!F(t)&&!f(t)}function L(t){return o.curry(function(t,e){return!(!e||!M(e,t))},t)}function O(t,e){return o.curry(function(t,e,n){nt.setStyle(n,t,e)},t,e)}function M(t,e){return B(nt.getStyle(t,e),e)}function B(t,e){return"color"!=e&&"backgroundColor"!=e||(t=nt.toHex(t)),"fontWeight"==e&&700==t&&(t="bold"),"fontFamily"==e&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t}function H(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t}function F(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)}function z(t,e,n){var i=nt.create(e,n);return t.parentNode.insertBefore(i,t),i.appendChild(t),i}function j(e,n,i){function o(t){function e(t){return"BR"==t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling}var i,o,r,a,s;if(i=o=t?g:y,a=t?"previousSibling":"nextSibling",s=nt.getRoot(),3==i.nodeType&&!F(i)&&(t?v>0:b<i.nodeValue.length))return i;for(;;){if(!n[0].block_expand&&at(o))return o;for(r=o[a];r;r=r[a])if(!pt(r)&&!F(r)&&!e(r))return o;if(o==s||o.parentNode==s){i=o;break}o=o.parentNode}return i}function r(t,e){for(e===Q&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)(t=t.childNodes[e])&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}}function a(t){for(var e=t;e;){if(1===e.nodeType&&ft(e))return"false"===ft(e)?e:t;e=e.parentNode}return t}function s(e,n,o){function r(t,e){var n,r,a=t.nodeValue;return void 0===e&&(e=o?a.length:0),o?-1===(n=(n=a.lastIndexOf(" ",e))>(r=a.lastIndexOf("\xa0",e))?n:r)||i||n++:(n=a.indexOf(" ",e),r=a.indexOf("\xa0",e),n=-1!==n&&(-1===r||n<r)?n:r),n}var a,s,c,u;if(3===e.nodeType){if(-1!==(c=r(e,n)))return{container:e,offset:c};u=e}for(a=new t(e,nt.getParent(e,at)||l.getBody());s=a[o?"prev":"next"]();)if(3===s.nodeType){if(u=s,-1!==(c=r(s)))return{container:s,offset:c}}else if(at(s))break;if(u)return{container:u,offset:n=o?0:u.length}}function u(t,i){var o,r,a,s;for(3==t.nodeType&&0===t.nodeValue.length&&t[i]&&(t=t[i]),o=h(t),r=0;r<o.length;r++)for(a=0;a<n.length;a++)if(!("collapsed"in(s=n[a])&&s.collapsed!==e.collapsed)&&nt.is(o[r],s.selector))return o[r];return t}function d(t,e){var i,o=nt.getRoot();if(n[0].wrapper||(i=nt.getParent(t,n[0].block,o)),i||(i=nt.getParent(3==t.nodeType?t.parentNode:t,function(t){return t!=o&&c(t)})),i&&n[0].wrapper&&(i=h(i,"ul,ol").reverse()[0]||i),!i)for(i=t;i[e]&&!at(i[e])&&!R(i=i[e],"br"););return i||t}var f,p,m,g=e.startContainer,v=e.startOffset,y=e.endContainer,b=e.endOffset;if(1==g.nodeType&&g.hasChildNodes()&&(f=g.childNodes.length-1,3==(g=g.childNodes[v>f?f:v]).nodeType&&(v=0)),1==y.nodeType&&y.hasChildNodes()&&(f=y.childNodes.length-1,3==(y=y.childNodes[b>f?f:b-1]).nodeType&&(b=y.nodeValue.length)),g=a(g),y=a(y),(pt(g.parentNode)||pt(g))&&3==(g=(g=pt(g)?g:g.parentNode).nextSibling||g).nodeType&&(v=0),(pt(y.parentNode)||pt(y))&&3==(y=(y=pt(y)?y:y.parentNode).previousSibling||y).nodeType&&(b=y.length),n[0].inline&&(e.collapsed&&((m=s(g,v,!0))&&(g=m.container,v=m.offset),(m=s(y,b))&&(y=m.container,b=m.offset)),(p=r(y,b)).node)){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=r(p.node.previousSibling);p.node&&p.offset>0&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-1)&&p.offset>1&&(y=p.node).splitText(p.offset-1)}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==g.nodeType&&0!==v||(g=o(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=o())),n[0].selector&&n[0].expand!==dt&&!n[0].inline&&(g=u(g,"previousSibling"),y=u(y,"nextSibling")),(n[0].block||n[0].selector)&&(g=d(g,"previousSibling"),y=d(y,"nextSibling"),n[0].block&&(at(g)||(g=o(!0)),at(y)||(y=o()))),1==g.nodeType&&(v=lt(g),g=g.parentNode),1==y.nodeType&&(b=lt(y)+1,y=y.parentNode),{startContainer:g,startOffset:v,endContainer:y,endOffset:b}}function W(t,e){return e.links&&"A"==t.tagName}function U(t,e,n,i){var o,r,a;if(!N(n,t)&&!W(n,t))return dt;if("all"!=t.remove)for(mt(t.styles,function(o,r){o=B(H(o,e),r),"number"==typeof r&&(r=o,i=0),(t.remove_similar||!i||R(M(i,r),o))&&nt.setStyle(n,r,""),a=1}),a&&""===nt.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),mt(t.attributes,function(t,o){var r;if(t=H(t,e),"number"==typeof o&&(o=t,i=0),!i||R(nt.getAttrib(i,o),t)){if("class"==o&&(t=nt.getAttrib(n,o))&&(r="",mt(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(r+=(r?" ":"")+t)}),r))return void nt.setAttrib(n,o,r);"class"==o&&n.removeAttribute("className"),ut.test(o)&&n.removeAttribute("data-mce-"+o),n.removeAttribute(o)}}),mt(t.classes,function(t){t=H(t,e),i&&!nt.hasClass(i,t)||nt.removeClass(n,t)}),r=nt.getAttribs(n),o=0;o<r.length;o++){var s=r[o].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return dt}return"none"!=t.remove?(q(n,t),ht):void 0}function q(t,e){function n(t,e,n){return!(t=V(t,e,n))||"BR"==t.nodeName||at(t)}var i,o=t.parentNode;e.block&&(st?o==nt.getRoot()&&(e.list_block&&R(t,e.list_block)||mt(gt(t.childNodes),function(t){rt(st,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=z(t,st),nt.setAttribs(i,l.settings.forced_root_block_attrs)):i=0})):at(t)&&!at(o)&&(n(t,dt)||n(t.firstChild,ht,1)||t.insertBefore(nt.create("br"),t.firstChild),n(t,ht)||n(t.lastChild,dt,1)||t.appendChild(nt.create("br")))),e.selector&&e.inline&&!R(e.inline,t)||nt.remove(t,1)}function V(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1==t.nodeType||!F(t))return t}function X(t,e){function n(t,e){for(o=t;o;o=o[e]){if(3==o.nodeType&&0!==o.nodeValue.length)return t;if(1==o.nodeType&&!pt(o))return o}return t}var o,r,a=new i(nt);if(t&&e&&(t=n(t,"previousSibling"),e=n(e,"nextSibling"),a.compare(t,e))){for(o=t.nextSibling;o&&o!=e;)r=o,o=o.nextSibling,t.appendChild(r);return nt.remove(e),mt(gt(e.childNodes),function(e){t.appendChild(e)}),t}return e}function Y(e,n){var i,o,r;return i=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],1==i.nodeType&&(r=i.childNodes.length-1,!n&&o&&o--,i=i.childNodes[o>r?r:o]),3===i.nodeType&&n&&o>=i.nodeValue.length&&(i=new t(i,l.getBody()).next()||i),3!==i.nodeType||n||0!==o||(i=new t(i,l.getBody()).prev()||i),i}function G(e,n,i,o){function r(t){var e=nt.create("span",{id:m,"data-mce-bogus":!0,style:v?"color:red":""});return t&&e.appendChild(l.getDoc().createTextNode(ct)),e}function a(t,e){for(;t;){if(3===t.nodeType&&t.nodeValue!==ct||t.childNodes.length>1)return!1;e&&1===t.nodeType&&e.push(t),t=t.firstChild}return!0}function s(t){for(;t;){if(t.id===m)return t;t=t.parentNode}}function u(e){var n;if(e)for(e=(n=new t(e,e)).current();e;e=n.next())if(3===e.nodeType)return e}function d(t,e){var n,i;if(t)i=it.getRng(!0),a(t)?(!1!==e&&(i.setStartBefore(t),i.setEndBefore(t)),nt.remove(t)):((n=u(t)).nodeValue.charAt(0)===ct&&(n.deleteData(0,1),i.startContainer==n&&i.startOffset>0&&i.setStart(n,i.startOffset-1),i.endContainer==n&&i.endOffset>0&&i.setEnd(n,i.endOffset-1)),nt.remove(t,1)),it.setRng(i);else if(!(t=s(it.getStart())))for(;t=nt.get(m);)d(t,!1)}function h(){var t,e,o,a,l,c;a=(t=it.getRng(!0)).startOffset,c=t.startContainer.nodeValue,(e=s(it.getStart()))&&(o=u(e));var d=/[^\s\u00a0\u00ad\u200b\ufeff]/;c&&a>0&&a<c.length&&d.test(c.charAt(a))&&d.test(c.charAt(a-1))?(l=it.getBookmark(),t.collapse(!0),t=j(t,g(n)),t=ot.split(t),x(n,i,t),it.moveToBookmark(l)):(e&&o.nodeValue===ct?x(n,i,e):(o=(e=r(!0)).firstChild,t.insertNode(e),a=1,x(n,i,e)),it.setCursorLocation(o,a))}function f(){var t,e,a,s,l,u,d,h,f=it.getRng(!0),p=[];for(t=f.startContainer,e=f.startOffset,l=t,3==t.nodeType&&(e!=t.nodeValue.length&&(s=!0),l=l.parentNode);l;){if(T(l,n,i,o)){u=l;break}l.nextSibling&&(s=!0),p.push(l),l=l.parentNode}if(u)if(s)a=it.getBookmark(),f.collapse(!0),f=j(f,g(n),!0),f=ot.split(f),_(n,i,f),it.moveToBookmark(a);else{for(l=h=r(),d=p.length-1;d>=0;d--)l.appendChild(nt.clone(p[d],!1)),l=l.firstChild;l.appendChild(nt.doc.createTextNode(ct)),l=l.firstChild;var m=nt.getParent(u,c);m&&nt.isEmpty(m)?u.parentNode.replaceChild(h,u):nt.insertAfter(h,u),it.setCursorLocation(l,1),nt.isEmpty(u)&&nt.remove(u)}}function p(){var t;(t=s(it.getStart()))&&!nt.isEmpty(t)&&vt(t,function(t){1!=t.nodeType||t.id===m||nt.isEmpty(t)||nt.setAttrib(t,"data-mce-bogus",null)},"childNodes")}var m="_mce_caret",v=l.settings.caret_debug;l._hasCaretEvents||(tt=function(){var t,e=[];if(a(s(it.getStart()),e))for(t=e.length;t--;)nt.setAttrib(e[t],"data-mce-bogus","1")},Z=function(t){var e=t.keyCode;d(),8==e&&it.isCollapsed()&&it.getStart().innerHTML==ct&&d(s(it.getStart())),37!=e&&39!=e||d(s(it.getStart())),p()},l.on("SetContent",function(t){t.selection&&p()}),l._hasCaretEvents=!0),"apply"==e?h():f()}function J(e){var n,i,o,r,a,s=e.startContainer,l=e.startOffset;if((e.startContainer!=e.endContainer||!d(e.startContainer.childNodes[e.startOffset]))&&(3==s.nodeType&&l>=s.nodeValue.length&&(l=lt(s),s=s.parentNode,n=!0),1==s.nodeType))for(s=(r=s.childNodes)[Math.min(l,r.length-1)],i=new t(s,nt.getParent(s,nt.isBlock)),(l>r.length-1||n)&&i.next(),o=i.current();o;o=i.next())if(3==o.nodeType&&!F(o))return a=nt.create("a",{"data-mce-bogus":"all"},ct),o.parentNode.insertBefore(a,o),e.setStart(o,0),it.setRng(e),void nt.remove(a)}var K,Q,Z,tt,et={},nt=l.dom,it=l.selection,ot=new e(nt),rt=l.schema.isValidChild,at=nt.isBlock,st=l.settings.forced_root_block,lt=nt.nodeIndex,ct="\ufeff",ut=/^(src|href|style)$/,dt=!1,ht=!0,ft=nt.getContentEditable,pt=n.isBookmarkNode,mt=r.each,gt=r.grep,vt=r.walk;(0,r.extend)(this,{get:g,register:v,unregister:y,apply:x,remove:_,toggle:k,match:S,matchAll:E,matchNode:T,canApply:A,formatChanged:$,getCssText:D}),p(),m(),l.on("BeforeGetContent",function(t){tt&&"raw"!=t.format&&tt()}),l.on("mouseup keydown",function(t){Z&&Z(t)})}}),
/**
 * Diff.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/undo/Diff",[],function(){var t=0,e=1,n=2;return{KEEP:t,DELETE:n,INSERT:e,diff:function(i,o){var r=i.length+o.length+2,a=new Array(r),s=new Array(r),l=function(t,e,n){return{start:t,end:e,diag:n}},c=function(r,a,s,l,u){var h=d(r,a,s,l);if(null===h||h.start===a&&h.diag===a-l||h.end===r&&h.diag===r-s)for(var f=r,p=s;f<a||p<l;)f<a&&p<l&&i[f]===o[p]?(u.push([t,i[f]]),++f,++p):a-r>l-s?(u.push([n,i[f]]),++f):(u.push([e,o[p]]),++p);else{c(r,h.start,s,h.start-h.diag,u);for(var m=h.start;m<h.end;++m)u.push([t,i[m]]);c(h.end,a,h.end-h.diag,l,u)}},u=function(t,e,n,r){for(var a=t;a-e<r&&a<n&&i[a]===o[a-e];)++a;return l(t,a,e)},d=function(t,e,n,r){var l=e-t,c=r-n;if(0===l||0===c)return null;var d=l-c,h=c+l,f=(h%2==0?h:h+1)/2;a[1+f]=t,s[1+f]=e+1;for(var p=0;p<=f;++p){for(var m=-p;m<=p;m+=2){var g=m+f;m===-p||m!=p&&a[g-1]<a[g+1]?a[g]=a[g+1]:a[g]=a[g-1]+1;for(var v=a[g],y=v-t+n-m;v<e&&y<r&&i[v]===o[y];)a[g]=++v,++y;if(d%2!=0&&d-p<=m&&m<=d+p&&s[g-d]<=a[g])return u(s[g-d],m+t-n,e,r)}for(m=d-p;m<=d+p;m+=2){for(g=m+f-d,m===d-p||m!=d+p&&s[g+1]<=s[g-1]?s[g]=s[g+1]-1:s[g]=s[g-1],y=(v=s[g]-1)-t+n-m;v>=t&&y>=n&&i[v]===o[y];)s[g]=v--,y--;if(d%2==0&&-p<=m&&m<=p&&s[g]<=a[g+d])return u(s[g],m+t-n,e,r)}}},h=[];return c(0,i.length,0,o.length,h),h}}}),
/**
 * Fragments.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/undo/Fragments",["tinymce/util/Arr","tinymce/html/Entities","tinymce/undo/Diff"],function(t,e,n){var i=function(t){return 1===t.nodeType?t.outerHTML:3===t.nodeType?e.encodeRaw(t.data,!1):8===t.nodeType?"<!--"+t.data+"-->":""},o=function(t){var e,n,i;for(i=document.createElement("div"),e=document.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},r=function(t,e,n){var i=o(e);if(t.hasChildNodes()&&n<t.childNodes.length){var r=t.childNodes[n];r.parentNode.insertBefore(i,r)}else t.appendChild(i)},a=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}},s=function(e,i){var o=0;t.each(e,function(t){t[0]===n.KEEP?o++:t[0]===n.INSERT?(r(i,t[1],o),o++):t[0]===n.DELETE&&a(i,o)})};return{read:function(e){return t.map(e.childNodes,i)},write:function(e,o){var r=t.map(o.childNodes,i);return s(n.diff(r,e),o),o}}}),
/**
 * Levels.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/undo/Levels",["tinymce/util/Arr","tinymce/undo/Fragments"],function(t,e){var n=function(t){return-1!==t.indexOf("</iframe>")},i=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},o=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},r=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content};return{createFragmentedLevel:i,createCompleteLevel:o,createFromEditor:function(r){var a,s,l;return a=e.read(r.getBody()),s=(l=t.map(a,function(t){return r.serializer.trimContent(t)})).join(""),n(s)?i(l):o(s)},applyToEditor:function(t,n,i){"fragmented"===n.type?e.write(n.fragments,t.getBody()):t.setContent(n.content,{format:"raw"}),t.selection.moveToBookmark(i?n.beforeBookmark:n.bookmark)},isEq:function(t,e){return r(t)===r(e)}}}),
/**
 * UndoManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/UndoManager",["tinymce/util/VK","tinymce/util/Tools","tinymce/undo/Levels"],function(t,e,n){return function(t){function i(e){t.setDirty(e)}function o(t){l.typing=!1,l.add({},t)}function r(){l.typing&&(l.typing=!1,l.add())}var a,s,l=this,c=0,u=[],d=0;return t.on("init",function(){l.add()}),t.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(r(),l.beforeChange())}),t.on("ExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&o(t)}),t.on("ObjectResizeStart Cut",function(){l.beforeChange()}),t.on("SaveContent ObjectResized blur",o),t.on("DragEnd",o),t.on("KeyUp",function(e){var r=e.keyCode;e.isDefaultPrevented()||((r>=33&&r<=36||r>=37&&r<=40||45===r||e.ctrlKey)&&(o(),t.nodeChanged()),46!==r&&8!==r||t.nodeChanged(),s&&l.typing&&(t.isDirty()||(i(u[0]&&!n.isEq(n.createFromEditor(t),u[0])),t.isDirty()&&t.fire("change",{level:u[0],lastLevel:null})),t.fire("TypingUndo"),s=!1,t.nodeChanged()))}),t.on("KeyDown",function(t){var e=t.keyCode;if(!t.isDefaultPrevented())if(e>=33&&e<=36||e>=37&&e<=40||45===e)l.typing&&o(t);else{var n=t.ctrlKey&&!t.altKey||t.metaKey;!(e<16||e>20)||224===e||91===e||l.typing||n||(l.beforeChange(),l.typing=!0,l.add({},t),s=!0)}}),t.on("MouseDown",function(t){l.typing&&o(t)}),t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||t.nodeChanged()}),l={data:u,typing:!1,beforeChange:function(){d||(a=t.selection.getBookmark(2,!0))},add:function(o,r){var s,l,h,f=t.settings;if(h=n.createFromEditor(t),o=o||{},o=e.extend(o,h),d||t.removed)return null;if(l=u[c],t.fire("BeforeAddUndo",{level:o,lastLevel:l,originalEvent:r}).isDefaultPrevented())return null;if(l&&n.isEq(l,o))return null;if(u[c]&&(u[c].beforeBookmark=a),f.custom_undo_redo_levels&&u.length>f.custom_undo_redo_levels){for(s=0;s<u.length-1;s++)u[s]=u[s+1];u.length--,c=u.length}o.bookmark=t.selection.getBookmark(2,!0),c<u.length-1&&(u.length=c+1),u.push(o),c=u.length-1;var p={level:o,lastLevel:l,originalEvent:r};return t.fire("AddUndo",p),c>0&&(i(!0),t.fire("change",p)),o},undo:function(){var e;return l.typing&&(l.add(),l.typing=!1),c>0&&(e=u[--c],n.applyToEditor(t,e,!0),i(!0),t.fire("undo",{level:e})),e},redo:function(){var e;return c<u.length-1&&(e=u[++c],n.applyToEditor(t,e,!1),i(!0),t.fire("redo",{level:e})),e},clear:function(){u=[],c=0,l.typing=!1,l.data=u,t.fire("ClearUndos")},hasUndo:function(){return c>0||l.typing&&u[0]&&!n.isEq(n.createFromEditor(t),u[0])},hasRedo:function(){return c<u.length-1&&!l.typing},transact:function(t){r(),l.beforeChange();try{d++,t()}finally{d--}return l.add()},extra:function(e,i){var o,r;l.transact(e)&&(r=u[c].bookmark,o=u[c-1],n.applyToEditor(t,o,!0),l.transact(i)&&(u[c-1].beforeBookmark=r))}}}}),
/**
 * EnterKey.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/caret/CaretContainer","tinymce/Env"],function(t,e,n,i){var o=i.ie&&i.ie<11;return function(r){function a(a){function p(t){return t&&s.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==s.getContentEditable(t)}function m(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}function g(t){var e;s.isBlock(t)&&(e=l.getRng(),t.appendChild(s.create("span",null,"\xa0")),l.select(t),t.lastChild.outerHTML="",l.setRng(e))}function v(t){var e,n=t,i=[];if(n){for(;n=n.firstChild;){if(s.isBlock(n))return;1!=n.nodeType||h[n.nodeName.toLowerCase()]||i.push(n)}for(e=i.length;e--;)!(n=i[e]).hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?s.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&s.remove(n)}}function y(e){function n(t){for(;t;){if(1==t.nodeType||3==t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}var o,r,a,c,u=e;if(e){if(i.ie&&i.ie<9&&L&&L.firstChild&&L.firstChild==L.lastChild&&"BR"==L.firstChild.tagName&&s.remove(L.firstChild),/^(LI|DT|DD)$/.test(e.nodeName)){var d=n(e.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&e.insertBefore(s.doc.createTextNode("\xa0"),e.firstChild)}if(a=s.createRng(),i.ie||e.normalize(),e.hasChildNodes()){for(o=new t(e,e);r=o.current();){if(3==r.nodeType){a.setStart(r,0),a.setEnd(r,0);break}if(f[r.nodeName.toLowerCase()]){a.setStartBefore(r),a.setEndBefore(r);break}u=r,r=o.next()}r||(a.setStart(u,0),a.setEnd(u,0))}else"BR"==e.nodeName?e.nextSibling&&s.isBlock(e.nextSibling)?((!O||O<9)&&(c=s.create("br"),e.parentNode.insertBefore(c,e)),a.setStartBefore(e),a.setEndBefore(e)):(a.setStartAfter(e),a.setEndAfter(e)):(a.setStart(e,0),a.setEnd(e,0));l.setRng(a),s.remove(c),l.scrollIntoView(e)}}function b(t){var e=c.forced_root_block;e&&e.toLowerCase()===t.tagName.toLowerCase()&&s.setAttribs(t,c.forced_root_block_attrs)}function w(t){t.innerHTML=o?"":'<br data-mce-bogus="1">'}function C(t){var e,n,i,r=P,a=d.getTextInlineElements();if(t||"TABLE"==z?b(e=s.create(t||W)):e=L.cloneNode(!1),i=e,!1!==c.keep_styles)do{if(a[r.nodeName]){if("_mce_caret"==r.id)continue;n=r.cloneNode(!1),s.setAttrib(n,"id",""),e.hasChildNodes()?(n.appendChild(e.firstChild),e.appendChild(n)):(i=n,e.appendChild(n))}}while((r=r.parentNode)&&r!=R);return o||(i.innerHTML='<br data-mce-bogus="1">'),e}function x(e){var n,i,o;if(3==P.nodeType&&(e?I>0:I<P.nodeValue.length))return!1;if(P.parentNode==L&&U&&!e)return!0;if(e&&1==P.nodeType&&P==L.firstChild)return!0;if("TABLE"===P.nodeName||P.previousSibling&&"TABLE"==P.previousSibling.nodeName)return U&&!e||!U&&e;for(n=new t(P,L),3==P.nodeType&&(e&&0===I?n.prev():e||I!=P.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(o=i.nodeName.toLowerCase(),h[o]&&"br"!==o))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;e?n.prev():n.next()}return!0}function _(t,e){var n,i,o,a,l,c,u=W||"P";if(!(i=s.getParent(t,s.isBlock))||!p(i)){if(c=(i=i||R)==r.getBody()||m(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return b(n=s.create(u)),i.appendChild(n),D.setStart(n,0),D.setEnd(n,0),n;for(a=t;a.parentNode!=i;)a=a.parentNode;for(;a&&!s.isBlock(a);)o=a,a=a.previousSibling;if(o&&d.isValidChild(c,u.toLowerCase())){for(b(n=s.create(u)),o.parentNode.insertBefore(n,o),a=o;a&&!s.isBlock(a);)l=a.nextSibling,n.appendChild(a),a=l;D.setStart(t,e),D.setEnd(t,e)}}return t}function k(){function t(t){for(var e=F[t?"firstChild":"lastChild"];e&&1!=e.nodeType;)e=e[t?"nextSibling":"previousSibling"];return e===L}function e(){var t=F.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:F}if(F!=r.getBody()){var n=F.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(W="LI"),B=W?C(W):s.create("BR"),t(!0)&&t()?"LI"==n?s.insertAfter(B,e()):s.replace(B,F):t(!0)?"LI"==n?(s.insertAfter(B,e()),B.appendChild(s.doc.createTextNode(" ")),B.appendChild(F)):F.parentNode.insertBefore(B,F):t()?(s.insertAfter(B,e()),g(B)):(F=e(),(N=D.cloneRange()).setStartAfter(L),N.setEndAfter(F),H=N.extractContents(),"LI"==W&&"LI"==H.firstChild.nodeName?(B=H.firstChild,s.insertAfter(H,F)):(s.insertAfter(H,F),s.insertAfter(B,F))),s.remove(L),y(B),u.add()}}function T(){r.execCommand("InsertLineBreak",!1,a)}function S(t){do{3===t.nodeType&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)}function E(t){var e,n,i=s.getRoot();for(e=t;e!==i&&"false"!==s.getContentEditable(e);)"true"===s.getContentEditable(e)&&(n=e),e=e.parentNode;return e!==i?n:i}function A(t){var e;o||(t.normalize(),(e=t.lastChild)&&!/^(left|right)$/gi.test(s.getStyle(e,"float",!0))||s.add(t,"br"))}function $(){B=/^(H[1-6]|PRE|FIGURE)$/.test(z)&&"HGROUP"!=j?C(W):C(),c.end_container_on_empty_block&&p(F)&&s.isEmpty(L)?B=s.split(F,L):s.insertAfter(B,L),y(B)}var D,N,R,P,I,L,O,M,B,H,F,z,j,W,U;if(D=l.getRng(!0),!a.isDefaultPrevented())if(D.collapsed){if(new e(s).normalize(D),P=D.startContainer,I=D.startOffset,W=(W=(c.force_p_newlines?"p":"")||c.forced_root_block)?W.toUpperCase():"",O=s.doc.documentMode,M=a.shiftKey,1==P.nodeType&&P.hasChildNodes()&&(U=I>P.childNodes.length-1,P=P.childNodes[Math.min(I,P.childNodes.length-1)]||P,I=U&&3==P.nodeType?P.nodeValue.length:0),R=E(P))if(u.beforeChange(),s.isBlock(R)||R==s.getRoot()){if((W&&!M||!W&&M)&&(P=_(P,I)),L=s.getParent(P,s.isBlock),F=L?s.getParent(L.parentNode,s.isBlock):null,z=L?L.nodeName.toUpperCase():"","LI"!=(j=F?F.nodeName.toUpperCase():"")||a.ctrlKey||(L=F,z=j),r.undoManager.typing&&(r.undoManager.typing=!1,r.undoManager.add()),/^(LI|DT|DD)$/.test(z)){if(!W&&M)return void T();if(s.isEmpty(L))return void k()}if("PRE"==z&&!1!==c.br_in_pre){if(!M)return void T()}else if(!W&&!M&&"LI"!=z||W&&M)return void T();W&&L===r.getBody()||(W=W||"P",n.isCaretContainerBlock(L)?(B=n.showCaretContainerBlock(L),s.isEmpty(L)&&w(L),y(B)):x()?$():x(!0)?(g(B=L.parentNode.insertBefore(C(),L)),y(L)):((N=D.cloneRange()).setEndAfter(L),S(H=N.extractContents()),B=H.firstChild,s.insertAfter(H,L),v(B),A(L),s.isEmpty(L)&&w(L),B.normalize(),s.isEmpty(B)?(s.remove(B),$()):y(B)),s.setAttrib(B,"id",""),r.fire("NewBlock",{newBlock:B}),u.typing=!1,u.add())}else W&&!M||T()}else r.execCommand("Delete")}var s=r.dom,l=r.selection,c=r.settings,u=r.undoManager,d=r.schema,h=d.getNonEmptyElements(),f=d.getMoveCaretBeforeOnEnterElements();r.on("keydown",function(t){13==t.keyCode&&!1!==a(t)&&t.preventDefault()})}}),
/**
 * ForceBlocks.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ForceBlocks",[],function(){return function(t){function e(){var e,s,l,c,u,d,h,f,p,m,g,v,y=o.getStart(),b=t.getBody(),w=-16777215;if(v=n.forced_root_block,y&&1===y.nodeType&&v){for(;y&&y!=b;){if(a[y.nodeName])return;y=y.parentNode}if((e=o.getRng()).setStart){s=e.startContainer,l=e.startOffset,c=e.endContainer,u=e.endOffset;try{p=t.getDoc().activeElement===b}catch(C){}}else e.item&&(y=e.item(0),(e=t.getDoc().body.createTextRange()).moveToElementText(y)),p=e.parentElement().ownerDocument===t.getDoc(),(m=e.duplicate()).collapse(!0),l=-1*m.move("character",w),m.collapsed||((m=e.duplicate()).collapse(!1),u=-1*m.move("character",w)-l);for(y=b.firstChild,g=b.nodeName.toLowerCase();y;)if((3===y.nodeType||1==y.nodeType&&!a[y.nodeName])&&r.isValidChild(g,v.toLowerCase())){if(3===y.nodeType&&0===y.nodeValue.length){h=y,y=y.nextSibling,i.remove(h);continue}d||(d=i.create(v,t.settings.forced_root_block_attrs),y.parentNode.insertBefore(d,y),f=!0),h=y,y=y.nextSibling,d.appendChild(h)}else d=null,y=y.nextSibling;if(f&&p){if(e.setStart)e.setStart(s,l),e.setEnd(c,u),o.setRng(e);else try{(e=t.getDoc().body.createTextRange()).moveToElementText(b),e.collapse(!0),e.moveStart("character",l),u>0&&e.moveEnd("character",u),e.select()}catch(C){}t.nodeChanged()}}}var n=t.settings,i=t.dom,o=t.selection,r=t.schema,a=r.getBlockElements();n.forced_root_block&&t.on("NodeChange",e)}}),
/**
 * CaretUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretUtils",["tinymce/util/Fun","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretCandidate"],function(t,e,n,i,o,r){function a(t){return t>0}function s(t){return t<0}function l(t,e){for(var n;n=t(e);)if(!k(n))return n;return null}function c(t,n,i,o,r){var c=new e(t,o);if(s(n)){if((C(t)||k(t))&&i(t=l(c.prev,!0)))return t;for(;t=l(c.prev,r);)if(i(t))return t}if(a(n)){if((C(t)||k(t))&&i(t=l(c.next,!0)))return t;for(;t=l(c.next,r);)if(i(t))return t}return null}function u(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode)if(w(t))return t;return e}function d(t,e){for(;t&&t!=e;){if(x(t))return t;t=t.parentNode}return null}function h(t,e,n){return d(t.container(),n)==d(e.container(),n)}function f(t,e,n){return u(t.container(),n)==u(e.container(),n)}function p(t,e){var n,i;return e?(n=e.container(),i=e.offset(),S(n)?n.childNodes[i+t]:null):null}function m(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n}function g(t,e,n){return d(e,t)==d(n,t)}function v(t,e,n){var i,o;for(o=t?"previousSibling":"nextSibling";n&&n!=e;){if(i=n[o],_(i)&&(i=i[o]),C(i)){if(g(e,i,n))return i;break}if(E(i))break;n=n.parentNode}return null}function y(t,e,i){var r,a,s,l,c=T(v,!0,e),u=T(v,!1,e);if(a=i.startContainer,s=i.startOffset,o.isCaretContainerBlock(a)){if(S(a)||(a=a.parentNode),"before"==(l=a.getAttribute("data-mce-caret"))&&(r=a.nextSibling,C(r)))return A(r);if("after"==l&&(r=a.previousSibling,C(r)))return $(r)}if(!i.collapsed)return i;if(n.isText(a)){if(_(a)){if(1===t){if(r=u(a))return A(r);if(r=c(a))return $(r)}if(-1===t){if(r=c(a))return $(r);if(r=u(a))return A(r)}return i}if(o.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===t&&(r=u(a))?A(r):i;if(o.startsWithCaretContainer(a)&&s<=1)return-1===t&&(r=c(a))?$(r):i;if(s===a.data.length)return(r=u(a))?A(r):i;if(0===s)return(r=c(a))?$(r):i}return i}function b(t,e){return C(p(t,e))}var w=n.isContentEditableTrue,C=n.isContentEditableFalse,x=n.matchStyleValues("display","block table table-cell table-caption"),_=o.isCaretContainer,k=o.isCaretContainerBlock,T=t.curry,S=n.isElement,E=r.isCaretCandidate,A=T(m,!0),$=T(m,!1);return{isForwards:a,isBackwards:s,findNode:c,getEditingHost:u,getParentBlock:d,isInSameBlock:h,isInSameEditingHost:f,isBeforeContentEditableFalse:T(b,0),isAfterContentEditableFalse:T(b,-1),normalizeRange:y}}),
/**
 * CaretWalker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretWalker",["tinymce/dom/NodeType","tinymce/caret/CaretCandidate","tinymce/caret/CaretPosition","tinymce/caret/CaretUtils","tinymce/util/Arr","tinymce/util/Fun"],function(t,e,n,i,o,r){function a(t,e){for(var n=[];t&&t!=e;)n.push(t),t=t.parentNode;return n}function s(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null}function l(t,e){if(m(t)){if(v(e.previousSibling)&&!h(e.previousSibling))return n.before(e);if(h(e))return n(e,0)}if(g(t)){if(v(e.nextSibling)&&!h(e.nextSibling))return n.after(e);if(h(e))return n(e,e.data.length)}return g(t)?p(e)?n.before(e):n.after(e):n.before(e)}function c(e,o){var r;return!!t.isBr(e)&&(!!(r=u(1,n.after(e),o))&&!i.isInSameBlock(n.before(e),n.before(r),o))}function u(t,e,p){var w,C,x,_,k,T,S;if(!f(p)||!e)return null;if(w=(S=e).container(),C=S.offset(),h(w)){if(g(t)&&C>0)return n(w,--C);if(m(t)&&C<w.length)return n(w,++C);x=w}else{if(g(t)&&C>0&&(_=s(w,C-1),v(_)))return!y(_)&&(k=i.findNode(_,t,b,_))?h(k)?n(k,k.data.length):n.after(k):h(_)?n(_,_.data.length):n.before(_);if(m(t)&&C<w.childNodes.length&&(_=s(w,C),v(_)))return c(_,p)?u(t,n.after(_),p):!y(_)&&(k=i.findNode(_,t,b,_))?h(k)?n(k,0):n.before(k):h(_)?n(_,0):n.after(_);x=S.getNode()}return(m(t)&&S.isAtEnd()||g(t)&&S.isAtStart())&&(x=i.findNode(x,t,r.constant(!0),p,!0),b(x))?l(t,x):(_=i.findNode(x,t,b,p),!(T=o.last(o.filter(a(w,p),d)))||_&&T.contains(_)?_?l(t,_):null:S=m(t)?n.after(T):n.before(T))}var d=t.isContentEditableFalse,h=t.isText,f=t.isElement,p=t.isBr,m=i.isForwards,g=i.isBackwards,v=e.isCaretCandidate,y=e.isAtomic,b=e.isEditableCaretCandidate;return function(t){return{next:function(e){return u(1,e,t)},prev:function(e){return u(-1,e,t)}}}}),
/**
 * InsertList.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/InsertList",["tinymce/util/Tools","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition"],function(t,e,n){var i=function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t},o=function(t,e,n){var o=e.serialize(n),r=t.createFragment(o);return i(r)},r=function(e){return t.grep(e.childNodes,function(t){return"LI"===t.nodeName})},a=function(t){return!t.firstChild},s=function(t){return t.length>0&&a(t[t.length-1])?t.slice(0,-1):t},l=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},c=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]},u=function(t,i){var o=n.before(t),r=new e(i).next(o);return r?r.toRange():null},d=function(t,i){var o=n.after(t),r=new e(i).prev(o);return r?r.toRange():null},h=function(e,n,i,o){var r=c(e,o),a=e.parentNode;return a.insertBefore(r[0],e),t.each(n,function(t){a.insertBefore(t,e)}),a.insertBefore(r[1],e),a.removeChild(e),d(n[n.length-1],i)},f=function(e,n,i){var o=e.parentNode;return t.each(n,function(t){o.insertBefore(t,e)}),u(e,i)},p=function(t,e,n,i){return i.insertAfter(e.reverse(),t),d(e[0],n)};return{isListFragment:function(t){var e=t.firstChild,n=t.lastChild;return e&&"meta"===e.name&&(e=e.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),!(!e||e!==n)&&("ul"===e.name||"ol"===e.name)},insertAtCaret:function(t,i,a,c){var u=o(i,t,c),d=l(i,a.startContainer),m=s(r(u.firstChild)),g=1,v=2,y=i.getRoot(),b=function(t){var o=n.fromRangeStart(a),r=new e(i.getRoot()),s=t===g?r.prev(o):r.next(o);return!s||l(i,s.getNode())!==d};return b(g)?f(d,m,y):b(v)?p(d,m,y,i):h(d,m,y,a)},isParentBlockLi:function(t,e){return!!l(t,e)},trimListItems:s,listItems:r}}),
/**
 * InsertContent.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/InsertContent",["tinymce/Env","tinymce/util/Tools","tinymce/html/Serializer","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/dom/ElementUtils","tinymce/dom/NodeType","tinymce/InsertList"],function(t,e,n,i,o,r,a,s){var l=a.matchNodeNames("td th"),c=function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild,o=n.lastChild;!i||i===o&&"BR"===i.nodeName?t.dom.setHTML(n,e):t.selection.setContent(e)}},u=function(a,u,d){function h(t){function e(t){return i[t]&&3==i[t].nodeType}var n,i,o;return n=P.getRng(!0),i=n.startContainer,o=n.startOffset,3==i.nodeType&&(o>0?t=t.replace(/^&nbsp;/," "):e("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),o<i.length?t=t.replace(/&nbsp;(<br>|)$/," "):e("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t}function f(){var t,e,n;e=(t=P.getRng(!0)).startContainer,n=t.startOffset,3==e.nodeType&&t.collapsed&&("\xa0"===e.data[n]?(e.deleteData(n,1),/[\u00a0| ]$/.test(u)||(u+=" ")):"\xa0"===e.data[n-1]&&(e.deleteData(n-1,1),/[\u00a0| ]$/.test(u)||(u=" "+u)))}function p(){if(N){var t=a.getBody(),n=new r(I);e.each(I.select("*[data-mce-fragment]"),function(e){for(var i=e.parentNode;i&&i!=t;i=i.parentNode)R[e.nodeName.toLowerCase()]&&n.compare(i,e)&&I.remove(e,!0)})}}function m(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}function g(t){e.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})}function v(t){return!!t.getAttribute("data-mce-fragment")}function y(t){return t&&!a.schema.getShortEndedElements()[t.nodeName]}function b(e){function n(t){for(var e=a.getBody();t&&t!==e;t=t.parentNode)if("false"===a.dom.getContentEditable(t))return t;return null}function r(t){var e=o.fromRangeStart(t);if(e=new i(a.getBody()).next(e))return e.toRange()}var s,c,u;if(e){if(P.scrollIntoView(e),s=n(e))return I.remove(e),void P.select(s);E=I.createRng(),(A=e.previousSibling)&&3==A.nodeType?(E.setStart(A,A.nodeValue.length),t.ie||($=e.nextSibling)&&3==$.nodeType&&(A.appendData($.data),$.parentNode.removeChild($))):(E.setStartBefore(e),E.setEndBefore(e)),c=I.getParent(e,I.isBlock),I.remove(e),c&&I.isEmpty(c)&&(a.$(c).empty(),E.setStart(c,0),E.setEnd(c,0),l(c)||v(c)||!(u=r(E))?I.add(c,I.create("br",{"data-mce-bogus":"1"})):(E=u,I.remove(c))),P.setRng(E)}}var w,C,x,_,k,T,S,E,A,$,D,N,R=a.schema.getTextInlineElements(),P=a.selection,I=a.dom;/^ | $/.test(u)&&(u=h(u)),w=a.parser,N=d.merge,C=new n({validate:a.settings.validate},a.schema),D='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',T={content:u,format:"html",selection:!0},a.fire("BeforeSetContent",T),-1==(u=T.content).indexOf("{$caret}")&&(u+="{$caret}"),u=u.replace(/\{\$caret\}/,D);var L=(E=P.getRng()).startContainer||(E.parentElement?E.parentElement():null),O=a.getBody();L===O&&P.isCollapsed()&&I.isBlock(O.firstChild)&&y(O.firstChild)&&I.isEmpty(O.firstChild)&&((E=I.createRng()).setStart(O.firstChild,0),E.setEnd(O.firstChild,0),P.setRng(E)),P.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand("Delete",!1,null),f());var M={context:(x=P.getNode()).nodeName.toLowerCase(),data:d.data};if(k=w.parse(u,M),!0===d.paste&&s.isListFragment(k)&&s.isParentBlockLi(I,x))return E=s.insertAtCaret(C,I,a.selection.getRng(!0),k),a.selection.setRng(E),void a.fire("SetContent",T);if(m(k),"mce_marker"==(A=k.lastChild).attr("id"))for(S=A,A=A.prev;A;A=A.walk(!0))if(3==A.type||!I.isBlock(A.name)){a.schema.isValidChild(A.parent.name,"span")&&A.parent.insert(S,A,"br"===A.name);break}if(a._selectionOverrides.showBlockCaretContainer(x),M.invalid){for(P.setContent(D),x=P.getNode(),_=a.getBody(),9==x.nodeType?x=A=_:A=x;A!==_;)x=A,A=A.parentNode;u=x==_?_.innerHTML:I.getOuterHTML(x),u=C.serialize(w.parse(u.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return C.serialize(k)}))),x==_?I.setHTML(_,u):I.setOuterHTML(x,u)}else u=C.serialize(k),c(a,u,x);p(),b(I.get("mce_marker")),g(a.getBody()),a.fire("SetContent",T),a.addVisual()},d=function(t){var n;return"string"!=typeof t?(n=e.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:n}):{content:t,details:{}}};return{insertAtCaret:function(t,e){var n=d(e);u(t,n.content,n.details)}}}),
/**
 * EditorCommands.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorCommands",["tinymce/Env","tinymce/util/Tools","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/InsertContent","tinymce/dom/NodeType"],function(t,n,i,o,r,a){var s=n.each,l=n.extend,c=n.map,u=n.inArray,d=n.explode,h=t.ie&&t.ie<11,f=!0,p=!1;return function(n){function m(t,e,i,o){var r,a,l=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||o&&o.skip_focus||n.focus(),(o=n.fire("BeforeExecCommand",{command:t,ui:e,value:i})).isDefaultPrevented())return!1;if(a=t.toLowerCase(),r=P.exec[a])return r(a,e,i),n.fire("ExecCommand",{command:t,ui:e,value:i}),!0;if(s(n.plugins,function(o){if(o.execCommand&&o.execCommand(t,e,i))return n.fire("ExecCommand",{command:t,ui:e,value:i}),l=!0,!1}),l)return l;if(n.theme&&n.theme.execCommand&&n.theme.execCommand(t,e,i))return n.fire("ExecCommand",{command:t,ui:e,value:i}),!0;try{l=n.getDoc().execCommand(t,e,i)}catch(c){}return!!l&&(n.fire("ExecCommand",{command:t,ui:e,value:i}),!0)}function g(t){var e;if(!n.quirks.isHidden()){if(t=t.toLowerCase(),e=P.state[t])return e(t);try{return n.getDoc().queryCommandState(t)}catch(i){}return!1}}function v(t){var e;if(!n.quirks.isHidden()){if(t=t.toLowerCase(),e=P.value[t])return e(t);try{return n.getDoc().queryCommandValue(t)}catch(i){}}}function y(t,e){e=e||"exec",s(t,function(t,n){s(n.toLowerCase().split(","),function(n){P[e][n]=t})})}function b(t,e,i){t=t.toLowerCase(),P.exec[t]=function(t,o,r,a){return e.call(i||n,o,r,a)}}function w(t){if(t=t.toLowerCase(),P.exec[t])return!0;try{return n.getDoc().queryCommandSupported(t)}catch(e){}return!1}function C(t,e,i){t=t.toLowerCase(),P.state[t]=function(){return e.call(i||n)}}function x(t,e,i){t=t.toLowerCase(),P.value[t]=function(){return e.call(i||n)}}function _(t){return t=t.toLowerCase(),!!P.exec[t]}function k(t,i,o){return i===e&&(i=p),o===e&&(o=null),n.getDoc().execCommand(t,i,o)}function T(t){return N.match(t)}function S(t,i){N.toggle(t,i?{value:i}:e),n.nodeChanged()}function E(t){R=D.getBookmark(t)}function A(){D.moveToBookmark(R)}var $,D,N,R,P={state:{},exec:{},value:{}},I=n.settings;n.on("PreInit",function(){$=n.dom,D=n.selection,I=n.settings,N=n.formatter}),l(this,{execCommand:m,queryCommandState:g,queryCommandValue:v,queryCommandSupported:w,addCommands:y,addCommand:b,addQueryStateHandler:C,addQueryValueHandler:x,hasCustomCommand:_}),y({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(e){var i,o=n.getDoc();try{k(e)}catch(a){i=f}if("paste"!==e||o.queryCommandEnabled(e)||(i=!0),i||!o.queryCommandSupported(e)){var r=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");t.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),n.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(D.isCollapsed()){var t=n.dom.getParent(n.selection.getStart(),"a");t&&n.dom.remove(t,!0)}else N.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"==e&&(e="justify"),s("left,center,right,justify".split(","),function(t){e!=t&&N.remove("align"+t)}),"none"!=e&&S("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var e,n;k(t),(e=$.getParent(D.getNode(),"ol,ul"))&&(n=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(E(),$.split(n,e),A()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){S(t)},"ForeColor,HiliteColor,FontName":function(t,e,n){S(t,n)},FontSize:function(t,e,n){var i,o;n>=1&&n<=7&&(o=d(I.font_size_style_values),n=(i=d(I.font_size_classes))?i[n-1]||n:o[n-1]||n),S(t,n)},RemoveFormat:function(t){N.remove(t)},mceBlockQuote:function(){S("blockquote")},FormatBlock:function(t,e,n){return S(n||"p")},mceCleanup:function(){var t=D.getBookmark();n.setContent(n.getContent({cleanup:f}),{cleanup:f}),D.moveToBookmark(t)},mceRemoveNode:function(t,e,i){var o=i||D.getNode();o!=n.getBody()&&(E(),n.dom.remove(o,f),A())},mceSelectNodeDepth:function(t,e,i){var o=0;$.getParent(D.getNode(),function(t){if(1==t.nodeType&&o++==i)return D.select(t),p},n.getBody())},mceSelectNode:function(t,e,n){D.select(n)},mceInsertContent:function(t,e,i){r.insertAtCaret(n,i)},mceInsertRawHTML:function(t,e,i){D.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return i}))},mceToggleFormat:function(t,e,n){S(n)},mceSetContent:function(t,e,i){n.setContent(i)},"Indent,Outdent":function(t){var e,i,o;e=I.indentation,i=/[a-z%]+$/i.exec(e),e=parseInt(e,10),g("InsertUnorderedList")||g("InsertOrderedList")?k(t):(I.forced_root_block||$.getParent(D.getNode(),$.isBlock)||N.apply("div"),s(D.getSelectedBlocks(),function(r){if("false"!==$.getContentEditable(r)&&"LI"!==r.nodeName){var a=n.getParam("indent_use_margin",!1)?"margin":"padding";a="TABLE"===r.nodeName?"margin":a,a+="rtl"==$.getStyle(r,"direction",!0)?"Right":"Left","outdent"==t?(o=Math.max(0,parseInt(r.style[a]||0,10)-e),$.setStyle(r,a,o?o+i:"")):(o=parseInt(r.style[a]||0,10)+e+i,$.setStyle(r,a,o))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(t,e,i){n.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,D.getContent({format:"text"})))},mceInsertLink:function(t,e,n){var i;"string"==typeof n&&(n={href:n}),i=$.getParent(D.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||N.remove("link"),n.href&&N.apply("link",n,i)},selectAll:function(){var t,e=$.getRoot();if(D.getRng().setStart){var n=$.getParent(D.getStart(),a.isContentEditableTrue);n&&((t=$.createRng()).selectNodeContents(n),D.setRng(t))}else(t=D.getRng()).item||(t.moveToElementText(e),t.select())},"delete":function(){k("Delete");var t=n.getBody();$.isEmpty(t)&&(n.setContent(""),t.firstChild&&$.isBlock(t.firstChild)?n.selection.setCursorLocation(t.firstChild,0):n.selection.setCursorLocation(t,0))},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(t,e,r){function a(){for(var t,e=new o(m,v),i=n.schema.getNonEmptyElements();t=e.next();)if(i[t.nodeName.toLowerCase()]||t.length>0)return!0}var s,l,c,u=r,d=D.getRng(!0);new i($).normalize(d);var p=d.startOffset,m=d.startContainer;if(1==m.nodeType&&m.hasChildNodes()){var g=p>m.childNodes.length-1;m=m.childNodes[Math.min(p,m.childNodes.length-1)]||m,p=g&&3==m.nodeType?m.nodeValue.length:0}var v=$.getParent(m,$.isBlock),y=v?v.nodeName.toUpperCase():"",b=v?$.getParent(v.parentNode,$.isBlock):null,w=b?b.nodeName.toUpperCase():"",C=u&&u.ctrlKey;"LI"!=w||C||(v=b,y=w),m&&3==m.nodeType&&p>=m.nodeValue.length&&(h||a()||(s=$.create("br"),d.insertNode(s),d.setStartAfter(s),d.setEndAfter(s),l=!0)),s=$.create("br"),d.insertNode(s);var x=$.doc.documentMode;return h&&"PRE"==y&&(!x||x<8)&&s.parentNode.insertBefore($.doc.createTextNode("\r"),s),c=$.create("span",{},"&nbsp;"),s.parentNode.insertBefore(c,s),D.scrollIntoView(c),$.remove(c),l?(d.setStartBefore(s),d.setEndBefore(s)):(d.setStartAfter(s),d.setEndAfter(s)),D.setRng(d),n.undoManager.add(),f}}),y({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var e="align"+t.substring(7),n=D.isCollapsed()?[$.getParent(D.getNode(),$.isBlock)]:D.getSelectedBlocks(),i=c(n,function(t){return!!N.matchNode(t,e)});return-1!==u(i,f)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return T(t)},mceBlockQuote:function(){return T("blockquote")},Outdent:function(){var t;if(I.inline_styles){if((t=$.getParent(D.getStart(),$.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return f;if((t=$.getParent(D.getEnd(),$.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return f}return g("InsertUnorderedList")||g("InsertOrderedList")||!I.inline_styles&&!!$.getParent(D.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var e=$.getParent(D.getNode(),"ul,ol");return e&&("insertunorderedlist"===t&&"UL"===e.tagName||"insertorderedlist"===t&&"OL"===e.tagName)}},"state"),y({"FontSize,FontName":function(t){var e,n=0;return(e=$.getParent(D.getNode(),"span"))&&(n="fontsize"==t?e.style.fontSize:e.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),y({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),
/**
 * URI.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/URI",["tinymce/util/Tools"],function(t){function e(t,r){var a,s,l=this;if(t=i(t),a=(r=l.settings=r||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))l.source=t;else{var c=0===t.indexOf("//");0!==t.indexOf("/")||c||(t=(a&&a.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(s=r.base_uri?r.base_uri.path:new e(location.href).directory,""===r.base_uri.protocol?t="//mce_host"+l.toAbsPath(s,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(a&&a.protocol||"http")+"://mce_host"+l.toAbsPath(s,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),n(o,function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),l[e]=i}),a&&(l.protocol||(l.protocol=a.protocol),l.userInfo||(l.userInfo=a.userInfo),l.port||"mce_host"!==l.host||(l.port=a.port),l.host&&"mce_host"!==l.host||(l.host=a.host),l.source=""),c&&(l.protocol="")}}var n=t.each,i=t.trim,o="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),r={ftp:21,http:80,https:443,mailto:25};return e.prototype={setPath:function(t){var e=this;t=/^(.*?)\/?(\w+)?$/.exec(t),e.path=t[0],e.directory=t[1],e.file=t[2],e.source="",e.getURI()},toRelative:function(t){var n,i=this;if("./"===t)return t;if("mce_host"!=(t=new e(t,{base_uri:i})).host&&i.host!=t.host&&t.host||i.port!=t.port||i.protocol!=t.protocol&&""!==t.protocol)return t.getURI();var o=i.getURI(),r=t.getURI();return o==r||"/"==o.charAt(o.length-1)&&o.substr(0,o.length-1)==r?o:(n=i.toRelPath(i.path,t.path),t.query&&(n+="?"+t.query),t.anchor&&(n+="#"+t.anchor),n)},toAbsolute:function(t,n){return(t=new e(t,{base_uri:this})).getURI(n&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=r[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},toRelPath:function(t,e){var n,i,o,r=0,a="";if(t=(t=t.substring(0,t.lastIndexOf("/"))).split("/"),n=e.split("/"),t.length>=n.length)for(i=0,o=t.length;i<o;i++)if(i>=n.length||t[i]!=n[i]){r=i+1;break}if(t.length<n.length)for(i=0,o=n.length;i<o;i++)if(i>=t.length||t[i]!=n[i]){r=i+1;break}if(1===r)return e;for(i=0,o=t.length-(r-1);i<o;i++)a+="../";for(i=r-1,o=n.length;i<o;i++)a+=i!=r-1?"/"+n[i]:n[i];return a},toAbsPath:function(t,e){var i,o,r,a=0,s=[];for(o=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),n(t,function(t){t&&s.push(t)}),t=s,i=e.length-1,s=[];i>=0;i--)0!==e[i].length&&"."!==e[i]&&(".."!==e[i]?a>0?a--:s.push(e[i]):a++);return 0!==(r=(i=t.length-a)<=0?s.reverse().join("/"):t.slice(0,i).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(r="/"+r),o&&r.lastIndexOf("/")!==r.length-1&&(r+=o),r},getURI:function(t){var e,n=this;return n.source&&!t||(e="",t||(n.protocol?e+=n.protocol+"://":e+="//",n.userInfo&&(e+=n.userInfo+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port)),n.path&&(e+=n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),n.source=e),n.source}},e.parseDataUri=function(t){var e,n;return t=decodeURIComponent(t).split(","),(n=/data:([^;]+)/.exec(t[0]))&&(e=n[1]),{type:e,data:t[1]}},e.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},e}),
/**
 * Class.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Class",["tinymce/util/Tools"],function(t){function e(){}var n,i,o=t.each,r=t.extend;return e.extend=n=function(t){function e(){var t,e,n,o=this;if(!i&&(o.init&&o.init.apply(o,arguments),e=o.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(o,arguments)}function a(){return this}function s(t,e){return function(){var n,i=this,o=i._super;return i._super=h[t],n=e.apply(i,arguments),i._super=o,n}}var l,c,u,d=this,h=d.prototype;for(c in i=!0,l=new d,i=!1,t.Mixins&&(o(t.Mixins,function(e){for(var n in e)"init"!==n&&(t[n]=e[n])}),h.Mixins&&(t.Mixins=h.Mixins.concat(t.Mixins))),t.Methods&&o(t.Methods.split(","),function(e){t[e]=a}),t.Properties&&o(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){var e,i=this;return t!==e?(i[n]=t,i):i[n]}}),t.Statics&&o(t.Statics,function(t,n){e[n]=t}),t.Defaults&&h.Defaults&&(t.Defaults=r({},h.Defaults,t.Defaults)),t)"function"==typeof(u=t[c])&&h[c]?l[c]=s(c,u):l[c]=u;return e.prototype=l,e.constructor=e,e.extend=n,e},e}),
/**
 * EventDispatcher.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(t){function e(e){function n(){return!1}function i(){return!0}function o(t,o){var r,s,l,u;if(t=t.toLowerCase(),(o=o||{}).type=t,o.target||(o.target=c),o.preventDefault||(o.preventDefault=function(){o.isDefaultPrevented=i},o.stopPropagation=function(){o.isPropagationStopped=i},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=i},o.isDefaultPrevented=n,o.isPropagationStopped=n,o.isImmediatePropagationStopped=n),e.beforeFire&&e.beforeFire(o),r=h[t])for(s=0,l=r.length;s<l;s++){if((u=r[s]).once&&a(t,u.func),o.isImmediatePropagationStopped())return o.stopPropagation(),o;if(!1===u.func.call(c,o))return o.preventDefault(),o}return o}function r(e,i,o,r){var a,s,l;if(!1===i&&(i=n),i)for(i={func:i},r&&t.extend(i,r),l=(s=e.toLowerCase().split(" ")).length;l--;)e=s[l],(a=h[e])||(a=h[e]=[],u(e,!0)),o?a.unshift(i):a.push(i);return d}function a(t,e){var n,i,o,r,a;if(t)for(n=(r=t.toLowerCase().split(" ")).length;n--;){if(t=r[n],i=h[t],!t){for(o in h)u(o,!1),delete h[o];return d}if(i){if(e)for(a=i.length;a--;)i[a].func===e&&(i=i.slice(0,a).concat(i.slice(a+1)),h[t]=i);else i.length=0;i.length||(u(t,!1),delete h[t])}}else{for(t in h)u(t,!1);h={}}return d}function s(t,e,n){return r(t,e,n,{once:!0})}function l(t){return t=t.toLowerCase(),!(!h[t]||0===h[t].length)}var c,u,d=this,h={};c=(e=e||{}).scope||d,u=e.toggleEvent||n,d.fire=o,d.on=r,d.off=a,d.once=s,d.has=l}var n=t.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return e.isNative=function(t){return!!n[t.toLowerCase()]},e}),
/**
 * Binding.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/data/Binding",[],function(){function t(t){this.create=t.create}return t.create=function(e,n){return new t({create:function(t,i){function o(e){t.set(i,e.value)}function r(t){e.set(n,t.value)}var a;return t.on("change:"+i,r),e.on("change:"+n,o),(a=t._bindings)||(a=t._bindings=[],t.on("destroy",function(){for(var t=a.length;t--;)a[t]()})),a.push(function(){e.off("change:"+n,o)}),e.get(n)}})},t}),
/**
 * Observable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(t){function e(e){return e._eventDispatcher||(e._eventDispatcher=new t({scope:e,toggleEvent:function(n,i){t.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,i)}})),e._eventDispatcher}return{fire:function(t,n,i){var o=this;if(o.removed&&"remove"!==t)return n;if(n=e(o).fire(t,n,i),!1!==i&&o.parent)for(var r=o.parent();r&&!n.isPropagationStopped();)r.fire(t,n,!1),r=r.parent();return n},on:function(t,n,i){return e(this).on(t,n,i)},off:function(t,n){return e(this).off(t,n)},once:function(t,n){return e(this).once(t,n)},hasEventListeners:function(t){return e(this).has(t)}}}),
/**
 * ObservableObject.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(t,e,n,i){function o(t){return t.nodeType>0}function r(t,e){var n,a;if(t===e)return!0;if(null===t||null===e)return t===e;if("object"!=typeof t||"object"!=typeof e)return t===e;if(i.isArray(e)){if(t.length!==e.length)return!1;for(n=t.length;n--;)if(!r(t[n],e[n]))return!1}if(o(t)||o(e))return t===e;for(n in a={},e){if(!r(t[n],e[n]))return!1;a[n]=!0}for(n in t)if(!a[n]&&!r(t[n],e[n]))return!1;return!0}return n.extend({Mixins:[e],init:function(e){var n,i;for(n in e=e||{})(i=e[n])instanceof t&&(e[n]=i.create(this,n));this.data=e},set:function(e,n){var i,o,a=this.data[e];if(n instanceof t&&(n=n.create(this,e)),"object"==typeof e){for(i in e)this.set(i,e[i]);return this}return r(a,n)||(this.data[e]=n,o={target:this,name:e,value:n,oldValue:a},this.fire("change:"+e,o),this.fire("change",o)),this},get:function(t){return this.data[t]},has:function(t){return t in this.data},bind:function(e){return t.create(this,e)},destroy:function(){this.fire("destroy")}})}),
/**
 * Selector.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Selector",["tinymce/util/Class"],function(t){function e(t){for(var e,n=[],i=t.length;i--;)(e=t[i]).__checked||(n.push(e),e.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}var n,i=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r=/^\s*|\s*$/g,a=t.extend({init:function(t){function e(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t}}function n(t){if(t)return function(e){return e._name===t}}function a(t){if(t)return t=t.split("."),function(e){for(var n=t.length;n--;)if(!e.classes.contains(t[n]))return!1;return!0}}function s(t,e,n){if(t)return function(i){var o=i[t]?i[t]():"";return e?"="===e?o===n:"*="===e?o.indexOf(n)>=0:"~="===e?(" "+o+" ").indexOf(" "+n+" ")>=0:"!="===e?o!=n:"^="===e?0===o.indexOf(n):"$="===e&&o.substr(o.length-n.length)===n:!!n}}function l(t){var e;if(t)return(t=/(?:not\((.+)\))|(.+)/i.exec(t))[1]?(e=u(t[1],[]),function(t){return!d(t,e)}):(t=t[2],function(e,n,i){return"first"===t?0===n:"last"===t?n===i-1:"even"===t?n%2==0:"odd"===t?n%2==1:!!e[t]&&e[t]()})}function c(t,o,c){function u(t){t&&o.push(t)}var d;return u(e((d=i.exec(t.replace(r,"")))[1])),u(n(d[2])),u(a(d[3])),u(s(d[4],d[5],d[6])),u(l(d[7])),o.pseudo=!!d[7],o.direct=c,o}function u(t,e){var n,i,r,a=[];do{if(o.exec(""),(i=o.exec(t))&&(t=i[3],a.push(i[1]),i[2])){n=i[3];break}}while(i);for(n&&u(n,e),t=[],r=0;r<a.length;r++)">"!=a[r]&&t.push(c(a[r],[],">"===a[r-1]));return e.push(t),e}var d=this.match;this._selectors=u(t,[])},match:function(t,e){var n,i,o,r,a,s,l,c,u,d,h,f,p;for(n=0,i=(e=e||this._selectors).length;n<i;n++){for(p=t,f=0,o=(r=(a=e[n]).length)-1;o>=0;o--)for(c=a[o];p;){if(c.pseudo)for(u=d=(h=p.parent().items()).length;u--&&h[u]!==p;);for(s=0,l=c.length;s<l;s++)if(!c[s](p,u,d)){s=l+1;break}if(s===l){f++;break}if(o===r-1)break;p=p.parent()}if(f===r)return!0}return!1},find:function(t){function i(t,e,n){var o,r,a,l,c,u=e[n];for(o=0,r=t.length;o<r;o++){for(c=t[o],a=0,l=u.length;a<l;a++)if(!u[a](c,o,r)){a=l+1;break}if(a===l)n==e.length-1?s.push(c):c.items&&i(c.items(),e,n+1);else if(u.direct)return;c.items&&i(c.items(),e,n)}}var o,r,s=[],l=this._selectors;if(t.items){for(o=0,r=l.length;o<r;o++)i(t.items(),l[o],0);r>1&&(s=e(s))}return n||(n=a.Collection),new n(s)}});return a}),
/**
 * Collection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(t,e,n){var i,o,r=Array.prototype.push,a=Array.prototype.slice;return o={length:0,init:function(t){t&&this.add(t)},add:function(e){var n=this;return t.isArray(e)?r.apply(n,e):e instanceof i?n.add(e.toArray()):r.call(n,e),n},set:function(t){var e,n=this,i=n.length;for(n.length=0,n.add(t),e=n.length;e<i;e++)delete n[e];return n},filter:function(t){var n,o,r,a,s=this,l=[];for("string"==typeof t?(t=new e(t),a=function(e){return t.match(e)}):a=t,n=0,o=s.length;n<o;n++)a(r=s[n])&&l.push(r);return new i(l)},slice:function(){return new i(a.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},each:function(e){return t.each(this,e),this},toArray:function(){return t.toArray(this)},indexOf:function(t){for(var e=this,n=e.length;n--&&e[n]!==t;);return n},reverse:function(){return new i(t.toArray(this).reverse())},hasClass:function(t){return!!this[0]&&this[0].classes.contains(t)},prop:function(t,e){var n,i,o=this;return e!==n?(o.each(function(n){n[t]&&n[t](e)}),o):(i=o[0])&&i[t]?i[t]():void 0},exec:function(e){var n=this,i=t.toArray(arguments).slice(1);return n.each(function(t){t[e]&&t[e].apply(t,i)}),n},remove:function(){for(var t=this.length;t--;)this[t].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}},t.each("fire on off show hide append prepend before after reflow".split(" "),function(e){o[e]=function(){var n=t.toArray(arguments);return this.each(function(t){e in t&&t[e].apply(t,n)}),this}}),t.each("text name disabled active selected checked visible parent value data".split(" "),function(t){o[t]=function(e){return this.prop(t,e)}}),i=n.extend(o),e.Collection=i,i}),
/**
 * DomUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/DomUtils",["tinymce/Env","tinymce/util/Tools","tinymce/dom/DOMUtils"],function(t,e,n){var i=0,o={id:function(){return"mceu_"+i++},create:function(t,i,o){var r=document.createElement(t);return n.DOM.setAttribs(r,i),"string"==typeof o?r.innerHTML=o:e.each(o,function(t){t.nodeType&&r.appendChild(t)}),r},createFragment:function(t){return n.DOM.createFragment(t)},getWindowSize:function(){return n.DOM.getViewPort()},getSize:function(t){var e,n;if(t.getBoundingClientRect){var i=t.getBoundingClientRect();e=Math.max(i.width||i.right-i.left,t.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,t.offsetHeight)}else e=t.offsetWidth,n=t.offsetHeight;return{width:e,height:n}},getPos:function(t,e){return n.DOM.getPos(t,e||o.getContainer())},getContainer:function(){return t.container?t.container:document.body},getViewPort:function(t){return n.DOM.getViewPort(t)},get:function(t){return document.getElementById(t)},addClass:function(t,e){return n.DOM.addClass(t,e)},removeClass:function(t,e){return n.DOM.removeClass(t,e)},hasClass:function(t,e){return n.DOM.hasClass(t,e)},toggleClass:function(t,e,i){return n.DOM.toggleClass(t,e,i)},css:function(t,e,i){return n.DOM.setStyle(t,e,i)},getRuntimeStyle:function(t,e){return n.DOM.getStyle(t,e,!0)},on:function(t,e,i,o){return n.DOM.bind(t,e,i,o)},off:function(t,e,i){return n.DOM.unbind(t,e,i)},fire:function(t,e,i){return n.DOM.fire(t,e,i)},innerHtml:function(t,e){n.DOM.setHTML(t,e)}};return o}),
/**
 * BoxUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(t){var e,n=10;if(t)return"number"==typeof t?{top:t=t||0,left:t,bottom:t,right:t}:(1===(e=(t=t.split(" ")).length)?t[1]=t[2]=t[3]=t[0]:2===e?(t[2]=t[0],t[3]=t[1]):3===e&&(t[3]=t[1]),{top:parseInt(t[0],n)||0,right:parseInt(t[1],n)||0,bottom:parseInt(t[2],n)||0,left:parseInt(t[3],n)||0})},measureBox:function(t,e){function n(e){var n=document.defaultView;return n?(e=e.replace(/[A-Z]/g,function(t){return"-"+t}),n.getComputedStyle(t,null).getPropertyValue(e)):t.currentStyle[e]}function i(t){var e=parseFloat(n(t),10);return isNaN(e)?0:e}return{top:i(e+"TopWidth"),right:i(e+"RightWidth"),bottom:i(e+"BottomWidth"),left:i(e+"LeftWidth")}}}}),
/**
 * ClassList.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ClassList",["tinymce/util/Tools"],function(t){function e(){}function n(t){this.cls=[],this.cls._map={},this.onchange=t||e,this.prefix=""}return t.extend(n.prototype,{add:function(t){return t&&!this.contains(t)&&(this.cls._map[t]=!0,this.cls.push(t),this._change()),this},remove:function(t){if(this.contains(t)){for(var e=0;e<this.cls.length&&this.cls[e]!==t;e++);this.cls.splice(e,1),delete this.cls._map[t],this._change()}return this},toggle:function(t,e){var n=this.contains(t);return n!==e&&(n?this.remove(t):this.add(t),this._change()),this},contains:function(t){return!!this.cls._map[t]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var t;if(this.clsValue)return this.clsValue;t="";for(var e=0;e<this.cls.length;e++)e>0&&(t+=" "),t+=this.prefix+this.cls[e];return t},n}),
/**
 * ReflowQueue.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(t){var e,n={};return{add:function(i){var o=i.parent();if(o){if(!o._layout||o._layout.isNative())return;n[o._id]||(n[o._id]=o),e||(e=!0,t.requestAnimationFrame(function(){var t,i;for(t in e=!1,n)(i=n[t]).state.get("rendered")&&i.reflow();n={}},document.body))}},remove:function(t){n[t._id]&&delete n[t._id]}}}),
/**
 * Control.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(t,e,n,i,o,r,a,s,l,c){function u(t){return t._eventDispatcher||(t._eventDispatcher=new n({scope:t,toggleEvent:function(e,i){i&&n.isNative(e)&&(t._nativeEvents||(t._nativeEvents={}),t._nativeEvents[e]=!0,t.state.get("rendered")&&d(t))}})),t._eventDispatcher}function d(t){function e(e){var n=t.getParentCtrl(e.target);n&&n.fire(e.type,e)}function n(){var t=c._lastHoverCtrl;t&&(t.fire("mouseleave",{target:t.getEl()}),t.parents().each(function(t){t.fire("mouseleave",{target:t.getEl()})}),c._lastHoverCtrl=null)}function i(e){var n,i,o,r=t.getParentCtrl(e.target),a=c._lastHoverCtrl,s=0;if(r!==a){if(c._lastHoverCtrl=r,(i=r.parents().toArray().reverse()).push(r),a){for((o=a.parents().toArray().reverse()).push(a),s=0;s<o.length&&i[s]===o[s];s++);for(n=o.length-1;n>=s;n--)(a=o[n]).fire("mouseleave",{target:a.getEl()})}for(n=s;n<i.length;n++)(r=i[n]).fire("mouseenter",{target:r.getEl()})}}function o(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=t.fire("wheel",e)}var r,s,l,c,u,d;if(u=t._nativeEvents){for((l=t.parents().toArray()).unshift(t),r=0,s=l.length;!c&&r<s;r++)c=l[r]._eventsRoot;for(c||(c=l[l.length-1]||t),t._eventsRoot=c,s=r,r=0;r<s;r++)l[r]._eventsRoot=c;var h=c._delegates;for(d in h||(h=c._delegates={}),u){if(!u)return!1;"wheel"!==d||p?("mouseenter"===d||"mouseleave"===d?c._hasMouseEnter||(a(c.getEl()).on("mouseleave",n).on("mouseover",i),c._hasMouseEnter=1):h[d]||(a(c.getEl()).on(d,e),h[d]=!0),u[d]=!1):f?a(t.getEl()).on("mousewheel",o):a(t.getEl()).on("DOMMouseScroll",o)}}}var h,f="onmousewheel"in document,p=!1,m="mce-",g=0,v={Statics:{classPrefix:m},isRtl:function(){return h.rtl},classPrefix:m,init:function(t){function n(t){var e;for(t=t.split(" "),e=0;e<t.length;e++)c.classes.add(t[e])}var o,r,c=this;c.settings=t=e.extend({},c.Defaults,t),c._id=t.id||"mceu_"+g++,c._aria={role:t.role},c._elmCache={},c.$=a,c.state=new i({visible:!0,active:!1,disabled:!1,value:""}),c.data=new i(t.data),c.classes=new l(function(){c.state.get("rendered")&&(c.getEl().className=this.toString())}),c.classes.prefix=c.classPrefix,(o=t.classes)&&(c.Defaults&&(r=c.Defaults.classes)&&o!=r&&n(r),n(o)),e.each("title text name visible disabled active value".split(" "),function(e){e in t&&c[e](t[e])}),c.on("click",function(){if(c.disabled())return!1}),c.settings=t,c.borderBox=s.parseBox(t.border),c.paddingBox=s.parseBox(t.padding),c.marginBox=s.parseBox(t.margin),t.hidden&&c.hide()},Properties:"parent,name",getContainerElm:function(){return r.getContainer()},getParentCtrl:function(t){for(var e,n=this.getRoot().controlIdLookup;t&&n&&!(e=n[t.id]);)t=t.parentNode;return e},initLayoutRect:function(){var t,e,n,i,o,a,l,c,u,d,h=this,f=h.settings,p=h.getEl();t=h.borderBox=h.borderBox||s.measureBox(p,"border"),h.paddingBox=h.paddingBox||s.measureBox(p,"padding"),h.marginBox=h.marginBox||s.measureBox(p,"margin"),d=r.getSize(p),c=f.minWidth,u=f.minHeight,o=c||d.width,a=u||d.height,n=f.width,i=f.height,l=void 0!==(l=f.autoResize)?l:!n&&!i,n=n||o,i=i||a;var m=t.left+t.right,g=t.top+t.bottom,v=f.maxWidth||65535,y=f.maxHeight||65535;return h._layoutRect=e={x:f.x||0,y:f.y||0,w:n,h:i,deltaW:m,deltaH:g,contentW:n-m,contentH:i-g,innerW:n-m,innerH:i-g,startMinWidth:c||0,startMinHeight:u||0,minW:Math.min(o,v),minH:Math.min(a,y),maxW:v,maxH:y,autoResize:l,scrollW:0},h._lastLayoutRect={},e},layoutRect:function(t){var e,n,i,o,r,a,s=this,l=s._layoutRect;return l||(l=s.initLayoutRect()),t?(i=l.deltaW,o=l.deltaH,t.x!==r&&(l.x=t.x),t.y!==r&&(l.y=t.y),t.minW!==r&&(l.minW=t.minW),t.minH!==r&&(l.minH=t.minH),(n=t.w)!==r&&(n=(n=n<l.minW?l.minW:n)>l.maxW?l.maxW:n,l.w=n,l.innerW=n-i),(n=t.h)!==r&&(n=(n=n<l.minH?l.minH:n)>l.maxH?l.maxH:n,l.h=n,l.innerH=n-o),(n=t.innerW)!==r&&(n=(n=n<l.minW-i?l.minW-i:n)>l.maxW-i?l.maxW-i:n,l.innerW=n,l.w=n+i),(n=t.innerH)!==r&&(n=(n=n<l.minH-o?l.minH-o:n)>l.maxH-o?l.maxH-o:n,l.innerH=n,l.h=n+o),t.contentW!==r&&(l.contentW=t.contentW),t.contentH!==r&&(l.contentH=t.contentH),(e=s._lastLayoutRect).x===l.x&&e.y===l.y&&e.w===l.w&&e.h===l.h||((a=h.repaintControls)&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),e.x=l.x,e.y=l.y,e.w=l.w,e.h=l.h),s):l},repaint:function(){var t,e,n,i,o,r,a,s,l,c,u=this;l=document.createRange?function(t){return t}:Math.round,t=u.getEl().style,i=u._layoutRect,s=u._lastRepaintRect||{},r=(o=u.borderBox).left+o.right,a=o.top+o.bottom,i.x!==s.x&&(t.left=l(i.x)+"px",s.x=i.x),i.y!==s.y&&(t.top=l(i.y)+"px",s.y=i.y),i.w!==s.w&&(c=l(i.w-r),t.width=(c>=0?c:0)+"px",s.w=i.w),i.h!==s.h&&(c=l(i.h-a),t.height=(c>=0?c:0)+"px",s.h=i.h),u._hasBody&&i.innerW!==s.innerW&&(c=l(i.innerW),(n=u.getEl("body"))&&((e=n.style).width=(c>=0?c:0)+"px"),s.innerW=i.innerW),u._hasBody&&i.innerH!==s.innerH&&(c=l(i.innerH),(n=n||u.getEl("body"))&&((e=e||n.style).height=(c>=0?c:0)+"px"),s.innerH=i.innerH),u._lastRepaintRect=s,u.fire("repaint",{},!1)},updateLayoutRect:function(){var t=this;t.parent()._lastRect=null,r.css(t.getEl(),{width:"",height:""}),t._layoutRect=t._lastRepaintRect=t._lastLayoutRect=null,t.initLayoutRect()},on:function(t,e){function n(t){var e,n;return"string"!=typeof t?t:function(o){return e||i.parentsAndSelf().each(function(i){var o=i.settings.callbacks;if(o&&(e=o[t]))return n=i,!1}),e?e.call(n,o):(o.action=t,void this.fire("execute",o))}}var i=this;return u(i).on(t,n(e)),i},off:function(t,e){return u(this).off(t,e),this},fire:function(t,e,n){var i=this;if((e=e||{}).control||(e.control=i),e=u(i).fire(t,e),!1!==n&&i.parent)for(var o=i.parent();o&&!e.isPropagationStopped();)o.fire(t,e,!1),o=o.parent();return e},hasEventListeners:function(t){return u(this).has(t)},parents:function(t){var e,n=this,i=new o;for(e=n.parent();e;e=e.parent())i.add(e);return t&&(i=i.filter(t)),i},parentsAndSelf:function(t){return new o(this).add(this.parents(t))},next:function(){var t=this.parent().items();return t[t.indexOf(this)+1]},prev:function(){var t=this.parent().items();return t[t.indexOf(this)-1]},innerHtml:function(t){return this.$el.html(t),this},getEl:function(t){var e=t?this._id+"-"+t:this._id;return this._elmCache[e]||(this._elmCache[e]=a("#"+e)[0]),this._elmCache[e]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(t){}return this},blur:function(){return this.getEl().blur(),this},aria:function(t,e){var n=this,i=n.getEl(n.ariaTarget);return void 0===e?n._aria[t]:(n._aria[t]=e,n.state.get("rendered")&&i.setAttribute("role"==t?t:"aria-"+t,e),n)},encode:function(t,e){return!1!==e&&(t=this.translate(t)),(t||"").replace(/[&<>"]/g,function(t){return"&#"+t.charCodeAt(0)+";"})},translate:function(t){return h.translate?h.translate(t):t},before:function(t){var e=this,n=e.parent();return n&&n.insert(t,n.items().indexOf(e),!0),e},after:function(t){var e=this,n=e.parent();return n&&n.insert(t,n.items().indexOf(e)),e},remove:function(){var t,e,n=this,i=n.getEl(),o=n.parent();if(n.items){var r=n.items().toArray();for(e=r.length;e--;)r[e].remove()}o&&o.items&&(t=[],o.items().each(function(e){e!==n&&t.push(e)}),o.items().set(t),o._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&a(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(t){return a(t).before(this.renderHtml()),this.postRender(),this},renderTo:function(t){return a(t||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var t,e,n,i,o,r=this,s=r.settings;for(i in r.$el=a(r.getEl()),r.state.set("rendered",!0),s)0===i.indexOf("on")&&r.on(i.substr(2),s[i]);if(r._eventsRoot){for(n=r.parent();!o&&n;n=n.parent())o=n._eventsRoot;if(o)for(i in o._nativeEvents)r._nativeEvents[i]=!0}d(r),s.style&&(t=r.getEl())&&(t.setAttribute("style",s.style),t.style.cssText=s.style),r.settings.border&&(e=r.borderBox,r.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left}));var l=r.getRoot();for(var u in l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[r._id]=r,r._aria)r.aria(u,r._aria[u]);!1===r.state.get("visible")&&(r.getEl().style.display="none"),r.bindStates(),r.state.on("change:visible",function(t){var e,n=t.value;r.state.get("rendered")&&(r.getEl().style.display=!1===n?"none":"",r.getEl().getBoundingClientRect()),(e=r.parent())&&(e._lastRect=null),r.fire(n?"show":"hide"),c.add(r)}),r.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(t){function e(t,e){var n,i,o=t;for(n=i=0;o&&o!=e&&o.nodeType;)n+=o.offsetLeft||0,i+=o.offsetTop||0,o=o.offsetParent;return{x:n,y:i}}var n,i,o,r,a,s,l=this.getEl(),c=l.parentNode,u=e(l,c);return n=u.x,i=u.y,o=l.offsetWidth,r=l.offsetHeight,a=c.clientWidth,s=c.clientHeight,"end"==t?(n-=a-o,i-=s-r):"center"==t&&(n-=a/2-o/2,i-=s/2-r/2),c.scrollLeft=n,c.scrollTop=i,this},getRoot:function(){for(var t,e=this,n=[];e;){if(e.rootControl){t=e.rootControl;break}n.push(e),t=e,e=e.parent()}t||(t=this);for(var i=n.length;i--;)n[i].rootControl=t;return t},reflow:function(){c.remove(this);var t=this.parent();return t._layout&&!t._layout.isNative()&&t.reflow(),this}};return e.each("text title visible disabled active value".split(" "),function(t){v[t]=function(e){return 0===arguments.length?this.state.get(t):(void 0!==e&&this.state.set(t,e),this)}}),h=t.extend(v)}),
/**
 * Factory.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Factory",[],function(){var t,e={};return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,i){var o,r,a;if(!t){for(r in a=tinymce.ui)e[r.toLowerCase()]=a[r];t=!0}if("string"==typeof n?(i=i||{}).type=n:n=(i=n).type,n=n.toLowerCase(),!(o=e[n]))throw new Error("Could not find control by type: "+n);return(o=new o(i)).type=n,o}}}),
/**
 * KeyboardNavigation.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/KeyboardNavigation",[],function(){return function(t){function e(t){return t&&1===t.nodeType}function n(t){return e(t=t||b)?t.getAttribute("role"):null}function i(t){for(var e,i=t||b;i=i.parentNode;)if(e=n(i))return e}function o(t){var n=b;if(e(n))return n.getAttribute("aria-"+t)}function r(t){var e=t.tagName.toUpperCase();return"INPUT"==e||"TEXTAREA"==e||"SELECT"==e}function a(t){return!(!r(t)||t.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(t))}function s(t){function e(t){if(1==t.nodeType&&"none"!=t.style.display&&!t.disabled){a(t)&&n.push(t);for(var i=0;i<t.childNodes.length;i++)e(t.childNodes[i])}}var n=[];return e(t||C.getEl()),n}function l(t){var e,n;(n=(t=t||w).parents().toArray()).unshift(t);for(var i=0;i<n.length&&!(e=n[i]).settings.ariaRoot;i++);return e}function c(t){var e=l(t),n=s(e.getEl());e.settings.ariaRemember&&"lastAriaIndex"in e?u(e.lastAriaIndex,n):u(0,n)}function u(t,e){return t<0?t=e.length-1:t>=e.length&&(t=0),e[t]&&e[t].focus(),t}function d(t,e){var n=-1,i=l();e=e||s(i.getEl());for(var o=0;o<e.length;o++)e[o]===b&&(n=o);n+=t,i.lastAriaIndex=u(n,e)}function h(){"tablist"==i()?d(-1,s(b.parentNode)):w.parent().submenu?v():d(-1)}function f(){var t=n(),e=i();"tablist"==e?d(1,s(b.parentNode)):"menuitem"==t&&"menu"==e&&o("haspopup")?y():d(1)}function p(){d(-1)}function m(){var t=n(),e=i();"menuitem"==t&&"menubar"==e?y():"button"==t&&o("haspopup")?y({key:"down"}):d(1)}function g(t){if("tablist"==i()){var e=s(w.getEl("body"))[0];e&&e.focus()}else d(t.shiftKey?-1:1)}function v(){w.fire("cancel")}function y(t){t=t||{},w.fire("click",{target:b,aria:t})}var b,w,C=t.root;try{b=document.activeElement}catch(x){b=document.body}return w=C.getParentCtrl(b),C.on("keydown",function(t){function e(t,e){r(b)||"slider"!==n(b)&&!1!==e(t)&&t.preventDefault()}if(!t.isDefaultPrevented())switch(t.keyCode){case 37:e(t,h);break;case 39:e(t,f);break;case 38:e(t,p);break;case 40:e(t,m);break;case 27:v();break;case 14:case 13:case 32:e(t,y);break;case 9:!1!==g(t)&&t.preventDefault()}}),C.on("focusin",function(t){b=t.target,w=t.control}),{focusFirst:c}}}),
/**
 * Container.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(t,e,n,i,o,r,a,s,l){var c={};return t.extend({init:function(t){var n=this;n._super(t),(t=n.settings).fixed&&n.state.set("fixed",!0),n._items=new e,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new s(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),t.containerCls&&n.classes.add(t.containerCls),n._layout=i.create((t.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(t){return(t=c[t]=c[t]||new n(t)).find(this)},add:function(t){var e=this;return e.items().add(e.create(t)).parent(e),e},focus:function(t){var e,n,i,o=this;if(!t||!(n=o.keyboardNav||o.parents().eq(-1)[0].keyboardNav))return i=o.find("*"),o.statusbar&&i.add(o.statusbar.items()),i.each(function(t){if(t.settings.autofocus)return e=null,!1;t.canFocus&&(e=e||t)}),e&&e.focus(),o;n.focusFirst(o)},replace:function(t,e){for(var n,i=this.items(),o=i.length;o--;)if(i[o]===t){i[o]=e;break}o>=0&&((n=e.getEl())&&n.parentNode.removeChild(n),(n=t.getEl())&&n.parentNode.removeChild(n)),e.parent(this)},create:function(e){var n,o=this,a=[];return r.isArray(e)||(e=[e]),r.each(e,function(e){e&&(e instanceof t||("string"==typeof e&&(e={type:e}),n=r.extend({},o.settings.defaults,e),e.type=n.type=n.type||e.type||o.settings.defaultType||(n.defaults?n.defaults.type:null),e=i.create(n)),a.push(e))}),a},renderNew:function(){var t=this;return t.items().each(function(e,n){var i;e.parent(t),e.state.get("rendered")||((i=t.getEl("body")).hasChildNodes()&&n<=i.childNodes.length-1?a(i.childNodes[n]).before(e.renderHtml()):a(i).append(e.renderHtml()),e.postRender(),l.add(e))}),t._layout.applyClasses(t.items().filter(":visible")),t._lastRect=null,t},append:function(t){return this.add(t).renderNew()},prepend:function(t){var e=this;return e.items().set(e.create(t).concat(e.items().toArray())),e.renderNew()},insert:function(t,e,n){var i,o,r,a=this;return t=a.create(t),i=a.items(),!n&&e<i.length-1&&(e+=1),e>=0&&e<i.length&&(o=i.slice(0,e).toArray(),r=i.slice(e).toArray(),i.set(o.concat(t,r))),a.renderNew()},fromJSON:function(t){var e=this;for(var n in t)e.find("#"+n).value(t[n]);return e},toJSON:function(){var t={};return this.find("*").each(function(e){var n=e.name(),i=e.value();n&&void 0!==i&&(t[n]=i)}),t},renderHtml:function(){var t=this,e=t._layout,n=this.settings.role;return t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"},postRender:function(){var t,e=this;return e.items().exec("postRender"),e._super(),e._layout.postRender(e),e.state.set("rendered",!0),e.settings.style&&e.$el.css(e.settings.style),e.settings.border&&(t=e.borderBox,e.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),e.parent()||(e.keyboardNav=new o({root:e})),e},initLayoutRect:function(){var t=this,e=t._super();return t._layout.recalc(t),e},recalc:function(){var t=this,e=t._layoutRect,n=t._lastRect;if(!n||n.w!=e.w||n.h!=e.h)return t._layout.recalc(t),e=t.layoutRect(),t._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0},reflow:function(){var e;if(l.remove(this),this.visible()){for(t.repaintControls=[],t.repaintControls.map={},this.recalc(),e=t.repaintControls.length;e--;)t.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),t.repaintControls=[]}return this}})}),
/**
 * DragHelper.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(t){function e(t){var e,n,i,o,r,a,s,l=Math.max;return e=t.documentElement,n=t.body,i=l(e.scrollWidth,n.scrollWidth),o=l(e.clientWidth,n.clientWidth),r=l(e.offsetWidth,n.offsetWidth),a=l(e.scrollHeight,n.scrollHeight),s=l(e.clientHeight,n.clientHeight),{width:i<r?o:i,height:a<l(e.offsetHeight,n.offsetHeight)?s:a}}function n(t){var e,n;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}return function(i,o){function r(){return f.getElementById(o.handle||i)}var a,s,l,c,u,d,h,f=o.document||document;o=o||{},l=function(i){var l,p,m=e(f);n(i),i.preventDefault(),s=i.button,l=r(),d=i.screenX,h=i.screenY,p=window.getComputedStyle?window.getComputedStyle(l,null).getPropertyValue("cursor"):l.runtimeStyle.cursor,a=t("<div></div>").css({position:"absolute",top:0,left:0,width:m.width,height:m.height,zIndex:2147483647,opacity:1e-4,cursor:p}).appendTo(f.body),t(f).on("mousemove touchmove",u).on("mouseup touchend",c),o.start(i)},u=function(t){if(n(t),t.button!==s)return c(t);t.deltaX=t.screenX-d,t.deltaY=t.screenY-h,t.preventDefault(),o.drag(t)},c=function(e){n(e),t(f).off("mousemove touchmove",u).off("mouseup touchend",c),a.remove(),o.stop&&o.stop(e)},this.destroy=function(){t(r()).off()},t(r()).on("mousedown touchstart",l)}}),
/**
 * Scrollable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(t,e){return{init:function(){var t=this;t.on("repaint",t.renderScroll)},renderScroll:function(){function n(){function e(e,a,s,l,c,u){var d,h,f,p,m,g,v,y;if(h=o.getEl("scroll"+e)){if(v=a.toLowerCase(),y=s.toLowerCase(),t(o.getEl("absend")).css(v,o.layoutRect()[l]-1),!c)return void t(h).css("display","none");t(h).css("display","block"),d=o.getEl("body"),f=o.getEl("scroll"+e+"t"),p=d["client"+s]-2*r,m=(p-=n&&i?h["client"+u]:0)/d["scroll"+s],(g={})[v]=d["offset"+a]+r,g[y]=p,t(h).css(g),(g={})[v]=d["scroll"+a]*m,g[y]=p*m,t(f).css(g)}}var n,i,a;a=o.getEl("body"),n=a.scrollWidth>a.clientWidth,i=a.scrollHeight>a.clientHeight,e("h","Left","Width","contentW",n,"Height"),e("v","Top","Height","contentH",i,"Width")}function i(){function n(n,i,a,s,l){var c,u=o._id+"-scroll"+n,d=o.classPrefix;t(o.getEl()).append('<div id="'+u+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+u+'t" class="'+d+'scrollbar-thumb"></div></div>'),o.draghelper=new e(u+"t",{start:function(){c=o.getEl("body")["scroll"+i],t("#"+u).addClass(d+"active")},drag:function(t){var e,u,d,h,f=o.layoutRect();u=f.contentW>f.innerW,d=f.contentH>f.innerH,h=o.getEl("body")["client"+a]-2*r,e=(h-=u&&d?o.getEl("scroll"+n)["client"+l]:0)/o.getEl("body")["scroll"+a],o.getEl("body")["scroll"+i]=c+t["delta"+s]/e},stop:function(){t("#"+u).removeClass(d+"active")}})}o.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var o=this,r=2;o.settings.autoScroll&&(o._hasScroll||(o._hasScroll=!0,i(),o.on("wheel",function(t){var e=o.getEl("body");e.scrollLeft+=10*(t.deltaX||0),e.scrollTop+=10*t.deltaY,n()}),t(o.getEl("body")).on("scroll",n)),n())}}}),
/**
 * Panel.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(t,e){return t.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[e],renderHtml:function(){var t=this,e=t._layout,n=t.settings.html;return t.preRender(),e.preRender(t),void 0===n?n='<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+e.renderHtml(t)+"</div>":("function"==typeof n&&(n=n.call(t)),t._hasBody=!1),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1" role="group">'+(t._preBodyHtml||"")+n+"</div>"}})}),
/**
 * Movable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(t){function e(e,n,i){var o,r,a,s,l,c,u,d,h,f;return h=t.getViewPort(),a=(r=t.getPos(n)).x,s=r.y,e.state.get("fixed")&&"static"==t.getRuntimeStyle(document.body,"position")&&(a-=h.x,s-=h.y),o=e.getEl(),l=(f=t.getSize(o)).width,c=f.height,u=(f=t.getSize(n)).width,d=f.height,"b"===(i=(i||"").split(""))[0]&&(s+=d),"r"===i[1]&&(a+=u),"c"===i[0]&&(s+=Math.round(d/2)),"c"===i[1]&&(a+=Math.round(u/2)),"b"===i[3]&&(s-=c),"r"===i[4]&&(a-=l),"c"===i[3]&&(s-=Math.round(c/2)),"c"===i[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:c}}return{testMoveRel:function(n,i){for(var o=t.getViewPort(),r=0;r<i.length;r++){var a=e(this,n,i[r]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<o.w&&a.y>0&&a.y+a.h<o.h)return i[r]}else if(a.x>o.x&&a.x+a.w<o.w+o.x&&a.y>o.y&&a.y+a.h<o.h+o.y)return i[r]}return i[0]},moveRel:function(t,n){"string"!=typeof n&&(n=this.testMoveRel(t,n));var i=e(this,t,n);return this.moveTo(i.x,i.y)},moveBy:function(t,e){var n=this,i=n.layoutRect();return n.moveTo(i.x+t,i.y+e),n},moveTo:function(e,n){function i(t,e,n){return t<0?0:t+n>e&&(t=e-n)<0?0:t}var o=this;if(o.settings.constrainToViewport){var r=t.getViewPort(window),a=o.layoutRect();e=i(e,r.w+r.x,a.w),n=i(n,r.h+r.y,a.h)}return o.state.get("rendered")?o.layoutRect({x:e,y:n}).repaint():(o.settings.x=e,o.settings.y=n),o.fire("move",{x:e,y:n}),o}}}),
/**
 * Resizable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(t){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,n){if(e<=1||n<=1){var i=t.getWindowSize();e=e<=1?e*i.w:e,n=n<=1?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:n,w:e,h:n}).reflow()},resizeBy:function(t,e){var n=this,i=n.layoutRect();return n.resizeTo(i.w+t,i.h+e)}}}),
/**
 * FloatPanel.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/Delay"],function(t,e,n,i,o,r){function a(t,e){for(;t;){if(t==e)return!0;t=t.parent()}}function s(t){for(var e=y.length;e--;){var n=y[e],i=n.getParentCtrl(t.target);if(n.settings.autohide){if(i&&(a(i,n)||n.parent()===i))continue;(t=n.fire("autohide",{target:t.target})).isDefaultPrevented()||n.hide()}}}function l(){p||(p=function(t){2!=t.button&&s(t)},o(document).on("click touchstart",p))}function c(){m||(m=function(){var t;for(t=y.length;t--;)d(y[t])},o(window).on("scroll",m))}function u(){if(!g){var t=document.documentElement,e=t.clientWidth,n=t.clientHeight;g=function(){document.all&&e==t.clientWidth&&n==t.clientHeight||(e=t.clientWidth,n=t.clientHeight,w.hideAll())},o(window).on("resize",g)}}function d(t){function e(e,n){for(var i,o=0;o<y.length;o++)if(y[o]!=t)for(i=y[o].parent();i&&(i=i.parent());)i==t&&y[o].fixed(e).moveBy(0,n).repaint()}var n=i.getViewPort().y;t.settings.autofix&&(t.state.get("fixed")?t._autoFixY>n&&(t.fixed(!1).layoutRect({y:t._autoFixY}).repaint(),e(!1,t._autoFixY-n)):(t._autoFixY=t.layoutRect().y,t._autoFixY<n&&(t.fixed(!0).layoutRect({y:0}).repaint(),e(!0,n-t._autoFixY))))}function h(t,e){var n,i,r=w.zIndex||65535;if(t)b.push(e);else for(n=b.length;n--;)b[n]===e&&b.splice(n,1);if(b.length)for(n=0;n<b.length;n++)b[n].modal&&(r++,i=b[n]),b[n].getEl().style.zIndex=r,b[n].zIndex=r,r++;var a=o("#"+e.classPrefix+"modal-block",e.getContainerElm())[0];i?o(a).css("z-index",i.zIndex-1):a&&(a.parentNode.removeChild(a),v=!1),w.currentZIndex=r}function f(t){var e;for(e=y.length;e--;)y[e]===t&&y.splice(e,1);for(e=b.length;e--;)b[e]===t&&b.splice(e,1)}var p,m,g,v,y=[],b=[],w=t.extend({Mixins:[e,n],init:function(t){var e=this;e._super(t),e._eventsRoot=e,e.classes.add("floatpanel"),t.autohide&&(l(),u(),y.push(e)),t.autofix&&(c(),e.on("move",function(){d(this)})),e.on("postrender show",function(t){if(t.control==e){var n,i=e.classPrefix;e.modal&&!v&&((n=o("#"+i+"modal-block",e.getContainerElm()))[0]||(n=o('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(e.getContainerElm())),r.setTimeout(function(){n.addClass(i+"in"),o(e.getEl()).addClass(i+"in")}),v=!0),h(!0,e)}}),e.on("show",function(){e.parents().each(function(t){if(t.state.get("fixed"))return e.fixed(!0),!1})}),t.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?"end":"start")),e.aria("label",t.ariaLabel),e.aria("labelledby",e._id),e.aria("describedby",e.describedBy||e._id+"-none")},fixed:function(t){var e=this;if(e.state.get("fixed")!=t){if(e.state.get("rendered")){var n=i.getViewPort();t?e.layoutRect().y-=n.y:e.layoutRect().y+=n.y}e.classes.toggle("fixed",t),e.state.set("fixed",t)}return e},show:function(){var t,e=this,n=e._super();for(t=y.length;t--&&y[t]!==e;);return-1===t&&y.push(e),n},hide:function(){return f(this),h(!1,this),this._super()},hideAll:function(){w.hideAll()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||(t.remove(),h(!1,t)),t},remove:function(){f(this),this._super()},postRender:function(){var t=this;return t.settings.bodyRole&&this.getEl("body").setAttribute("role",t.settings.bodyRole),t._super()}});return w.hideAll=function(){for(var t=y.length;t--;){var e=y[t];e&&e.settings.autohide&&(e.hide(),y.splice(t,1))}},w}),
/**
 * Window.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env","tinymce/util/Delay"],function(t,e,n,i,o,r,a,s){function l(t){var e,n="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",o=i("meta[name=viewport]")[0];!1!==a.overrideViewPort&&(o||((o=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(o)),(e=o.getAttribute("content"))&&void 0!==f&&(f=e),o.setAttribute("content",t?n:f))}function c(t,e){u()&&!1===e&&i([document.documentElement,document.body]).removeClass(t+"fullscreen")}function u(){for(var t=0;t<h.length;t++)if(h[t]._fullscreen)return!0;return!1}function d(){function t(){var t,e,i=n.getWindowSize();for(t=0;t<h.length;t++)e=h[t].layoutRect(),h[t].moveTo(h[t].settings.x||Math.max(0,i.w/2-e.w/2),h[t].settings.y||Math.max(0,i.h/2-e.h/2))}if(!a.desktop){var e={w:window.innerWidth,h:window.innerHeight};s.setInterval(function(){var t=window.innerWidth,n=window.innerHeight;e.w==t&&e.h==n||(e={w:t,h:n},i(window).trigger("resize"))},100)}i(window).on("resize",t)}var h=[],f="",p=t.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(t){var i=this;i._super(t),i.isRtl()&&i.classes.add("rtl"),i.classes.add("window"),i.bodyClasses.add("window-body"),i.state.set("fixed",!0),t.buttons&&(i.statusbar=new e({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:i.isRtl()?"start":"end",defaults:{type:"button"},items:t.buttons}),i.statusbar.classes.add("foot"),i.statusbar.parent(i)),i.on("click",function(t){var e=i.classPrefix+"close";(n.hasClass(t.target,e)||n.hasClass(t.target.parentNode,e))&&i.close()}),i.on("cancel",function(){i.close()}),i.aria("describedby",i.describedBy||i._id+"-none"),i.aria("label",t.title),i._fullscreen=!1},recalc:function(){var t,e,i,o,r=this,a=r.statusbar;r._fullscreen&&(r.layoutRect(n.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),t=r.layoutRect(),r.settings.title&&!r._fullscreen&&(e=t.headerW)>t.w&&(i=t.x-Math.max(0,e/2),r.layoutRect({w:e,x:i}),o=!0),a&&(a.layoutRect({w:r.layoutRect().innerW}).recalc(),(e=a.layoutRect().minW+t.deltaW)>t.w&&(i=t.x-Math.max(0,e-t.w),r.layoutRect({w:e,x:i}),o=!0)),o&&r.recalc()},initLayoutRect:function(){var t,e=this,i=e._super(),o=0;if(e.settings.title&&!e._fullscreen){t=e.getEl("head");var r=n.getSize(t);i.headerW=r.width,i.headerH=r.height,o+=i.headerH}e.statusbar&&(o+=e.statusbar.layoutRect().h),i.deltaH+=o,i.minH+=o,i.h+=o;var a=n.getWindowSize();return i.x=e.settings.x||Math.max(0,a.w/2-i.w/2),i.y=e.settings.y||Math.max(0,a.h/2-i.h/2),i},renderHtml:function(){var t=this,e=t._layout,n=t._id,i=t.classPrefix,o=t.settings,r="",a="",s=o.html;return t.preRender(),e.preRender(t),o.title&&(r='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+t.encode(o.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),o.url&&(s='<iframe src="'+o.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=e.renderHtml(t)),t.statusbar&&(a=t.statusbar.renderHtml()),'<div id="'+n+'" class="'+t.classes+'" hidefocus="1"><div class="'+t.classPrefix+'reset" role="application">'+r+'<div id="'+n+'-body" class="'+t.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(t){var e,o,a=this,l=document.documentElement,c=a.classPrefix;if(t!=a._fullscreen)if(i(window).on("resize",function(){var t;if(a._fullscreen)if(e)a._timer||(a._timer=s.setTimeout(function(){var t=n.getWindowSize();a.moveTo(0,0).resizeTo(t.w,t.h),a._timer=0},50));else{t=(new Date).getTime();var i=n.getWindowSize();a.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-t>50&&(e=!0)}}),o=a.layoutRect(),a._fullscreen=t,t){a._initial={x:o.x,y:o.y,w:o.w,h:o.h},a.borderBox=r.parseBox("0"),a.getEl("head").style.display="none",o.deltaH-=o.headerH+2,i([l,document.body]).addClass(c+"fullscreen"),a.classes.add("fullscreen");var u=n.getWindowSize();a.moveTo(0,0).resizeTo(u.w,u.h)}else a.borderBox=r.parseBox(a.settings.border),a.getEl("head").style.display="",o.deltaH+=o.headerH,i([l,document.body]).removeClass(c+"fullscreen"),a.classes.remove("fullscreen"),a.moveTo(a._initial.x,a._initial.y).resizeTo(a._initial.w,a._initial.h);return a.reflow()},postRender:function(){var t,e=this;setTimeout(function(){e.classes.add("in"),e.fire("open")},0),e._super(),e.statusbar&&e.statusbar.postRender(),e.focus(),this.dragHelper=new o(e._id+"-dragh",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}}),e.on("submit",function(t){t.isDefaultPrevented()||e.close()}),h.push(e),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var t,e=this;for(e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove(),c(e.classPrefix,!1),t=h.length;t--;)h[t]===e&&h.splice(t,1);l(h.length>0)},getContentWindow:function(){var t=this.getEl().getElementsByTagName("iframe")[0];return t?t.contentWindow:null}});return d(),p}),
/**
 * MessageBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(t){var e=t.extend({init:function(t){t={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(t)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function i(t,e,n){return{type:"button",text:t,subtype:n?"primary":"",onClick:function(t){t.control.parents()[1].close(),r(e)}}}var o,r=n.callback||function(){};switch(n.buttons){case e.OK_CANCEL:o=[i("Ok",!0,!0),i("Cancel",!1)];break;case e.YES_NO:case e.YES_NO_CANCEL:o=[i("Yes",1,!0),i("No",0)],n.buttons==e.YES_NO_CANCEL&&o.push(i("Cancel",-1));break;default:o=[i("Ok",!0,!0)]}return new t({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:o,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){r(!1)}}).renderTo(document.body).reflow()},alert:function(t,n){return"string"==typeof t&&(t={text:t}),t.callback=n,e.msgBox(t)},confirm:function(t,n){return"string"==typeof t&&(t={text:t}),t.callback=n,t.buttons=e.OK_CANCEL,e.msgBox(t)}}});return e}),
/**
 * WindowManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(t,e){return function(n){function i(){if(s.length)return s[s.length-1]}function o(t){n.fire("OpenWindow",{win:t})}function r(t){n.fire("CloseWindow",{win:t})}var a=this,s=[];a.windows=s,n.on("remove",function(){for(var t=s.length;t--;)s[t].close()}),a.open=function(e,i){var a;return n.editorManager.setActive(n),e.title=e.title||" ",e.url=e.url||e.file,e.url&&(e.width=parseInt(e.width||320,10),e.height=parseInt(e.height||240,10)),e.body&&(e.items={defaults:e.defaults,type:e.bodyType||"form",items:e.body,data:e.data,callbacks:e.commands}),e.url||e.buttons||(e.buttons=[{text:"Ok",subtype:"primary",onclick:function(){a.find("form")[0].submit()}},{text:"Cancel",onclick:function(){a.close()}}]),a=new t(e),s.push(a),a.on("close",function(){for(var t=s.length;t--;)s[t]===a&&s.splice(t,1);s.length||n.focus(),r(a)}),e.data&&a.on("postRender",function(){this.find("*").each(function(t){var n=t.name();n in e.data&&t.value(e.data[n])})}),a.features=e||{},a.params=i||{},1===s.length&&n.nodeChanged(),o(a=a.renderTo().reflow()),a},a.alert=function(t,i,a){var s;(s=e.alert(t,function(){i?i.call(a||this):n.focus()})).on("close",function(){r(s)}),o(s)},a.confirm=function(t,n,i){var a;(a=e.confirm(t,function(t){n.call(i||this,t)})).on("close",function(){r(a)}),o(a)},a.close=function(){i()&&i().close()},a.getParams=function(){return i()?i().params:null},a.setParams=function(t){i()&&(i().params=t)},a.getWindows=function(){return s}}}),
/**
 * Tooltip.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(t,e){return t.extend({Mixins:[e],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var t=this,e=t.classPrefix;return'<div id="'+t._id+'" class="'+t.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+t.encode(t.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var t,e,n=this;t=n.getEl().style,e=n._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=131070}})}),
/**
 * Widget.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(t,e){var n,i=t.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.canFocus=!0,t.tooltip&&!1!==i.tooltips&&(e.on("mouseenter",function(n){var i=e.tooltip().moveTo(-65535);if(n.control==e){var o=i.text(t.tooltip).show().testMoveRel(e.getEl(),["bc-tc","bc-tl","bc-tr"]);i.classes.toggle("tooltip-n","bc-tc"==o),i.classes.toggle("tooltip-nw","bc-tl"==o),i.classes.toggle("tooltip-ne","bc-tr"==o),i.moveRel(e.getEl(),o)}else i.hide()}),e.on("mouseleave mousedown click",function(){e.tooltip().hide()})),e.aria("label",t.ariaLabel||t.tooltip)},tooltip:function(){return n||(n=new e({type:"tooltip"})).renderTo(),n},postRender:function(){var t=this,e=t.settings;t._super(),t.parent()||!e.width&&!e.height||(t.initLayoutRect(),t.repaint()),e.autofocus&&t.focus()},bindStates:function(){function t(t){n.aria("disabled",t),n.classes.toggle("disabled",t)}function e(t){n.aria("pressed",t),n.classes.toggle("active",t)}var n=this;return n.state.on("change:disabled",function(e){t(e.value)}),n.state.on("change:active",function(t){e(t.value)}),n.state.get("disabled")&&t(!0),n.state.get("active")&&e(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),
/**
 * Progress.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Progress",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{value:0},init:function(t){var e=this;e._super(t),e.classes.add("progress"),e.settings.filter||(e.settings.filter=function(t){return Math.round(t)})},renderHtml:function(){var t=this,e=t._id,n=this.classPrefix;return'<div id="'+e+'" class="'+t.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var t=this;return t._super(),t.value(t.settings.value),t},bindStates:function(){function t(t){t=e.settings.filter(t),e.getEl().lastChild.innerHTML=t+"%",e.getEl().firstChild.firstChild.style.width=t+"%"}var e=this;return e.state.on("change:value",function(e){t(e.value)}),t(e.state.get("value")),e._super()}})}),
/**
 * Notification.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(t,e,n,i){return t.extend({Mixins:[e],Defaults:{classes:"widget notification"},init:function(t){var e=this;e._super(t),t.text&&e.text(t.text),t.icon&&(e.icon=t.icon),t.color&&(e.color=t.color),t.type&&e.classes.add("notification-"+t.type),t.timeout&&(t.timeout<0||t.timeout>0)&&!t.closeButton?e.closeButton=!1:(e.classes.add("has-close"),e.closeButton=!0),t.progressBar&&(e.progressBar=new n),e.on("click",function(t){-1!=t.target.className.indexOf(e.classPrefix+"close")&&e.close()})},renderHtml:function(){var t=this,e=t.classPrefix,n="",i="",o="",r="";return t.icon&&(n='<i class="'+e+"ico "+e+"i-"+t.icon+'"></i>'),t.color&&(r=' style="background-color: '+t.color+'"'),t.closeButton&&(i='<button type="button" class="'+e+'close" aria-hidden="true">\xd7</button>'),t.progressBar&&(o=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+r+' role="presentation">'+n+'<div class="'+e+'notification-inner">'+t.state.get("text")+"</div>"+o+i+"</div>"},postRender:function(){var t=this;return i.setTimeout(function(){t.$el.addClass(t.classPrefix+"in")}),t._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().childNodes[1].innerHTML=e.value}),t.progressBar&&t.progressBar.bindStates(),t._super()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||t.remove(),t},repaint:function(){var t,e,n=this;t=n.getEl().style,e=n._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=65534}})}),
/**
 * NotificationManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay","tinymce/util/Tools"],function(t,e,n){return function(i){function o(){if(h.length)return h[h.length-1]}function r(){e.requestAnimationFrame(function(){a(),s()})}function a(){for(var t=0;t<h.length;t++)h[t].moveTo(0,0)}function s(){if(h.length>0){var t=h.slice(0,1)[0],e=i.inline?i.getElement():i.getContentAreaContainer();if(t.moveRel(e,"tc-tc"),h.length>1)for(var n=1;n<h.length;n++)h[n].moveRel(h[n-1].getEl(),"bc-tc")}}function l(t,e){if(!u(e))return null;var i=n.grep(t,function(t){return c(e,t)});return 0===i.length?null:i[0]}function c(t,e){return t.type===e.settings.type&&t.text===e.settings.text}function u(t){return!t.progressBar&&!t.timeout}var d=this,h=[];d.notifications=h,i.on("remove",function(){for(var t=h.length;t--;)h[t].close()}),i.on("ResizeEditor",s),i.on("ResizeWindow",r),d.open=function(e){if(!i.removed){var n;i.editorManager.setActive(i);var o=l(h,e);return null===o?(n=new t(e),h.push(n),e.timeout>0&&(n.timer=setTimeout(function(){n.close()},e.timeout)),n.on("close",function(){var t=h.length;for(n.timer&&i.getWin().clearTimeout(n.timer);t--;)h[t]===n&&h.splice(t,1);s()}),n.renderTo(),s()):n=o,n}},d.close=function(){o()&&o().close()},d.getNotifications=function(){return h},i.on("SkinLoaded",function(){var t=i.settings.service_message;t&&i.notificationManager.open({text:t,type:"warning",timeout:0,icon:""})})}}),
/**
 * NodePath.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(t){function e(e,n,i){for(var o=[];n&&n!=e;n=n.parentNode)o.push(t.nodeIndex(n,i));return o}function n(t,e){var n,i,o;for(i=t,n=e.length-1;n>=0;n--){if(o=i.childNodes,e[n]>o.length-1)return null;i=o[e[n]]}return i}return{create:e,resolve:n}}),
/**
 * Quirks.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 *
 * @ignore-file
 */
i("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/caret/CaretWalker"],function(t,e,n,i,o,r,a,s,l,c,u,d){return function(h){function f(t,e){try{h.getDoc().execCommand(t,!1,e)}catch(n){}}function p(){var t=h.getDoc().documentMode;return t||6}function m(t){return t.isDefaultPrevented()}function g(t){var e,n;t.dataTransfer&&(h.selection.isCollapsed()&&"IMG"==t.target.tagName&&it.select(t.target),(e=h.selection.getContent()).length>0&&(n=ut+escape(h.id)+","+escape(e),t.dataTransfer.setData(dt,n)))}function v(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(dt))&&e.indexOf(ut)>=0?(e=e.substr(ut.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}function y(t){h.queryCommandSupported("mceInsertClipboardContent")?h.execCommand("mceInsertClipboardContent",!1,{content:t}):h.execCommand("mceInsertContent",!1,t)}function b(){function o(t){var e=_.schema.getBlockElements(),n=h.getBody();if("BR"!=t.nodeName)return!1;for(;t!=n&&!e[t.nodeName];t=t.parentNode)if(t.nextSibling)return!1;return!0}function r(t,e){var n;for(n=t.nextSibling;n&&n!=e;n=n.nextSibling)if((3!=n.nodeType||0!==Z.trim(n.data).length)&&n!==e)return!1;return n===e}function a(t,e,i){var r,a,s;if(_.isChildOf(t,h.getBody()))for(s=_.schema.getNonEmptyElements(),r=new n(i||t,t);a=r[e?"next":"prev"]();){if(s[a.nodeName]&&!o(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function c(t){var n,i,o,r,s;if(!t.collapsed&&(n=_.getParent(e.getNode(t.startContainer,t.startOffset),_.isBlock),i=_.getParent(e.getNode(t.endContainer,t.endOffset),_.isBlock),s=h.schema.getTextBlockElements(),n!=i&&s[n.nodeName]&&s[i.nodeName]&&"false"!==_.getContentEditable(n)&&"false"!==_.getContentEditable(i)))return t.deleteContents(),o=a(n,!1),r=a(i,!0),_.isEmpty(i)||Z(n).append(i.childNodes),Z(i).remove(),o?1==o.nodeType?"BR"==o.nodeName?(t.setStartBefore(o),t.setEndBefore(o)):(t.setStartAfter(o),t.setEndAfter(o)):(t.setStart(o,o.data.length),t.setEnd(o,o.data.length)):r&&(1==r.nodeType?(t.setStartBefore(r),t.setEndBefore(r)):(t.setStart(r,0),t.setEnd(r,0))),k.setRng(t),!0}function u(t,n){var i,o,s,l,c,u;if(!t.collapsed)return t;if(c=t.startContainer,u=t.startOffset,3==c.nodeType)if(n){if(u<c.data.length)return t}else if(u>0)return t;i=e.getNode(c,u),s=_.getParent(i,_.isBlock),o=a(h.getBody(),n,i),l=_.getParent(o,_.isBlock);var d=1===c.nodeType&&u>c.childNodes.length-1;if(!i||!o)return t;if(l&&s!=l)if(n){if(!r(s,l))return t;1==i.nodeType?"BR"==i.nodeName?t.setStartBefore(i):t.setStartAfter(i):t.setStart(i,i.data.length),1==o.nodeType?t.setEnd(o,0):t.setEndBefore(o)}else{if(!r(l,s))return t;1==o.nodeType?"BR"==o.nodeName?t.setStartBefore(o):t.setStartAfter(o):t.setStart(o,o.data.length),1==i.nodeType&&d?t.setEndAfter(i):t.setEndBefore(i)}return t}function d(t){var e=k.getRng();if(c(e=u(e,t)))return!0}function f(t,e){function n(t,n){return m=Z(n).parents().filter(function(t,e){return!!h.schema.getTextInlineElements()[e.nodeName]}),l=t.cloneNode(!1),(m=s.map(m,function(t){return t=t.cloneNode(!1),l.hasChildNodes()?(t.appendChild(l.firstChild),l.appendChild(t)):l.appendChild(t),l.appendChild(t),t})).length?(p=_.create("br"),m[0].appendChild(p),_.replace(l,t),e.setStartBefore(p),e.setEndBefore(p),h.selection.setRng(e),p):null}function o(t){return t&&h.schema.getTextBlockElements()[t.tagName]}var r,a,l,c,u,d,f,p,m;if(e.collapsed&&(d=e.startContainer,f=e.startOffset,o(a=_.getParent(d,_.isBlock))))if(1==d.nodeType){if((d=d.childNodes[f])&&"BR"!=d.tagName)return;if(u=t?a.nextSibling:a.previousSibling,_.isEmpty(a)&&o(u)&&_.isEmpty(u)&&n(a,d))return _.remove(u),!0}else if(3==d.nodeType){if(r=i.create(a,d),c=a.cloneNode(!0),d=i.resolve(c,r),t){if(f>=d.data.length)return;d.deleteData(f,1)}else{if(f<=0)return;d.deleteData(f-1,1)}if(_.isEmpty(c))return n(a,d)}}function p(t){var e,n,i;d(t)||(s.each(h.getBody().getElementsByTagName("*"),function(t){"SPAN"==t.tagName&&t.setAttribute("mce-data-marked",1),!t.hasAttribute("data-mce-style")&&t.hasAttribute("style")&&h.dom.setAttrib(t,"style",h.dom.getAttrib(t,"style"))}),(e=new T(function(){})).observe(h.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),h.getDoc().execCommand(t?"ForwardDelete":"Delete",!1,null),n=h.selection.getRng(),i=n.startContainer.parentNode,s.each(e.takeRecords(),function(t){if(_.isChildOf(t.target,h.getBody())){if("style"==t.attributeName){var e=t.target.getAttribute("data-mce-style");e?t.target.setAttribute("style",e):t.target.removeAttribute("style")}s.each(t.addedNodes,function(t){var e,o;"SPAN"!=t.nodeName||t.getAttribute("mce-data-marked")||(t==i&&(e=n.startOffset,o=t.firstChild),_.remove(t,!0),o&&(n.setStart(o,e),n.setEnd(o,e),h.selection.setRng(n)))})}}),e.disconnect(),s.each(h.dom.select("span[mce-data-marked]"),function(t){t.removeAttribute("mce-data-marked")}))}function b(t){h.undoManager.transact(function(){p(t)})}var w,C,x=h.getDoc(),_=h.dom,k=h.selection,T=window.MutationObserver;T||(w=!0,T=function(){function t(t){var e=t.relatedNode||t.target;i.push({target:e,addedNodes:[e]})}function e(t){var e=t.relatedNode||t.target;i.push({target:e,attributeName:t.attrName})}var n,i=[];this.observe=function(i){(n=i).addEventListener("DOMSubtreeModified",t,!1),n.addEventListener("DOMNodeInsertedIntoDocument",t,!1),n.addEventListener("DOMNodeInserted",t,!1),n.addEventListener("DOMAttrModified",e,!1)},this.disconnect=function(){n.removeEventListener("DOMSubtreeModified",t,!1),n.removeEventListener("DOMNodeInsertedIntoDocument",t,!1),n.removeEventListener("DOMNodeInserted",t,!1),n.removeEventListener("DOMAttrModified",e,!1)},this.takeRecords=function(){return i}}),h.on("keydown",function(t){var e=t.keyCode==et,n=t.ctrlKey||t.metaKey;if(!m(t)&&(e||t.keyCode==tt)){var i=h.selection.getRng(),o=i.startContainer,r=i.startOffset;if(e&&t.shiftKey)return;if(f(e,i))return void t.preventDefault();if(!n&&i.collapsed&&3==o.nodeType&&(e?r<o.data.length:r>0))return;t.preventDefault(),n&&h.selection.getSel().modify("extend",e?"forward":"backward",t.metaKey?"lineboundary":"word"),p(e)}}),h.on("keypress",function(e){var n,i,o,r,a,s;!m(e)&&!k.isCollapsed()&&e.charCode>31&&!t.metaKeyPressed(e)&&(n=h.selection.getRng(),s=String.fromCharCode(e.charCode),e.preventDefault(),i=Z(n.startContainer).parents().filter(function(t,e){return!!h.schema.getTextInlineElements()[e.nodeName]}),p(!0),(i=i.filter(function(t,e){return!Z.contains(h.getBody(),e)})).length?(o=_.createFragment(),i.each(function(t,e){e=e.cloneNode(!1),o.hasChildNodes()?(e.appendChild(o.firstChild),o.appendChild(e)):(a=e,o.appendChild(e)),o.appendChild(e)}),a.appendChild(h.getDoc().createTextNode(s)),r=_.getParent(n.startContainer,_.isBlock),_.isEmpty(r)?Z(r).empty().append(o):n.insertNode(o),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),h.selection.setRng(n)):h.selection.setContent(s))}),h.addCommand("Delete",function(){p()}),h.addCommand("ForwardDelete",function(){p(!0)}),w||(h.on("dragstart",function(t){C=k.getRng(),g(t)}),h.on("drop",function(t){if(!m(t)){var n=v(t);n&&(t.preventDefault(),l.setEditorTimeout(h,function(){var i=e.getCaretRangeFromPoint(t.x,t.y,x);C&&(k.setRng(C),C=null,b()),k.setRng(i),y(n.html)}))}}),h.on("cut",function(t){m(t)||!t.clipboardData||h.selection.isCollapsed()||(t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/html",h.selection.getContent()),t.clipboardData.setData("text/plain",h.selection.getContent({format:"text"})),l.setEditorTimeout(h,function(){b(!0)}))}))}function w(){function t(t){var e=nt.create("body"),n=t.cloneContents();return e.appendChild(n),it.serializer.serialize(e,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var i=n.duplicate();return i.moveToElementText(h.getBody()),e.compareRanges(n,i)}var o=t(n),r=nt.createRng();return r.selectNode(h.getBody()),o===t(r)}h.on("keydown",function(t){var e,i,o=t.keyCode;if(!m(t)&&(o==et||o==tt)){if(e=h.selection.isCollapsed(),i=h.getBody(),e&&!nt.isEmpty(i))return;if(!e&&!n(h.selection.getRng()))return;t.preventDefault(),h.setContent(""),i.firstChild&&nt.isBlock(i.firstChild)?h.selection.setCursorLocation(i.firstChild,0):h.selection.setCursorLocation(i,0),h.nodeChanged()}})}function C(){h.shortcuts.add("meta+a",null,"SelectAll")}function x(){h.settings.content_editable||nt.bind(h.getDoc(),"mousedown mouseup",function(t){var e;if(t.target==h.getDoc().documentElement)if(e=it.getRng(),h.getBody().focus(),"mousedown"==t.type){if(c.isCaretContainer(e.startContainer))return;it.placeCaretAt(t.clientX,t.clientY)}else it.setRng(e)})}function _(){h.on("keydown",function(t){if(!m(t)&&t.keyCode===tt){if(!h.getBody().getElementsByTagName("hr").length)return;if(it.isCollapsed()&&0===it.getRng(!0).startOffset){var e=it.getNode(),n=e.previousSibling;if("HR"==e.nodeName)return nt.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(nt.remove(n),t.preventDefault())}}})}function k(){window.Range.prototype.getClientRects||h.on("mousedown",function(t){if(!m(t)&&"HTML"===t.target.nodeName){var e=h.getBody();e.blur(),l.setEditorTimeout(h,function(){e.focus()})}})}function T(){h.on("click",function(t){var e=t.target;/^(IMG|HR)$/.test(e.nodeName)&&"false"!==nt.getContentEditableParent(e)&&(t.preventDefault(),it.select(e),h.nodeChanged()),"A"==e.nodeName&&nt.hasClass(e,"mce-item-anchor")&&(t.preventDefault(),it.select(e))})}function S(){function t(){var t=nt.getAttribs(it.getStart().cloneNode(!1));return function(){var e=it.getStart();e!==h.getBody()&&(nt.setAttrib(e,"style",null),Q(t,function(t){e.setAttributeNode(t.cloneNode(!0))}))}}function e(){return!it.isCollapsed()&&nt.getParent(it.getStart(),nt.isBlock)!=nt.getParent(it.getEnd(),nt.isBlock)}h.on("keypress",function(n){var i;if(!m(n)&&(8==n.keyCode||46==n.keyCode)&&e())return i=t(),h.getDoc().execCommand("delete",!1,null),i(),n.preventDefault(),!1}),nt.bind(h.getDoc(),"cut",function(n){var i;!m(n)&&e()&&(i=t(),l.setEditorTimeout(h,function(){i()}))})}function E(){document.body.setAttribute("role","application")}function A(){h.on("keydown",function(t){if(!m(t)&&t.keyCode===tt&&it.isCollapsed()&&0===it.getRng(!0).startOffset){var e=it.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})}function $(){p()>7||(f("RespectVisibilityInDesign",!0),h.contentStyles.push(".mceHideBrInPre pre br {display: none}"),nt.addClass(h.getBody(),"mceHideBrInPre"),rt.addNodeFilter("pre",function(t){for(var e,n,i,r,a=t.length;a--;)for(n=(e=t[a].getAll("br")).length;n--;)(r=(i=e[n]).prev)&&3===r.type&&"\n"!=r.value.charAt(r.value-1)?r.value+="\n":i.parent.insert(new o("#text",3),i,!0).value="\n"}),at.addNodeFilter("pre",function(t){for(var e,n,i,o=t.length;o--;)for(n=(e=t[o].getAll("br")).length;n--;)(i=e[n].prev)&&3==i.type&&(i.value=i.value.replace(/\r?\n$/,""))}))}function D(){nt.bind(h.getBody(),"mouseup",function(){var t,e=it.getNode();"IMG"==e.nodeName&&((t=nt.getStyle(e,"width"))&&(nt.setAttrib(e,"width",t.replace(/[^0-9%]+/g,"")),nt.setStyle(e,"width","")),(t=nt.getStyle(e,"height"))&&(nt.setAttrib(e,"height",t.replace(/[^0-9%]+/g,"")),nt.setStyle(e,"height","")))})}function N(){h.on("keydown",function(e){var n,i,o,r,a;if(!m(e)&&e.keyCode==t.BACKSPACE&&(i=(n=it.getRng()).startContainer,o=n.startOffset,r=nt.getRoot(),a=i,n.collapsed&&0===o)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=r;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(h.formatter.toggle("blockquote",null,a),(n=nt.createRng()).setStart(i,0),n.setEnd(i,0),it.setRng(n))}})}function R(){function t(){G(),f("StyleWithCSS",!1),f("enableInlineTableEditing",!1),ot.object_resizing||f("enableObjectResizing",!1)}ot.readonly||h.on("BeforeExecCommand MouseDown",t)}function P(){function t(){Q(nt.select("a"),function(t){var e=t.parentNode,n=nt.getRoot();if(e.lastChild===t){for(;e&&!nt.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}nt.add(e,"br",{"data-mce-bogus":1})}})}h.on("SetContent ExecCommand",function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||t()})}function I(){ot.forced_root_block&&h.on("init",function(){f("DefaultParagraphSeparator",ot.forced_root_block)})}function L(){h.on("keydown",function(t){var e;m(t)||t.keyCode!=tt||(e=h.getDoc().selection.createRange())&&e.item&&(t.preventDefault(),h.undoManager.beforeChange(),nt.remove(e.item(0)),h.undoManager.add())})}function O(){var t;p()>=10&&(t="",Q("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,n){t+=(n>0?",":"")+e+":empty"}),h.contentStyles.push(t+"{padding-right: 1px !important}"))}function M(){p()<9&&(rt.addNodeFilter("noscript",function(t){for(var e,n,i=t.length;i--;)(n=(e=t[i]).firstChild)&&e.attr("data-mce-innertext",n.value)}),at.addNodeFilter("noscript",function(t){for(var e,n,i,a=t.length;a--;)e=t[a],(n=t[a].firstChild)?n.value=r.decode(n.value):(i=e.attributes.map["data-mce-innertext"])&&(e.attr("data-mce-innertext",null),(n=new o("#text",3)).value=i,n.raw=!0,e.append(n))}))}function B(){function t(t,e){var n=s.createTextRange();try{n.moveToPoint(t,e)}catch(i){n=null}return n}function e(e){var i;e.button?(i=t(e.x,e.y))&&(i.compareEndPoints("StartToStart",o)>0?i.setEndPoint("StartToStart",o):i.setEndPoint("EndToEnd",o),i.select()):n()}function n(){var t=a.selection.createRange();o&&!t.item&&0===t.compareEndPoints("StartToEnd",t)&&o.select(),nt.unbind(a,"mouseup",n),nt.unbind(a,"mousemove",e),o=i=0}var i,o,r,a=nt.doc,s=a.body;a.documentElement.unselectable=!0,nt.bind(a,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(i&&n(),(r=a.documentElement).scrollHeight>r.clientHeight)return;i=1,(o=t(s.x,s.y))&&(nt.bind(a,"mouseup",n),nt.bind(a,"mousemove",e),nt.getRoot().focus(),o.select())}})}function H(){h.on("keyup focusin mouseup",function(e){65==e.keyCode&&t.metaKeyPressed(e)||it.normalize()},!0)}function F(){h.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function z(){h.inline||h.on("keydown",function(){document.activeElement==document.body&&h.getWin().focus()})}function j(){h.inline||(h.contentStyles.push("body {min-height: 150px}"),h.on("click",function(t){var e;if("HTML"==t.target.nodeName){if(a.ie>11)return void h.getBody().focus();e=h.selection.getRng(),h.getBody().focus(),h.selection.setRng(e),h.selection.normalize(),h.nodeChanged()}}))}function W(){a.mac&&h.on("keydown",function(e){!t.metaKeyPressed(e)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),h.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))})}function U(){f("AutoUrlDetect",!1)}function q(){h.on("click",function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)}),h.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function V(){h.on("init",function(){h.dom.bind(h.getBody(),"submit",function(t){t.preventDefault()})})}function X(){rt.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"==t[e].attr("class")&&t[e].remove()})}function Y(){h.on("dragstart",function(t){g(t)}),h.on("drop",function(t){if(!m(t)){var n=v(t);if(n&&n.id!=h.id){t.preventDefault();var i=e.getCaretRangeFromPoint(t.x,t.y,h.getDoc());it.setRng(i),y(n.html)}}})}function G(){}function J(){var t;return st?!(t=h.selection.getSel())||!t.rangeCount||0===t.rangeCount:0}function K(){function e(t){var e=new d(t.getBody()),n=t.selection.getRng(),i=u.fromRangeStart(n),o=u.fromRangeEnd(n),r=e.prev(i),a=e.next(o);return!t.selection.isCollapsed()&&(!r||r.isAtStart()&&i.isEqual(r))&&(!a||a.isAtEnd()&&i.isEqual(a))}h.on("keypress",function(n){!m(n)&&!it.isCollapsed()&&n.charCode>31&&!t.metaKeyPressed(n)&&e(h)&&(n.preventDefault(),h.setContent(String.fromCharCode(n.charCode)),h.selection.select(h.getBody(),!0),h.selection.collapse(!1),h.nodeChanged())}),h.on("keydown",function(t){var n=t.keyCode;m(t)||n!=et&&n!=tt||e(h)&&(t.preventDefault(),h.setContent(""),h.nodeChanged())})}var Q=s.each,Z=h.$,tt=t.BACKSPACE,et=t.DELETE,nt=h.dom,it=h.selection,ot=h.settings,rt=h.parser,at=h.serializer,st=a.gecko,lt=a.ie,ct=a.webkit,ut="data:text/mce-internal,",dt=lt?"Text":"URL";return N(),w(),a.windowsPhone||H(),ct&&(K(),b(),x(),T(),I(),V(),A(),X(),a.iOS?(z(),j(),q()):C()),lt&&a.ie<11&&(_(),E(),$(),D(),L(),O(),M(),B()),a.ie>=11&&(j(),A()),a.ie&&(C(),U(),Y()),st&&(K(),_(),k(),S(),R(),P(),F(),W(),A()),{refreshContentEditable:G,isHidden:J}}}),
/**
 * EditorObservable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(t,e,n){function i(t,e){return"selectionchange"==e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=a.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()}function o(t,e){function n(t){return!t.hidden&&!t.readonly}var o,s=i(t,e);if(t.delegates||(t.delegates={}),!t.delegates[e])if(t.settings.event_root){if(r||(r={},t.editorManager.on("removeEditor",function(){var e;if(!t.editorManager.activeEditor&&r){for(e in r)t.dom.unbind(i(t,e));r=null}})),r[e])return;o=function(i){for(var o=i.target,r=t.editorManager.editors,s=r.length;s--;){var l=r[s].getBody();(l===o||a.isChildOf(o,l))&&n(r[s])&&r[s].fire(e,i)}},r[e]=o,a.bind(s,e,o)}else o=function(i){n(t)&&t.fire(e,i)},a.bind(s,e,o),t.delegates[e]=o}var r,a=e.DOM,s={bindPendingEventDelegates:function(){var t=this;n.each(t._pendingNativeEvents,function(e){o(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!=t&&"blur"!=t&&(e?n.initialized?o(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(i(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this;if(e.delegates){for(t in e.delegates)e.dom.unbind(i(e,t),t,e.delegates[t]);delete e.delegates}e.inline||(e.getBody().onload=null,e.dom.unbind(e.getWin()),e.dom.unbind(e.getDoc())),e.dom.unbind(e.getBody()),e.dom.unbind(e.getContainer())}};return s=n.extend({},t,s)}),
/**
 * Mode.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Mode",[],function(){function t(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(i){}}function e(t){var e,n;return e=t.getBody(),n=function(e){t.dom.getParents(e.target,"a").length>0&&e.preventDefault()},t.dom.bind(e,"click",n),{unbind:function(){t.dom.unbind(e,"click",n)}}}function n(n,i){n._clickBlocker&&(n._clickBlocker.unbind(),n._clickBlocker=null),i?(n._clickBlocker=e(n),n.selection.controlSelection.hideResizeRect(),n.readonly=!0,n.getBody().contentEditable=!1):(n.readonly=!1,n.getBody().contentEditable=!0,t(n,"StyleWithCSS",!1),t(n,"enableInlineTableEditing",!1),t(n,"enableObjectResizing",!1),n.focus(),n.nodeChanged())}function i(t,e){var i=t.readonly?"readonly":"design";e!=i&&(t.initialized?n(t,"readonly"==e):t.on("init",function(){n(t,"readonly"==e)}),t.fire("SwitchMode",{mode:e}))}return{setMode:i}}),
/**
 * Shortcuts.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(t,e){var n=t.each,i=t.explode,o={f9:120,f10:121,f11:122},r=t.makeMap("alt,ctrl,shift,meta,access");return function(a){function s(t){var a,s,l={};for(s in n(i(t,"+"),function(t){t in r?l[t]=!0:/^[0-9]{2,}$/.test(t)?l.keyCode=parseInt(t,10):(l.charCode=t.charCodeAt(0),l.keyCode=o[t]||t.toUpperCase().charCodeAt(0))}),a=[l.keyCode],r)l[s]?a.push(s):l[s]=!1;return l.id=a.join(","),l.access&&(l.alt=!0,e.mac?l.ctrl=!0:l.shift=!0),l.meta&&(e.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function l(e,n,o,r){var l;return(l=t.map(i(e,">"),s))[l.length-1]=t.extend(l[l.length-1],{func:o,scope:r||a}),t.extend(l[0],{desc:a.translate(n),subpatterns:l.slice(1)})}function c(t){return t.altKey||t.ctrlKey||t.metaKey}function u(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123}function d(t,e){return!!e&&(e.ctrl==t.ctrlKey&&e.meta==t.metaKey&&(e.alt==t.altKey&&e.shift==t.shiftKey&&(!!(t.keyCode==e.keyCode||t.charCode&&t.charCode==e.charCode)&&(t.preventDefault(),!0))))}function h(t){return t.func?t.func.call(t.scope):null}var f=this,p={},m=[];a.on("keyup keypress keydown",function(t){!c(t)&&!u(t)||t.isDefaultPrevented()||(n(p,function(e){if(d(t,e))return m=e.subpatterns.slice(0),"keydown"==t.type&&h(e),!0}),d(t,m[0])&&(1===m.length&&"keydown"==t.type&&h(m[0]),m.shift()))}),f.add=function(e,o,r,s){var c;return c=r,"string"==typeof r?r=function(){a.execCommand(c,!1,null)}:t.isArray(c)&&(r=function(){a.execCommand(c[0],c[1],c[2])}),n(i(t.trim(e.toLowerCase())),function(t){var e=l(t,o,r,s);p[e.id]=e}),!0},f.remove=function(t){var e=l(t);return!!p[e.id]&&(delete p[e.id],!0)}}}),
/**
 * Uploader.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(t,e,n){return function(i,o){function r(t){var e;return e={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[t.blob().type.toLowerCase()]||"dat",t.filename()+"."+e}function a(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e}function s(t){return{id:t.id,blob:t.blob,base64:t.base64,filename:n.constant(r(t))}}function l(t,e,n,i){var r,s;(r=new XMLHttpRequest).open("POST",o.url),r.withCredentials=o.credentials,r.upload.onprogress=function(t){i(t.loaded/t.total*100)},r.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+r.status)},r.onload=function(){var t;200==r.status?(t=JSON.parse(r.responseText))&&"string"==typeof t.location?e(a(o.basePath,t.location)):n("Invalid JSON: "+r.responseText):n("HTTP Error: "+r.status)},(s=new FormData).append("file",t.blob(),t.filename()),r.send(s)}function c(){return new t(function(t){t([])})}function u(t,e){return{url:e,blobInfo:t,status:!0}}function d(t,e){return{url:"",blobInfo:t,status:!1,error:e}}function h(t,n){e.each(y[t],function(t){t(n)}),delete y[t]}function f(e,n,o){return i.markPending(e.blobUri()),new t(function(t){var r,a,l=function(){};try{var c=function(){r&&(r.close(),a=l)},f=function(n){c(),i.markUploaded(e.blobUri(),n),h(e.blobUri(),u(e,n)),t(u(e,n))},p=function(n){c(),i.removeFailed(e.blobUri()),h(e.blobUri(),d(e,n)),t(d(e,n))};a=function(t){t<0||t>100||(r||(r=o()),r.progressBar.value(t))},n(s(e),f,p,a)}catch(m){t(d(e,m.message))}})}function p(t){return t===l}function m(e){var n=e.blobUri();return new t(function(t){y[n]=y[n]||[],y[n].push(t)})}function g(n,r){return n=e.grep(n,function(t){return!i.isUploaded(t.blobUri())}),t.all(e.map(n,function(t){return i.isPending(t.blobUri())?m(t):f(t,o.handler,r)}))}function v(t,e){return!o.url&&p(o.handler)?c():g(t,e)}var y={};return o=e.extend({credentials:!1,handler:l},o),{upload:v}}}),
/**
 * Conversions.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/file/Conversions",["tinymce/util/Promise"],function(t){function e(e){return new t(function(t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){200==this.status&&t(this.response)},n.send()})}function n(t){var e,n;return t=decodeURIComponent(t).split(","),(n=/data:([^;]+)/.exec(t[0]))&&(e=n[1]),{type:e,data:t[1]}}function i(e){return new t(function(t){var i,o,r;e=n(e);try{i=atob(e.data)}catch(a){return void t(new Blob([]))}for(o=new Uint8Array(i.length),r=0;r<o.length;r++)o[r]=i.charCodeAt(r);t(new Blob([o],{type:e.type}))})}function o(t){return 0===t.indexOf("blob:")?e(t):0===t.indexOf("data:")?i(t):null}function r(e){return new t(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})}return{uriToBlob:o,blobToDataUri:r,parseDataUri:n}}),
/**
 * ImageScanner.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(t,e,n,i,o){var r=0,a=function(t){return(t||"blobid")+r++};return function(r,s){function l(l,u){function d(t,e){var n,o;0!==t.src.indexOf("blob:")?(n=i.parseDataUri(t.src).data,(o=s.findFirst(function(t){return t.base64()===n}))?e({image:t,blobInfo:o}):i.uriToBlob(t.src).then(function(i){o=s.create(a(),i,n),s.add(o),e({image:t,blobInfo:o})})):(o=s.getByUri(t.src))?e({image:t,blobInfo:o}):i.uriToBlob(t.src).then(function(r){i.blobToDataUri(r).then(function(l){n=i.parseDataUri(l).data,o=s.create(a(),r,n),s.add(o),e({image:t,blobInfo:o})})})}var h,f;return u||(u=n.constant(!0)),h=e.filter(l.getElementsByTagName("img"),function(t){var e=t.src;return!!o.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!e||e==o.transparentSrc)&&(0===e.indexOf("blob:")?!r.isUploaded(e):0===e.indexOf("data:")&&u(t)))))}),f=e.map(h,function(e){var n;return c[e.src]?new t(function(t){c[e.src].then(function(n){t({image:e,blobInfo:n.blobInfo})})}):(n=new t(function(t){d(e,t)}).then(function(t){return delete c[t.image.src],t})["catch"](function(t){return delete c[e.src],t}),c[e.src]=n,n)}),t.all(f)}var c={};return{findAll:l}}}),
/**
 * BlobCache.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(t,e){return function(){function n(t,e,n,i){return{id:u(t),filename:u(i||t),blob:u(e),base64:u(n),blobUri:u(URL.createObjectURL(e))}}function i(t){o(t.id())||c.push(t)}function o(t){return r(function(e){return e.id()===t})}function r(e){return t.filter(c,e)[0]}function a(t){return r(function(e){return e.blobUri()==t})}function s(e){c=t.filter(c,function(t){return t.blobUri()!==e||(URL.revokeObjectURL(t.blobUri()),!1)})}function l(){t.each(c,function(t){URL.revokeObjectURL(t.blobUri())}),c=[]}var c=[],u=e.constant;return{create:n,add:i,get:o,getByUri:a,findFirst:r,removeByUri:s,destroy:l}}}),
/**
 * UploadStatus.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/file/UploadStatus",[],function(){return function(){function t(t,e){return{status:t,resultUri:e}}function e(t){return t in d}function n(t){var e=d[t];return e?e.resultUri:null}function i(t){return!!e(t)&&d[t].status===c}function o(t){return!!e(t)&&d[t].status===u}function r(e){d[e]=t(c,null)}function a(e,n){d[e]=t(u,n)}function s(t){delete d[t]}function l(){d={}}var c=1,u=2,d={};return{hasBlobUri:e,getResultUri:n,isPending:i,isUploaded:o,markPending:r,markUploaded:a,removeFailed:s,destroy:l}}}),
/**
 * ErrorReporter.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ErrorReporter",["tinymce/AddOnManager"],function(t){var e=t.PluginManager,n=function(t,n){for(var i in e.urls){if(e.urls[i]+"/plugin"+n+".js"===t)return i}return null},i=function(t,e){var i=n(e,t.suffix);return i?"Failed to load plugin: "+i+" from url "+e:"Failed to load plugin url: "+e},o=function(t,e){t.notificationManager.open({type:"error",text:e})},r=function(t,e){t._skinLoaded?o(t,e):t.on("SkinLoaded",function(){o(t,e)})};return{pluginLoadError:function(t,e){r(t,i(t,e))},uploadError:function(t,e){r(t,"Failed to upload image: "+e)}}}),
/**
 * EditorUpload.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache","tinymce/file/UploadStatus","tinymce/ErrorReporter"],function(t,e,n,i,o,r){return function(a){function s(t){return function(e){return a.selection?t(e):[]}}function l(){return"?"+(new Date).getTime()}function c(t,e,n){var i=0;do{-1!==(i=t.indexOf(e,i))&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1)}while(-1!==i);return t}function u(t,e,n){return t=c(t=c(t,'src="'+e+'"','src="'+n+'"'),'data-mce-src="'+e+'"','data-mce-src="'+n+'"')}function d(e,n){t.each(a.undoManager.data,function(i){"fragmented"===i.type?i.fragments=t.map(i.fragments,function(t){return u(t,e,n)}):i.content=u(i.content,e,n)})}function h(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function f(t,e){x.removeByUri(t.src),d(t.src,e),a.$(t).attr({src:_.images_reuse_filename?e+l():e,"data-mce-src":a.convertURL(e,"src")})}function p(n){return w||(w=new e(k,{url:_.images_upload_url,basePath:_.images_upload_base_path,credentials:_.images_upload_credentials,handler:_.images_upload_handler})),v().then(s(function(e){var i;return i=t.map(e,function(t){return t.blobInfo}),w.upload(i,h).then(s(function(i){return i=t.map(i,function(t,n){var i=e[n].image;return t.status&&!1!==a.settings.images_replace_blob_uris?f(i,t.url):t.error&&r.uploadError(a,t.error),{element:i,status:t.status}}),n&&n(i),i}))}))}function m(t){if(!1!==_.automatic_uploads)return p(t)}function g(t){return!_.images_dataimg_filter||_.images_dataimg_filter(t)}function v(){return C||(C=new n(k,x)),C.findAll(a.getBody(),g).then(s(function(e){return t.each(e,function(t){d(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")}),e}))}function y(){x.destroy(),k.destroy(),C=w=null}function b(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var i=k.getResultUri(n);if(i)return'src="'+i+'"';var o=x.getByUri(n);return o||(o=t.reduce(a.editorManager.editors,function(t,e){return t||e.editorUpload.blobCache.getByUri(n)},null)),o?'src="data:'+o.blob().type+";base64,"+o.base64()+'"':e})}var w,C,x=new i,_=a.settings,k=new o;return a.on("setContent",function(){!1!==a.settings.automatic_uploads?m():v()}),a.on("RawSaveContent",function(t){t.content=b(t.content)}),a.on("getContent",function(t){t.source_view||"raw"==t.format||(t.content=b(t.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(e){t.each(e,function(t){var e=t.attr("src");if(!x.getByUri(e)){var n=k.getResultUri(e);n&&t.attr("src",n)}})})}),{blobCache:x,uploadImages:p,uploadImagesAuto:m,scanForImages:v,destroy:y}}}),
/**
 * FakeCaret.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/FakeCaret",["tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/dom/DomQuery","tinymce/geom/ClientRect","tinymce/util/Delay"],function(t,e,n,i,o,r,a){var s=n.isContentEditableFalse;return function(e,n){function i(t,n){var i,o,a,s,l,c=r.collapse(t.getBoundingClientRect(),n);return"BODY"==e.tagName?(i=e.ownerDocument.documentElement,o=e.scrollLeft||i.scrollLeft,a=e.scrollTop||i.scrollTop):(l=e.getBoundingClientRect(),o=e.scrollLeft-l.left,a=e.scrollTop-l.top),c.left+=o,c.right+=o,c.top+=a,c.bottom+=a,c.width=1,(s=t.offsetWidth-t.clientWidth)>0&&(n&&(s*=-1),c.left+=s,c.right+=s),c}function l(){var n,i,r,a,s;for(n=o("*[contentEditable=false]",e),a=0;a<n.length;a++)r=(i=n[a]).previousSibling,t.endsWithCaretContainer(r)&&(1==(s=r.data).length?r.parentNode.removeChild(r):r.deleteData(s.length-1,1)),r=i.nextSibling,t.startsWithCaretContainer(r)&&(1==(s=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1));return null}function c(r,a){var l,c;return u(),n(a)?(g=t.insertBlock("p",a,r),l=i(a,r),o(g).css("top",l.top),m=o('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(e),r&&m.addClass("mce-visual-caret-before"),d(),(c=a.ownerDocument.createRange()).setStart(g,0),c.setEnd(g,0),c):(g=t.insertInline(a,r),c=a.ownerDocument.createRange(),s(g.nextSibling)?(c.setStart(g,0),c.setEnd(g,0)):(c.setStart(g,1),c.setEnd(g,1)),c)}function u(){l(),g&&(t.remove(g),g=null),m&&(m.remove(),m=null),clearInterval(p)}function d(){p=a.setInterval(function(){o("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden")},500)}function h(){a.clearInterval(p)}function f(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var p,m,g;return{show:c,hide:u,getCss:f,destroy:h}}}),
/**
 * Dimensions.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(t,e,n){function i(o){function r(e){return t.map(e,function(t){return(t=n.clone(t)).node=o,t})}if(t.isArray(o))return t.reduce(o,function(t,e){return t.concat(i(e))},[]);if(e.isElement(o))return r(o.getClientRects());if(e.isText(o)){var a=o.ownerDocument.createRange();return a.setStart(o,0),a.setEnd(o,o.data.length),r(a.getClientRects())}}return{getClientRects:i}}),
/**
 * LineWalker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/LineWalker",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/Dimensions","tinymce/caret/CaretCandidate","tinymce/caret/CaretUtils","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/geom/ClientRect"],function(t,e,n,i,o,r,a,s){function l(t,e,n,r){for(;r=o.findNode(r,t,i.isEditableCaretCandidate,e);)if(n(r))return}function c(t,i,o,r,a,s){function c(r){var s,l,c;for(c=n.getClientRects(r),-1==t&&(c=c.reverse()),s=0;s<c.length;s++)if(l=c[s],!o(l,d)){if(f.length>0&&i(l,e.last(f))&&h++,l.line=h,a(l))return!0;f.push(l)}}var u,d,h=0,f=[];return(d=e.last(s.getClientRects()))?(c(u=s.getNode()),l(t,r,c,u),f):f}function u(t,e){return e.line>t}function d(t,e){return e.line===t}function h(t,n,i,o){function l(t){return e.last(t.getClientRects())}var c,u,d,h,f,p,m=new r(n),g=[],v=0;1==t?(c=m.next,u=s.isBelow,d=s.isAbove,h=a.after(o)):(c=m.prev,u=s.isAbove,d=s.isBelow,h=a.before(o)),p=l(h);do{if(h.isVisible()&&!d(f=l(h),p)){if(g.length>0&&u(f,e.last(g))&&v++,(f=s.clone(f)).position=h,f.line=v,i(f))return g;g.push(f)}}while(h=c(h));return g}var f=t.curry;return{upUntil:f(c,-1,s.isAbove,s.isBelow),downUntil:f(c,1,s.isBelow,s.isAbove),positionsUntil:h,isAboveLine:f(u),isLine:f(d)}}),
/**
 * LineUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/LineUtils",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/Dimensions","tinymce/geom/ClientRect","tinymce/caret/CaretUtils","tinymce/caret/CaretCandidate"],function(t,e,n,i,o,r,a){function s(t,e){return Math.abs(t.left-e)}function l(t,e){return Math.abs(t.right-e)}function c(t,n){function i(t,e){return t>=e.left&&t<=e.right}return e.reduce(t,function(t,e){var o,r;return o=Math.min(s(t,n),l(t,n)),r=Math.min(s(e,n),l(e,n)),i(n,e)?e:i(n,t)?t:r==o&&m(e.node)?e:r<o?e:t})}function u(t,e,n,i){for(;i=g(i,t,a.isEditableCaretCandidate,e);)if(n(i))return}function d(t,n){function r(t,o){var r;return r=e.filter(i.getClientRects(o),function(e){return!t(e,n)}),a=a.concat(r),0===r.length}var a=[];return a.push(n),u(-1,t,v(r,o.isAbove),n.node),u(1,t,v(r,o.isBelow),n.node),a}function h(t){return e.filter(e.toArray(t.getElementsByTagName("*")),m)}function f(t,e){return{node:t.node,before:s(t,e)<l(t,e)}}function p(t,n,o){var r,a;return r=i.getClientRects(h(t)),(a=c(r=e.filter(r,function(t){return o>=t.top&&o<=t.bottom}),n))&&(a=c(d(t,a),n))&&m(a.node)?f(a,n):null}var m=n.isContentEditableFalse,g=r.findNode,v=t.curry;return{findClosestClientRect:c,findLineNodeRects:d,closestCaret:p}}),
/**
 * MousePosition.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/MousePosition",[],function(){var t=function(t){var e,n,i,o;return o=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,i=e.defaultView,{top:o.top+i.pageYOffset-n.clientTop,left:o.left+i.pageXOffset-n.clientLeft}},e=function(e){return e.inline?t(e.getBody()):{left:0,top:0}},n=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},i=function(t){var e=t.getBody(),n=t.getDoc().documentElement,i={left:e.scrollLeft,top:e.scrollTop},o={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?i:o},o=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var o=t(e.getContentAreaContainer()),r=i(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},r=function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}};return{calc:function(t,i){return r(e(t),n(t),o(t,i))}}}),
/**
 * DragDropOverrides.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/DragDropOverrides",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/Delay","tinymce/dom/DOMUtils","tinymce/dom/MousePosition"],function(t,e,n,i,o,r){var a=t.isContentEditableFalse,s=t.isContentEditableTrue,l=function(t,e){return a(e)&&e!==t},c=function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!a(e)},u=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},d=function(t,e,n,i){var o=e.cloneNode(!0);t.dom.setStyles(o,{width:n,height:i}),t.dom.setAttrib(o,"data-mce-selected",null);var r=t.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(r,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),t.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),r.appendChild(o),r},h=function(t,e){t.parentNode!==e&&e.appendChild(t)},f=function(t,e,n,i,o,r){var a=0,s=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>o&&(a=e.pageX+n-o),e.pageY+i>r&&(s=e.pageY+i-r),t.style.width=n-a+"px",t.style.height=i-s+"px"},p=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},m=function(t){return 0===t.button},g=function(t){return t.element},v=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},y=function(t,i){return function(o){if(m(o)){var r=e.find(i.dom.getParents(o.target),n.or(a,s));if(l(i.getBody(),r)){var c=i.dom.getPos(r),u=i.getBody(),h=i.getDoc().documentElement;t.element=r,t.screenX=o.screenX,t.screenY=o.screenY,t.maxX=(i.inline?u.scrollWidth:h.offsetWidth)-2,t.maxY=(i.inline?u.scrollHeight:h.offsetHeight)-2,t.relX=o.pageX-c.x,t.relY=o.pageY-c.y,t.width=r.offsetWidth,t.height=r.offsetHeight,t.ghost=d(i,r,t.width,t.height)}}}},b=function(t,e){var n=i.throttle(function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)},0);return function(i){var o=Math.max(Math.abs(i.screenX-t.screenX),Math.abs(i.screenY-t.screenY));if(g(t)&&!t.dragging&&o>10){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var a=v(t,r.calc(e,i));h(t.ghost,e.getBody()),f(t.ghost,a,t.width,t.height,t.maxX,t.maxY),n(i.clientX,i.clientY)}}},w=function(t){var e=t.getSel().getRangeAt(0).startContainer;return 3===e.nodeType?e.parentNode:e},C=function(t,e){return function(n){if(t.dragging&&c(e,w(e.selection),t.element)){var i=u(t.element),o=e.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(i=o.targetClone,e.undoManager.transact(function(){p(t.element),e.insertContent(e.dom.getOuterHTML(i)),e._selectionOverrides.hideFakeCaret()}))}_(t)}},x=function(t,e){return function(){_(t),t.dragging&&e.fire("dragend")}},_=function(t){t.dragging=!1,t.element=null,p(t.ghost)},k=function(t){var e,n,i,r,a,s,l={};e=o.DOM,s=document,n=y(l,t),i=b(l,t),r=C(l,t),a=x(l,t),t.on("mousedown",n),t.on("mousemove",i),t.on("mouseup",r),e.bind(s,"mousemove",i),e.bind(s,"mouseup",a),t.on("remove",function(){e.unbind(s,"mousemove",i),e.unbind(s,"mouseup",a)})},T=function(t){t.on("drop",function(e){var n="undefined"!=typeof e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(a(n)||a(t.dom.getContentEditableParent(n)))&&e.preventDefault()})};return{init:function(t){k(t),T(t)}}}),
/**
 * SelectionOverrides.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/SelectionOverrides",["tinymce/Env","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretUtils","tinymce/caret/FakeCaret","tinymce/caret/LineWalker","tinymce/caret/LineUtils","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/geom/ClientRect","tinymce/util/VK","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Delay","tinymce/DragDropOverrides"],function(t,e,n,i,o,r,a,s,l,c,u,d,h,f,p,m){function g(t,e){for(;e=t(e);)if(e.isVisible())return e;return e}function v(c){function v(t){return c.dom.hasClass(t,"mce-offscreen-selection")}function T(){var t=c.dom.get(ct);return t?t.getElementsByTagName("*")[0]:t}function S(t){return c.dom.isBlock(t)}function E(t){t&&c.selection.setRng(t)}function A(){return c.selection.getRng()}function $(t,e){c.selection.scrollIntoView(t,e)}function D(t,e,n){return c.fire("ShowCaret",{target:e,direction:t,before:n}).isDefaultPrevented()?null:($(e,-1===t),lt.show(n,e))}function N(t){return c.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:R(t)}function R(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}function P(t,e){var n=o.isInSameBlock(t,e);return!(n||!l.isBr(t.getNode()))||n}function I(t,e){return e=o.normalizeRange(t,ot,e),-1==t?n.fromRangeStart(e):n.fromRangeEnd(e)}function L(t){return i.isCaretContainerBlock(t.startContainer)}function O(t,e,n,i){var o,r,a,s;return!i.collapsed&&(o=k(i),w(o))?D(t,o,-1==t):(s=L(i),n(r=I(t,i))?N(r.getNode(-1==t)):(r=e(r))?n(r)?D(t,r.getNode(-1==t),1==t):n(a=e(r))&&P(r,a)?D(t,a.getNode(-1==t),1==t):s?U(r.toRange()):null:s?i:null)}function M(t,e,n){var i,o,r,l,c,u,d,h,p;if(p=k(n),i=I(t,n),o=e(ot,a.isAboveLine(1),i),r=f.filter(o,a.isLine(1)),c=f.last(i.getClientRects()),_(i)&&(p=i.getNode()),x(i)&&(p=i.getNode(!0)),!c)return null;if(u=c.left,(l=s.findClosestClientRect(r,u))&&w(l.node))return d=Math.abs(u-l.left),h=Math.abs(u-l.right),D(t,l.node,d<h);if(p){var m=a.positionsUntil(t,ot,a.isAboveLine(1),p);if(l=s.findClosestClientRect(f.filter(m,a.isLine(1)),u))return U(l.position.toRange());if(l=f.last(f.filter(m,a.isLine(0))))return U(l.position.toRange())}}function B(e,i){function o(){var e=c.dom.create(c.settings.forced_root_block);return(!t.ie||t.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e}var r,a;if(i.collapsed&&c.settings.forced_root_block){if(!(r=c.dom.getParent(i.startContainer,"PRE")))return;(1==e?at(n.fromRangeStart(i)):st(n.fromRangeStart(i)))||(a=o(),1==e?c.$(r).after(a):c.$(r).before(a),c.selection.select(a,!0),c.selection.collapse())}}function H(t,e,n,i){var o;return(o=O(t,e,n,i))?o:(o=B(t,i))||null}function F(t,e,n){var i;return(i=M(t,e,n))?i:(i=B(t,n))||null}function z(){return ut("*[data-mce-caret]")[0]}function j(t){t.hasAttribute("data-mce-caret")&&(i.showCaretContainerBlock(t),E(A()),$(t[0]))}function W(t){var e,i;return t=o.normalizeRange(1,ot,t),e=n.fromRangeStart(t),w(e.getNode())?D(1,e.getNode(),!e.isAtEnd()):w(e.getNode(!0))?D(1,e.getNode(!0),!1):(i=c.dom.getParent(e.getNode(),h.or(w,b)),w(i)?D(1,i,!1):null)}function U(t){return t&&t.collapsed&&W(t)||t}function q(t){var e,o,r,a;return w(t)?(w(t.previousSibling)&&(r=t.previousSibling),(o=st(n.before(t)))||(e=at(n.after(t))),e&&C(e.getNode())&&(a=e.getNode()),i.remove(t.previousSibling),i.remove(t.nextSibling),c.dom.remove(t),c.dom.isEmpty(c.getBody())?(c.setContent(""),void c.focus()):r?n.after(r).toRange():a?n.before(a).toRange():o?o.toRange():e?e.toRange():null):null}function V(t){var e=c.schema.getTextBlockElements();return t.nodeName in e}function X(t){return c.dom.isEmpty(t)}function Y(t,e,i){var o,r,a,s,l=c.dom;if(o=l.getParent(e.getNode(),l.isBlock),r=l.getParent(i.getNode(),l.isBlock),-1===t){if(s=i.getNode(!0),x(i)&&S(s))return V(o)?(X(o)&&l.remove(o),n.after(s).toRange()):q(i.getNode(!0))}else if(s=e.getNode(),_(e)&&S(s))return V(r)?(X(r)&&l.remove(r),n.before(s).toRange()):q(e.getNode());if(o===r||!V(o)||!V(r))return null;for(;a=o.firstChild;)r.appendChild(a);return c.dom.remove(o),i.toRange()}function G(t,e,n,o){var r,a,s,l;return!o.collapsed&&(r=k(o),w(r))?U(q(r)):n(a=I(t,o))&&i.isCaretContainerBlock(o.startContainer)?(l=-1==t?rt.prev(a):rt.next(a))?U(l.toRange()):o:e(a)?U(q(a.getNode(-1==t))):e(s=-1==t?rt.prev(a):rt.next(a))?-1===t?Y(t,a,s):Y(t,s,a):void 0}function J(){function o(t,e){var n=e(A());n&&!t.isDefaultPrevented()&&(t.preventDefault(),E(n))}function r(t){for(var e=c.getBody();t&&t!=e;){if(b(t)||w(t))return t;t=t.parentNode}return null}function l(t,e,n){return!n.collapsed&&f.reduce(n.getClientRects(),function(n,i){return n||u.containsXY(i,t,e)},!1)}function h(t){var e=!1;t.on("touchstart",function(){e=!1}),t.on("touchmove",function(){e=!0}),t.on("touchend",function(t){var n=r(t.target);w(n)&&(e||(t.preventDefault(),Z(N(n))))})}function g(){var t,e=r(c.selection.getNode());b(e)&&S(e)&&c.dom.isEmpty(e)&&(t=c.dom.create("br",{"data-mce-bogus":"1"}),c.$(e).empty().append(t),c.selection.setRng(n.before(t).toRange()))}function C(t){var e=z();if(e)return"compositionstart"==t.type?(t.preventDefault(),t.stopPropagation(),void j(e)):void(i.hasContent(e)&&j(e))}function k(t){var e;switch(t.keyCode){case d.DELETE:case d.BACKSPACE:e=g()}e&&t.preventDefault()}var $=y(H,1,at,_),R=y(H,-1,st,x),P=y(G,1,_,x),I=y(G,-1,x,_),L=y(F,-1,a.upUntil),O=y(F,1,a.downUntil);c.on("mouseup",function(){var t=A();t.collapsed&&E(W(t))}),c.on("click",function(t){var e;(e=r(t.target))&&(w(e)&&(t.preventDefault(),c.focus()),b(e)&&c.dom.isChildOf(e,c.selection.getNode())&&tt())}),c.on("blur NewBlock",function(){tt(),nt()});var M=function(t){var i=new e(t);if(!t.firstChild)return!1;var o=n.before(t.firstChild),r=i.next(o);return r&&!_(r)&&!x(r)},B=function(t,e){return c.dom.getParent(t,c.dom.isBlock)===c.dom.getParent(e,c.dom.isBlock)},V=function(t){return!(t.keyCode>=112&&t.keyCode<=123)},X=function(t,e){var n=c.dom.getParent(t,c.dom.isBlock),i=c.dom.getParent(e,c.dom.isBlock);return n&&!B(n,i)&&M(n)};h(c),c.on("mousedown",function(t){var e;if(e=r(t.target))w(e)?(t.preventDefault(),Z(N(e))):l(t.clientX,t.clientY,c.selection.getRng())||c.selection.placeCaretAt(t.clientX,t.clientY);else{tt(),nt();var n=s.closestCaret(ot,t.clientX,t.clientY);n&&(X(t.target,n.node)||(t.preventDefault(),c.getBody().focus(),E(D(1,n.node,n.before))))}}),c.on("keydown",function(t){if(!d.modifierPressed(t))switch(t.keyCode){case d.RIGHT:o(t,$);break;case d.DOWN:o(t,O);break;case d.LEFT:o(t,R);break;case d.UP:o(t,L);break;case d.DELETE:o(t,P);break;case d.BACKSPACE:o(t,I);break;default:w(c.selection.getNode())&&V(t)&&t.preventDefault()}}),c.on("keyup compositionstart",function(t){C(t),k(t)},!0),c.on("cut",function(){var t=c.selection.getNode();w(t)&&p.setEditorTimeout(c,function(){E(U(q(t)))})}),c.on("getSelectionRange",function(t){var e=t.range;if(it){if(!it.parentNode)return void(it=null);(e=e.cloneRange()).selectNode(it),t.range=e}}),c.on("setSelectionRange",function(t){var e;(e=Z(t.range))&&(t.range=e)}),c.on("AfterSetSelectionRange",function(t){var e=t.range;Q(e)||nt(),v(e.startContainer.parentNode)||tt()}),c.on("focus",function(){p.setEditorTimeout(c,function(){c.selection.setRng(U(c.selection.getRng()))},0)}),c.on("copy",function(e){var n=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!t.ie){var i=T();i&&(e.preventDefault(),n.clearData(),n.setData("text/html",i.outerHTML),n.setData("text/plain",i.outerText))}}),m.init(c)}function K(){var t=c.contentStyles,e=".mce-content-body";t.push(lt.getCss()),t.push(e+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+e+" *[contentEditable=false] {cursor: default;}"+e+" *[contentEditable=true] {cursor: text;}")}function Q(t){return i.isCaretContainer(t.startContainer)||i.isCaretContainer(t.endContainer)}function Z(e){var n,i,o,r,a,s,l,u,d,h,f=c.$,p=c.dom;if(!e)return null;if(e.collapsed){if(!Q(e)){if(u=I(1,e),w(u.getNode()))return D(1,u.getNode(),!u.isAtEnd());if(w(u.getNode(!0)))return D(1,u.getNode(!0),!1)}return null}return r=e.startContainer,a=e.startOffset,s=e.endOffset,3==r.nodeType&&0==a&&w(r.parentNode)&&(r=r.parentNode,a=p.nodeIndex(r),r=r.parentNode),1!=r.nodeType?null:(s==a+1&&(n=r.childNodes[a]),w(n)?(d=h=n.cloneNode(!0),(l=c.fire("ObjectSelected",{target:n,targetClone:d})).isDefaultPrevented()?null:(d=l.targetClone,0===(i=f("#"+ct)).length&&(i=f('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",ct)).appendTo(c.getBody()),e=c.dom.createRng(),d===h&&t.ie?(i.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(d),e.setStartAfter(i[0].firstChild.firstChild),e.setEndAfter(d)):(i.empty().append("\xa0").append(d).append("\xa0"),e.setStart(i[0].firstChild,1),e.setEnd(i[0].lastChild,0)),i.css({top:p.getPos(n,c.getBody()).y}),i[0].focus(),(o=c.selection.getSel()).removeAllRanges(),o.addRange(e),c.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),it=n,nt(),e)):null)}function tt(){it&&(it.removeAttribute("data-mce-selected"),c.$("#"+ct).remove(),it=null)}function et(){lt.destroy(),it=null}function nt(){lt.hide()}var it,ot=c.getBody(),rt=new e(ot),at=y(g,rt.next),st=y(g,rt.prev),lt=new r(c.getBody(),S),ct="sel-"+c.dom.uniqueId(),ut=c.$;return t.ceFalse&&(J(),K()),{showBlockCaretContainer:j,hideFakeCaret:nt,destroy:et}}var y=h.curry,b=l.isContentEditableTrue,w=l.isContentEditableFalse,C=l.isElement,x=o.isAfterContentEditableFalse,_=o.isBeforeContentEditableFalse,k=c.getSelectedNode;return v}),
/**
 * Uuid.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Uuid",[],function(){var t=0,e=function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+t()+t()+t()};return{uuid:function(n){return n+t+++e()}}}),
/**
 * Sidebar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Sidebar",[],function(){return{add:function(t,e,n){var i=t.sidebars?t.sidebars:[];i.push({name:e,settings:n}),t.sidebars=i}}}),
/**
 * Editor.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/NotificationManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/EditorObservable","tinymce/Mode","tinymce/Shortcuts","tinymce/EditorUpload","tinymce/SelectionOverrides","tinymce/util/Uuid","tinymce/ui/Sidebar","tinymce/ErrorReporter"],function(t,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,w,C,x,_,k,T,S,E,A,$,D,N,R){function P(t,e,o){var r,a,s,l=this;r=l.documentBaseUrl=o.documentBaseURL,a=o.baseURI,s=o.defaultSettings,e=M({id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:r,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l,ie7_compat:!0},s,e),s&&s.external_plugins&&e.external_plugins&&(e.external_plugins=M({},s.external_plugins,e.external_plugins)),l.settings=e,i.language=e.language||"en",i.languageLoad=e.language_load,i.baseURL=o.baseURL,l.id=e.id=t,l.setDirty(!1),l.plugins={},l.documentBaseURI=new p(e.document_base_url||r,{base_uri:a}),l.baseURI=a,l.contentCSS=[],l.contentStyles=[],l.shortcuts=new E(l),l.loadedCSS={},l.editorCommands=new f(l),l.suffix=o.suffix,l.editorManager=o,l.inline=e.inline,l.settings.content_editable=l.inline,e.cache_suffix&&(x.cacheSuffix=e.cache_suffix.replace(/^[\?\&]+/,"")),!1===e.override_viewport&&(x.overrideViewPort=!1),o.fire("SetupEditor",l),l.execCallback("setup",l),l.$=n.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}var I=t.DOM,L=i.ThemeManager,O=i.PluginManager,M=_.extend,B=_.each,H=_.explode,F=_.inArray,z=_.trim,j=_.resolve,W=g.Event,U=x.gecko,q=x.ie;return P.prototype={render:function(){function t(){I.unbind(window,"ready",t),n.render()}function e(){var t=m.ScriptLoader;if(i.language&&"en"!=i.language&&!i.language_url&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&t.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!L.urls[i.theme]){var e=i.theme_url;e=e?n.documentBaseURI.toAbsolute(e):"themes/"+i.theme+"/theme"+r+".js",L.load(i.theme,e)}_.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),B(i.external_plugins,function(t,e){O.load(e,t),i.plugins+=" "+e}),B(i.plugins.split(/[ ,]/),function(t){if((t=z(t))&&!O.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var e=O.dependencies(t);B(e,function(t){var e={prefix:"plugins/",resource:t,suffix:"/plugin"+r+".js"};t=O.createUrl(e,t),O.load(t.resource,t)})}else O.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+r+".js"})}),t.loadQueue(function(){n.removed||n.init()},n,function(t){R.pluginLoadError(n,t[0]),n.removed||n.init()})}var n=this,i=n.settings,o=n.id,r=n.suffix;if(W.domLoaded){if(n.getElement()&&x.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||I.getParent(o,"form");a&&(n.formElement=a,i.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(I.insertAfter(I.create("input",{type:"hidden",name:o}),o),n.hasHiddenInput=!0),n.formEventDelegate=function(t){n.fire(t.type,t)},I.bind(a,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!i.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),a._mceOldSubmit(a)})),n.windowManager=new v(n),n.notificationManager=new y(n),"xml"==i.encoding&&n.on("GetContent",function(t){t.save&&(t.content=I.encode(t.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),e()}}else I.bind(window,"ready",t)},init:function(){function t(e){var n,i,o=O.get(e);if(n=O.urls[e]||h.documentBaseUrl.replace(/\/$/,""),e=z(e),o&&-1===F(m,e)){if(B(O.dependencies(e),function(e){t(e)}),h.plugins[e])return;i=new o(h,n,h.$),h.plugins[e]=i,i.init&&(i.init(h,n),m.push(e))}}var e,n,i,o,r,a,s,l,c,u,d,h=this,f=h.settings,p=h.getElement(),m=[];if(h.rtl=f.rtl_ui||h.editorManager.i18n.rtl,h.editorManager.i18n.setCode(f.language),f.aria_label=f.aria_label||I.getAttrib(p,"aria-label",h.getLang("aria.rich_text_area")),h.fire("ScriptsLoaded"),f.theme&&("function"!=typeof f.theme?(f.theme=f.theme.replace(/-/,""),a=L.get(f.theme),h.theme=new a(h,L.urls[f.theme]),h.theme.init&&h.theme.init(h,L.urls[f.theme]||h.documentBaseUrl.replace(/\/$/,""),h.$)):h.theme=f.theme),B(f.plugins.replace(/\-/g,"").split(/[ ,]/),t),f.render_ui&&h.theme&&(h.orgDisplay=p.style.display,"function"!=typeof f.theme?(e=f.width||p.style.width||p.offsetWidth,n=f.height||p.style.height||p.offsetHeight,i=f.min_height||100,(u=/^[0-9\.]+(|px)$/i).test(""+e)&&(e=Math.max(parseInt(e,10),100)),u.test(""+n)&&(n=Math.max(parseInt(n,10),i)),r=h.theme.renderUI({targetNode:p,width:e,height:n,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(n=(r.iframeHeight||n)+("number"==typeof n?r.deltaHeight||0:""))<i&&(n=i)):((r=f.theme(h,p)).editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||h.id+"_parent"),r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||h.id+"_iframecontainer"),n=r.iframeHeight||p.offsetHeight),h.editorContainer=r.editorContainer),f.content_css&&B(H(f.content_css),function(t){h.contentCSS.push(h.documentBaseURI.toAbsolute(t))}),f.content_style&&h.contentStyles.push(f.content_style),f.content_editable)return p=o=r=null,h.initContentBody();if(h.iframeHTML=f.doctype+"<html><head>",f.document_base_url!=h.documentBaseUrl&&(h.iframeHTML+='<base href="'+h.documentBaseURI.getURI()+'" />'),!x.caretAfter&&f.ie7_compat&&(h.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),h.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(d=0;d<h.contentCSS.length;d++){var g=h.contentCSS[d];h.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+_._addCacheSuffix(g)+'" />',h.loadedCSS[g]=!0}-1!=(l=f.body_id||"tinymce").indexOf("=")&&(l=(l=h.getParam("body_id","","hash"))[h.id]||l),-1!=(c=f.body_class||"").indexOf("=")&&(c=(c=h.getParam("body_class","","hash"))[h.id]||""),f.content_security_policy&&(h.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+f.content_security_policy+'" />'),h.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+c+'" data-id="'+h.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+h.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&x.ie&&x.ie<12&&(s=v);var y=I.create("iframe",{id:h.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:h.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:n,display:"block"}});if(y.onload=function(){y.onload=null,h.fire("load")},I.setAttrib(y,"src",s||'javascript:""'),h.contentAreaContainer=r.iframeContainer,h.iframeElement=y,o=I.add(r.iframeContainer,y),q)try{h.getDoc()}catch(b){o.src=s=v}r.editorContainer&&(I.get(r.editorContainer).style.display=h.orgDisplay,h.hidden=I.isHidden(r.editorContainer)),h.getElement().style.display="none",I.setAttrib(h.id,"aria-hidden",!0),s||h.initContentBody(),p=o=r=null},initContentBody:function(e){var n,i,s=this,f=s.settings,p=s.getElement(),m=s.getDoc();f.inline||(s.getElement().style.visibility=s.orgVisibility),e||f.content_editable||(m.open(),m.write(s.iframeHTML),m.close()),f.content_editable&&(s.on("remove",function(){var t=this.getBody();I.removeClass(t,"mce-content-body"),I.removeClass(t,"mce-edit-focus"),I.setAttrib(t,"contentEditable",null)}),I.addClass(p,"mce-content-body"),s.contentDocument=m=f.content_document||document,s.contentWindow=f.content_window||window,s.bodyElement=p,f.content_document=f.content_window=null,f.root_name=p.nodeName.toLowerCase()),(n=s.getBody()).disabled=!0,s.readonly=f.readonly,s.readonly||(s.inline&&"static"==I.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=s.getParam("content_editable_state",!0)),n.disabled=!1,s.editorUpload=new A(s),s.schema=new b(f),s.dom=new t(m,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:f.force_hex_style_colors,class_filter:f.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:f.content_editable,schema:s.schema,onSetAttrib:function(t){s.fire("SetAttrib",t)}}),s.parser=new w(f,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",function(t,e){for(var n,i,o,r=t.length,a=s.dom;r--;)if(i=(n=t[r]).attr(e),o="data-mce-"+e,!n.attributes.map[o]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===e?((i=a.serializeStyle(a.parseStyle(i),n.name)).length||(i=null),n.attr(o,i),n.attr(e,i)):"tabindex"===e?(n.attr(o,i),n.attr(e,null)):n.attr(o,s.convertURL(i,e,n.name))}}),s.parser.addNodeFilter("script",function(t){for(var e,n,i=t.length;i--;)0!==(n=(e=t[i]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)}),s.parser.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)(e=t[n]).type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var e,n=t.length,i=s.schema.getNonEmptyElements();n--;)(e=t[n]).isEmpty(i)&&0===e.getAll("br").length&&(e.append(new r("br",1)).shortEnded=!0)}),s.serializer=new a(f,s),s.selection=new l(s.dom,s.getWin(),s.serializer,s),s.formatter=new c(s),s.undoManager=new u(s),s.forceBlocks=new h(s),s.enterKey=new d(s),s._nodeChangeDispatcher=new o(s),s._selectionOverrides=new $(s),s.fire("PreInit"),f.browser_spellcheck||f.gecko_spellcheck||(m.body.spellcheck=!1,I.setAttrib(n,"spellcheck","false")),s.quirks=new C(s),s.fire("PostRender"),f.directionality&&(n.dir=f.directionality),f.nowrap&&(n.style.whiteSpace="nowrap"),f.protect&&s.on("BeforeSetContent",function(t){B(f.protect,function(e){t.content=t.content.replace(e,function(t){return"<!--mce:protected "+escape(t)+"-->"})})}),s.on("SetContent",function(){s.addVisual(s.getBody())}),f.padd_empty_editor&&s.on("PostProcess",function(t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),s.on("compositionstart compositionend",function(t){s.composing="compositionstart"===t.type}),s.contentStyles.length>0&&(i="",B(s.contentStyles,function(t){i+=t+"\r\n"}),s.dom.addStyle(i)),B(s.contentCSS,function(t){s.loadedCSS[t]||(s.dom.loadCSS(t),s.loadedCSS[t]=!0)}),f.auto_focus&&k.setEditorTimeout(s,function(){var t;(t=!0===f.auto_focus?s:s.editorManager.get(f.auto_focus)).destroyed||t.focus()},100),p=m=n=null},focus:function(t){function e(t){return r.dom.getParent(t,function(t){return"true"===r.dom.getContentEditable(t)})}var n,i,o,r=this,a=r.selection,s=r.settings.content_editable,l=r.getDoc(),c=r.getBody();if(!t){if((n=a.getRng()).item&&(i=n.item(0)),r.quirks.refreshContentEditable(),o=e(a.getNode()),r.$.contains(c,o))return o.focus(),a.normalize(),void r.editorManager.setActive(r);if(s||(x.opera||r.getBody().focus(),r.getWin().focus()),U||s){if(c.setActive)try{c.setActive()}catch(u){c.focus()}else c.focus();s&&a.normalize()}i&&i.ownerDocument==l&&((n=l.body.createControlRange()).addElement(i),n.select())}r.editorManager.setActive(r)},execCallback:function(t){var e,n=this,i=n.settings[t];if(i)return n.callbackLookup&&(e=n.callbackLookup[t])&&(i=e.func,e=e.scope),"string"==typeof i&&(e=(e=i.replace(/\.\w+$/,""))?j(e):0,i=j(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[t]={func:i,scope:e}),i.apply(e||n,Array.prototype.slice.call(arguments,1))},translate:function(t){var e=this.settings.language||"en",n=this.editorManager.i18n;return t?(t=n.data[e+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(t,i){return n.data[e+"."+i]||"{#"+i+"}"}),this.editorManager.translate(t)):""},getLang:function(t,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(n!==e?n:"{#"+t+"}")},getParam:function(t,e,n){var i,o=t in this.settings?this.settings[t]:e;return"hash"===n?(i={},"string"==typeof o?B(o.indexOf("=")>0?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(t){(t=t.split("=")).length>1?i[z(t[0])]=z(t[1]):i[z(t[0])]=z(t)}):i=o,i):o},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),e.text||e.icon||(e.icon=t),n.buttons=n.buttons||{},e.tooltip=e.tooltip||e.title,n.buttons[t]=e},addSidebar:function(t,e){return N.add(this,t,e)},addMenuItem:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[t]=e},addContextToolbar:function(t,e){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof t&&(n=t,t=function(t){return i.dom.is(t,n)}),i.contextToolbars.push({id:D.uuid("mcet"),predicate:t,items:e})},addCommand:function(t,e,n){this.editorCommands.addCommand(t,e,n)},addQueryStateHandler:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},addQueryValueHandler:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},addShortcut:function(t,e,n,i){this.shortcuts.add(t,e,n,i)},execCommand:function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable=!0:(I.show(t.getContainer()),I.hide(t.id)),t.load(),t.fire("show"))},hide:function(){var t=this,e=t.getDoc();t.hidden||(q&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable=!1,t==t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(I.hide(t.getContainer()),I.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var n,i=this,o=i.getElement();if(o)return(t=t||{}).load=!0,n=i.setContent(o.value!==e?o.value:o.innerHTML,t),t.element=o,t.no_events||i.fire("LoadContent",t),t.element=o=null,n},save:function(t){var e,n,i=this,o=i.getElement();if(o&&i.initialized)return(t=t||{}).save=!0,t.element=o,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"==t.format&&i.fire("RawSaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=e:(i.inline||(o.innerHTML=e),(n=I.getParent(i.id,"form"))&&B(n.elements,function(t){if(t.name==i.id)return t.value=e,!1})),t.element=o=null,!1!==t.set_dirty&&i.setDirty(!1),e},setContent:function(t,e){var n,i,o=this,r=o.getBody();return(e=e||{}).format=e.format||"html",e.set=!0,e.content=t,e.no_events||o.fire("BeforeSetContent",e),0===(t=e.content).length||/^\s+$/.test(t)?(i=q&&q<11?"":'<br data-mce-bogus="1">',"TABLE"==r.nodeName?t="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(t="<li>"+i+"</li>"),(n=o.settings.forced_root_block)&&o.schema.isValidChild(r.nodeName.toLowerCase(),n.toLowerCase())?(t=i,t=o.dom.createHTML(n,o.settings.forced_root_block_attrs,t)):q||t||(t='<br data-mce-bogus="1">'),o.dom.setHTML(r,t),o.fire("SetContent",e)):("raw"!==e.format&&(t=new s({validate:o.validate},o.schema).serialize(o.parser.parse(t,{isRootContent:!0}))),e.content=z(t),o.dom.setHTML(r,e.content),e.no_events||o.fire("SetContent",e)),e.content},getContent:function(t){var e,n=this,i=n.getBody();return(t=t||{}).format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||n.fire("BeforeGetContent",t),e="raw"==t.format?_.trim(n.serializer.getTrimmedContent()):"text"==t.format?i.innerText||i.textContent:n.serializer.serialize(i,t),"text"!=t.format?t.content=z(e):t.content=e,t.no_events||n.fire("GetContent",t),t.content},insertContent:function(t,e){e&&(t=M({content:t},e)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!=e&&this.fire("dirty")},setMode:function(t){S.setMode(this,t)},getContainer:function(){var t=this;return t.container||(t.container=I.get(t.editorContainer||t.id+"_parent")),t.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=I.get(this.id)),this.targetElm},getWin:function(){var t,e=this;return e.contentWindow||(t=e.iframeElement)&&(e.contentWindow=t.contentWindow),e.contentWindow},getDoc:function(){var t,e=this;return e.contentDocument||(t=e.getWin())&&(e.contentDocument=t.document),e.contentDocument},getBody:function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},convertURL:function(t,e,n){var i=this,o=i.settings;return o.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!o.convert_urls||n&&"LINK"==n.nodeName||0===t.indexOf("file:")||0===t.length?t:o.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,o.remove_script_host)},addVisual:function(t){var n,i=this,o=i.settings,r=i.dom;t=t||i.getBody(),i.hasVisual===e&&(i.hasVisual=o.visual),B(r.select("table,a",t),function(t){var e;switch(t.nodeName){case"TABLE":return n=o.visual_table_class||"mce-item-table",void((e=r.getAttrib(t,"border"))&&"0"!=e||!i.hasVisual?r.removeClass(t,n):r.addClass(t,n));case"A":return void(r.getAttrib(t,"href",!1)||(e=r.getAttrib(t,"name")||t.id,n=o.visual_anchor_class||"mce-item-anchor",e&&i.hasVisual?r.addClass(t,n):r.removeClass(t,n)))}}),i.fire("VisualAid",{element:t,hasVisual:i.hasVisual})},remove:function(){var t=this;t.removed||(t.save(),t.removed=1,t.unbindAllNativeEvents(),t.hasHiddenInput&&I.remove(t.getElement().nextSibling),t.inline||(q&&q<10&&t.getDoc().execCommand("SelectAll",!1,null),I.setStyle(t.id,"display",t.orgDisplay),t.getBody().onload=null),t.fire("remove"),t.editorManager.remove(t),I.remove(t.getContainer()),t._selectionOverrides.destroy(),t.editorUpload.destroy(),t.destroy())},destroy:function(t){var e,n=this;n.destroyed||(t||n.removed?(t||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),(e=n.formElement)&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),I.unbind(e,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1):n.remove())},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()}},M(P.prototype,T),P}),
/**
 * I18n.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/I18n",["tinymce/util/Tools"],function(t){var e={},n="en";return{setCode:function(t){t&&(n=t,this.rtl=!!this.data[t]&&"rtl"===this.data[t]._dir)},getCode:function(){return n},rtl:!1,add:function(t,n){var i=e[t];for(var o in i||(e[t]=i={}),n)i[o]=n[o];this.setCode(t)},translate:function(i){function o(e){return t.is(e,"function")?Object.prototype.toString.call(e):r(e)?"":""+e}function r(e){return""===e||null===e||t.is(e,"undefined")}function a(e){return e=o(e),t.hasOwn(s,e)?o(s[e]):e}var s=e[n]||{};if(r(i))return"";if(t.is(i,"object")&&t.hasOwn(i,"raw"))return o(i.raw);if(t.is(i,"array")){var l=i.slice(1);i=a(i[0]).replace(/\{([0-9]+)\}/g,function(e,n){return t.hasOwn(l,n)?o(l[n]):e})}return a(i).replace(/{context:\w+}$/,"")},data:e}}),
/**
 * FocusManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(t,e,n){function i(t){function i(){try{return document.activeElement}catch(t){return document.body}}function c(t,e){if(e&&e.startContainer){if(!t.isChildOf(e.startContainer,t.getRoot())||!t.isChildOf(e.endContainer,t.getRoot()))return;return{startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}}return e}function u(t,e){var n;return e.startContainer?((n=t.getDoc().createRange()).setStart(e.startContainer,e.startOffset),n.setEnd(e.endContainer,e.endOffset)):n=e,n}function d(d){var h=d.editor;h.on("init",function(){(h.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?h.dom.bind(h.getBody(),"beforedeactivate",function(t){if(t.target==h.getBody())try{h.lastRng=h.selection.getRng()}catch(e){}}):h.on("nodechange mouseup keyup",function(t){var e=i();"nodechange"==t.type&&t.selectionChange||(e&&e.id==h.id+"_ifr"&&(e=h.getBody()),h.dom.isChildOf(e,h.getBody())&&(h.lastRng=h.selection.getRng()))}),n.webkit&&!o&&(o=function(){var e=t.activeEditor;if(e&&e.selection){var n=e.selection.getRng();n&&!n.collapsed&&(h.lastRng=n)}},s.bind(document,"selectionchange",o)))}),h.on("setcontent",function(){h.lastRng=null}),h.on("mousedown",function(){h.selection.lastFocusBookmark=null}),h.on("focusin",function(){var e,n=t.focusedEditor;h.selection.lastFocusBookmark&&(e=u(h,h.selection.lastFocusBookmark),h.selection.lastFocusBookmark=null,h.selection.setRng(e)),n!=h&&(n&&n.fire("blur",{focusedEditor:h}),t.setActive(h),t.focusedEditor=h,h.fire("focus",{blurredEditor:n}),h.focus(!0)),h.lastRng=null}),h.on("focusout",function(){e.setEditorTimeout(h,function(){var e=t.focusedEditor;l(h,i())||e!=h||(h.fire("blur",{focusedEditor:null}),t.focusedEditor=null,h.selection&&(h.selection.lastFocusBookmark=null))})}),r||(r=function(e){var n,i=t.activeEditor;n=e.target,i&&n.ownerDocument==document&&(i.selection&&n!=i.getBody()&&(i.selection.lastFocusBookmark=c(i.dom,i.lastRng)),n==document.body||l(i,n)||t.focusedEditor!=i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},s.bind(document,"focusin",r)),h.inline&&!a&&(a=function(e){var n=t.activeEditor,i=n.dom;if(n.inline&&i&&!i.isChildOf(e.target,n.getBody())){var o=n.selection.getRng();o.collapsed||(n.lastRng=o)}},s.bind(document,"mouseup",a))}function h(e){t.focusedEditor==e.editor&&(t.focusedEditor=null),t.activeEditor||(s.unbind(document,"selectionchange",o),s.unbind(document,"focusin",r),s.unbind(document,"mouseup",a),o=r=a=null)}t.on("AddEditor",d),t.on("RemoveEditor",h)}var o,r,a,s=t.DOM,l=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==s.getParent(e,function(e){return i.isEditorUIElement(e)||!!n&&t.dom.is(e,n)})};return i.isEditorUIElement=function(t){return-1!==t.className.toString().indexOf("mce-")},i._isUIElement=l,i}),
/**
 * EditorManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Promise","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager","tinymce/AddOnManager"],function(t,e,n,i,o,r,a,s,l,c,u){function d(t){b(g.editors,function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})}function h(t,n){n!==x&&(n?e(window).on("resize scroll",d):e(window).off("resize scroll",d),x=n)}function f(t){var e,n=g.editors;delete n[t.id];for(var i=0;i<n.length;i++)if(n[i]==t){n.splice(i,1),e=!0;break}return g.activeEditor==t&&(g.activeEditor=n[0]),g.focusedEditor==t&&(g.focusedEditor=null),e}function p(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(f(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t}var m,g,v=n.DOM,y=r.explode,b=r.each,w=r.extend,C=0,x=!1;return w(g={$:e,majorVersion:"4",minorVersion:"5.6",releaseDate:"2017-03-30",editors:[],i18n:l,activeEditor:null,setup:function(){var t,e,n,o,r=this,a="";if(e=i.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),n=window.tinymce||window.tinyMCEPreInit)t=n.base||n.baseURL,a=n.suffix;else{for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var u=(o=s[l].src).substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!=u.indexOf(".min")&&(a=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}!t&&document.currentScript&&(-1!=(o=document.currentScript.src).indexOf(".min")&&(a=".min"),t=o.substring(0,o.lastIndexOf("/")))}r.baseURL=new i(e).toAbsolute(t),r.documentBaseURL=e,r.baseURI=new i(r.baseURL),r.suffix=a,r.focusManager=new c(r)},overrideDefaults:function(t){var e,n;(e=t.base_url)&&(this.baseURL=new i(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new i(this.baseURL)),n=t.suffix,t.suffix&&(this.suffix=n),this.defaultSettings=t;var o=t.plugin_base_urls;for(var r in o)u.PluginManager.urls[r]=o[r]},init:function(n){function i(t,e){return t.inline&&e.tagName.toLowerCase()in f}function o(t,e){window.console&&!window.test&&window.console.log(t,e)}function s(t){var e=t.id;return e||(e=(e=t.name)&&!v.get(e)?t.name:v.uniqueId(),t.setAttribute("id",e)),e}function l(t){var e=n[t];if(e)return e.apply(m,Array.prototype.slice.call(arguments,2))}function c(t,e){return e.constructor===RegExp?e.test(t.className):v.hasClass(t,e)}function u(t){var e,n=[];if(t.types)return b(t.types,function(t){n=n.concat(v.select(t.selector))}),n;if(t.selector)return v.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":(e=t.elements||"").length>0&&b(y(e),function(t){var e;(e=v.get(t))?n.push(e):b(document.forms,function(e){b(e.elements,function(e){e.name===t&&(t="mce_editor_"+C++,v.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":b(v.select("textarea"),function(e){t.editor_deselector&&c(e,t.editor_deselector)||t.editor_selector&&!c(e,t.editor_selector)||n.push(e)})}return n}function d(){function a(e,n,i){var o=new t(e,n,m);f.push(o),o.on("init",function(){++h===c.length&&g(f)}),o.targetElm=o.targetElm||i,o.render()}var c,h=0,f=[];v.unbind(window,"ready",d),l("onpageload"),c=e.unique(u(n)),n.types?b(n.types,function(t){r.each(c,function(e){return!v.is(e,t.selector)||(a(s(e),w({},n,t),e),!1)})}):(r.each(c,function(t){p(m.get(t.id))}),c=r.grep(c,function(t){return!m.get(t.id)}),b(c,function(t){i(n,t)?o("Could not initialize inline editor on invalid inline target element",t):a(s(t),n,t)}))}var h,f,m=this;f=r.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var g=function(t){h=t};return m.settings=n,v.bind(window,"ready",d),new a(function(t){h?t(h):g=function(e){t(e)}})},get:function(t){return arguments.length?t in this.editors?this.editors[t]:null:this.editors},add:function(t){var e=this,n=e.editors;return n[t.id]=t,n.push(t),h(n,!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),m||(m=function(){e.fire("BeforeUnload")},v.bind(window,"beforeunload",m)),t},createEditor:function(e,n){return this.add(new t(e,n,this))},remove:function(t){var e,n,i=this,o=i.editors;if(t)return"string"==typeof t?(t=t.selector||t,void b(v.select(t),function(t){(n=o[t.id])&&i.remove(n)})):o[(n=t).id]?(f(n)&&i.fire("RemoveEditor",{editor:n}),o.length||v.unbind(window,"beforeunload",m),n.remove(),h(o,o.length>0),n):null;for(e=o.length-1;e>=0;e--)i.remove(o[e])},execCommand:function(e,n,i){var o=this,r=o.get(i);switch(e){case"mceAddEditor":return o.get(i)||new t(i,o.settings,o).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(o.execCommand("mceAddEditor",0,i),!0)}return!!o.activeEditor&&o.activeEditor.execCommand(e,n,i)},triggerSave:function(){b(this.editors,function(t){t.save()})},addI18n:function(t,e){l.add(t,e)},translate:function(t){return l.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!=t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t}},s),g.setup(),window.tinymce=window.tinyMCE=g,g}),
/**
 * LegacyInput.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(t,e){var n=e.each,i=e.explode;t.on("AddEditor",function(t){var e=t.editor;e.on("preInit",function(){function t(t,e){n(e,function(e,n){e&&s.setStyle(t,n,e)}),s.rename(t,"span")}function o(t){s=e.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",t.node),function(t){r[t.nodeName.toLowerCase()](s,t)})}var r,a,s,l=e.settings;l.inline_styles&&(a=i(l.font_size_legacy_values),r={font:function(e,n){t(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(n,i){"html4"===e.settings.schema&&t(i,{textDecoration:"underline"})},strike:function(e,n){t(n,{textDecoration:"line-through"})}},e.on("PreProcess SetContent",o))})})}),
/**
 * XHR.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(t,e){var n={send:function(t){function i(){!t.async||4==o.readyState||r++>1e4?(t.success&&r<1e4&&200==o.status?t.success.call(t.success_scope,""+o.responseText,o,t):t.error&&t.error.call(t.error_scope,r>1e4?"TIMED_OUT":"GENERAL",o,t),o=null):setTimeout(i,10)}var o,r=0;if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",n.fire("beforeInitialize",{settings:t}),o=new XMLHttpRequest){if(o.overrideMimeType&&o.overrideMimeType(t.content_type),o.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(o.withCredentials=!0),t.content_type&&o.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&e.each(t.requestheaders,function(t){o.setRequestHeader(t.key,t.value)}),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),(o=n.fire("beforeSend",{xhr:o,settings:t}).xhr).send(t.data),!t.async)return i();setTimeout(i,10)}}};return e.extend(n,t),n}),
/**
 * JSON.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSON",[],function(){function t(e,n){var i,o,r,a;if(n=n||'"',null===e)return"null";if("string"==(r=typeof e))return o="\bb\tt\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(t,e){return'"'===n&&"'"===t?t:(i=o.indexOf(e))+1?"\\"+o.charAt(i+1):(t=e.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t)})+n;if("object"==r){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(i=0,o="[";i<e.length;i++)o+=(i>0?",":"")+t(e[i],n);return o+"]"}for(a in o="{",e)e.hasOwnProperty(a)&&(o+="function"!=typeof e[a]?(o.length>1?","+n:n)+a+n+":"+t(e[a],n):"");return o+"}"}return""+e}return{serialize:t,parse:function(t){try{return window[String.fromCharCode(101)+"val"]("("+t+")")}catch(e){}}}}),
/**
 * JSONRequest.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(t,e,n){function i(t){this.settings=o({},t),this.count=0}var o=n.extend;return i.sendRPC=function(t){return(new i).send(t)},i.prototype={send:function(n){var i=n.error,r=n.success;(n=o(this.settings,n)).success=function(e,o){void 0===(e=t.parse(e))&&(e={error:"JSON Parse error."}),e.error?i.call(n.error_scope||n.scope,e.error,o):r.call(n.success_scope||n.scope,e.result)},n.error=function(t,e){i&&i.call(n.error_scope||n.scope,t,e)},n.data=t.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},i}),
/**
 * JSONP.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(t){return{callbacks:{},count:0,send:function(n){var i=this,o=t.DOM,r=n.count!==e?n.count:i.count,a="tinymce_jsonp_"+r;i.callbacks[r]=function(t){o.remove(a),delete i.callbacks[r],n.callback(t)},o.add(o.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),i.count++}}}),
/**
 * LocalStorage.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/LocalStorage",[],function(){function t(){for(var t in s=[],a)s.push(t);o.length=s.length}function n(){function n(t){var n,i;return-1===(i=t!==e?u+t:o.indexOf(",",u))||i>o.length?null:(n=o.substring(u,i),u=i+1,n)}var i,o,s,u=0;if(a={},c){r.load(l),o=r.getAttribute(l)||"";do{var d=n();if(null===d)break;if(null!==(i=n(parseInt(d,32)||0))){if(null===(d=n()))break;s=n(parseInt(d,32)||0),i&&(a[i]=s)}}while(null!==i);t()}}function i(){var e,n="";if(c){for(var i in a)e=a[i],n+=(n?",":"")+i.length.toString(32)+","+i+","+e.length.toString(32)+","+e;r.setAttribute(l,n);try{r.save(l)}catch(o){}t()}}var o,r,a,s,l,c;try{if(window.localStorage)return localStorage}catch(u){}return l="tinymce",r=document.documentElement,(c=!!r.addBehavior)&&r.addBehavior("#default#userData"),o={key:function(t){return s[t]},getItem:function(t){return t in a?a[t]:null},setItem:function(t,e){a[t]=""+e,i()},removeItem:function(t){delete a[t],i()},clear:function(){a={},i()}},n(),o}),
/**
 * Compat.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(t,e,n,i,o,r){var a=window.tinymce;return a.DOM=t.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=e.Event,o.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(t){a[t]=o[t]}),o.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(t){a[t]=r[t.substr(2).toLowerCase()]}),{}}),
/**
 * Layout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(t,e){return t.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(t){this.settings=e.extend({},this.Defaults,t)},preRender:function(t){t.bodyClasses.add(this.settings.containerClass)},applyClasses:function(t){var e,n,i,o,r=this.settings;e=r.firstControlClass,n=r.lastControlClass,t.each(function(t){t.classes.remove(e).remove(n).add(r.controlClass),t.visible()&&(i||(i=t),o=t)}),i&&i.classes.add(e),o&&o.classes.add(n)},renderHtml:function(t){var e="";return this.applyClasses(t.items()),t.items().each(function(t){e+=t.renderHtml()}),e},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),
/**
 * AbsoluteLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(t){t.items().filter(":visible").each(function(t){var e=t.settings;t.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h}),t.recalc&&t.recalc()})},renderHtml:function(t){return'<div id="'+t._id+'-absend" class="'+t.classPrefix+'abs-end"></div>'+this._super(t)}})}),
/**
 * Button.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Button",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"widget btn",role:"button"},init:function(t){var e,n=this;n._super(t),t=n.settings,e=n.settings.size,n.on("click mousedown",function(t){t.preventDefault()}),n.on("touchstart",function(t){n.fire("click",t),t.preventDefault()}),t.subtype&&n.classes.add(t.subtype),e&&n.classes.add("btn-"+e),t.icon&&n.icon(t.icon)},icon:function(t){return arguments.length?(this.state.set("icon",t),this):this.state.get("icon")},repaint:function(){var t,e=this.getEl().firstChild;e&&((t=e.style).width=t.height="100%"),this._super()},renderHtml:function(){var t,e=this,n=e._id,i=e.classPrefix,o=e.state.get("icon"),r=e.state.get("text"),a="";return(t=e.settings.image)?(o="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",r&&(e.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+e.encode(r)+"</span>"),o=o?i+"ico "+i+"i-"+o:"",'<div id="'+n+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+t+"></i>":"")+a+"</button></div>"},bindStates:function(){function t(t){var o=n("span."+i,e.getEl());t?(o[0]||(n("button:first",e.getEl()).append('<span class="'+i+'"></span>'),o=n("span."+i,e.getEl())),o.html(e.encode(t))):o.remove(),e.classes.toggle("btn-has-text",!!t)}var e=this,n=e.$,i=e.classPrefix+"txt";return e.state.on("change:text",function(e){t(e.value)}),e.state.on("change:icon",function(n){var i=n.value,o=e.classPrefix;e.settings.icon=i,i=i?o+"ico "+o+"i-"+e.settings.icon:"";var r=e.getEl().firstChild,a=r.getElementsByTagName("i")[0];i?(a&&a==r.firstChild||(a=document.createElement("i"),r.insertBefore(a,r.firstChild)),a.className=i):a&&r.removeChild(a),t(e.state.get("text"))}),e._super()}})}),
/**
 * ButtonGroup.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var t=this,e=t._layout;return t.classes.add("btn-group"),t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'"><div id="'+t._id+'-body">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"}})}),
/**
 * Checkbox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(t){var e=this;e._super(t),e.on("click mousedown",function(t){t.preventDefault()}),e.on("click",function(t){t.preventDefault(),e.disabled()||e.checked(!e.checked())}),e.checked(e.settings.checked)},checked:function(t){return arguments.length?(this.state.set("checked",t),this):this.state.get("checked")},value:function(t){return arguments.length?this.checked(t):this.checked()},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix;return'<div id="'+e+'" class="'+t.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+e+'-al" class="'+n+'label">'+t.encode(t.state.get("text"))+"</span></div>"},bindStates:function(){function t(t){e.classes.toggle("checked",t),e.aria("checked",t)}var e=this;return e.state.on("change:text",function(t){e.getEl("al").firstChild.data=e.translate(t.value)}),e.state.on("change:checked change:value",function(n){e.fire("change"),t(n.value)}),e.state.on("change:icon",function(t){var n=t.value,i=e.classPrefix;if(void 0===n)return e.settings.icon;e.settings.icon=n,n=n?i+"ico "+i+"i-"+e.settings.icon:"";var o=e.getEl().firstChild,r=o.getElementsByTagName("i")[0];n?(r&&r==o.firstChild||(r=document.createElement("i"),o.insertBefore(r,o.firstChild)),r.className=n):r&&o.removeChild(r)}),e.state.get("checked")&&t(!0),e._super()}})}),
/**
 * ComboBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/VK","tinymce/util/Tools"],function(t,e,n,i,o,r){return t.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.classes.add("combobox"),e.subinput=!0,e.ariaTarget="inp",t.menu=t.menu||t.values,t.menu&&(t.icon="caret"),e.on("click",function(n){var o=n.target,r=e.getEl();if(i.contains(r,o)||o==r)for(;o&&o!=r;)o.id&&-1!=o.id.indexOf("-open")&&(e.fire("action"),t.menu&&(e.showMenu(),n.aria&&e.menu.items()[0].focus())),o=o.parentNode}),e.on("keydown",function(t){var n;13==t.keyCode&&"INPUT"===t.target.nodeName&&(t.preventDefault(),e.parents().reverse().each(function(t){if(t.toJSON)return n=t,!1}),e.fire("submit",{data:n.toJSON()}))}),e.on("keyup",function(t){if("INPUT"==t.target.nodeName){var n=e.state.get("value"),i=t.target.value;i!==n&&(e.state.set("value",i),e.fire("autocomplete",t))}}),e.on("mouseover",function(t){var n=e.tooltip().moveTo(-65535);if(e.statusLevel()&&-1!==t.target.className.indexOf(e.classPrefix+"status")){var i=e.statusMessage()||"Ok",o=n.text(i).show().testMoveRel(t.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"==o),n.classes.toggle("tooltip-nw","bc-tl"==o),n.classes.toggle("tooltip-ne","bc-tr"==o),n.moveRel(t.target,o)}})},statusLevel:function(t){return arguments.length>0&&this.state.set("statusLevel",t),this.state.get("statusLevel")},statusMessage:function(t){return arguments.length>0&&this.state.set("statusMessage",t),this.state.get("statusMessage")},showMenu:function(){var t,n=this,i=n.settings;n.menu||((t=i.menu||[]).length?t={type:"menu",items:t}:t.type=t.type||"menu",n.menu=e.create(t).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(t){t.control===n.menu&&n.focus()}),n.menu.on("show hide",function(t){t.control.items().each(function(t){t.active(t.value()==n.value())})}).fire("show"),n.menu.on("select",function(t){n.value(t.control.value())}),n.on("focusin",function(t){"INPUT"==t.target.tagName.toUpperCase()&&n.menu.hide()}),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var t,e,o=this,r=o.getEl(),a=o.getEl("open"),s=o.layoutRect(),l=0,c=r.firstChild;o.statusLevel()&&"none"!==o.statusLevel()&&(l=parseInt(n.getRuntimeStyle(c,"padding-right"),10)-parseInt(n.getRuntimeStyle(c,"padding-left"),10)),t=a?s.w-n.getSize(a).width-10:s.w-10;var u=document;return u.all&&(!u.documentMode||u.documentMode<=8)&&(e=o.layoutRect().h-2+"px"),i(c).css({width:t-l,lineHeight:e}),o._super(),o},postRender:function(){var t=this;return i(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var t,e,n=this,i=n._id,o=n.settings,r=n.classPrefix,a=n.state.get("value")||"",s="",l="",c="";return"spellcheck"in o&&(l+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(l+=' maxlength="'+o.maxLength+'"'),o.size&&(l+=' size="'+o.size+'"'),o.subtype&&(l+=' type="'+o.subtype+'"'),c='<i id="'+i+'-status" class="mce-status mce-ico" style="display: none"></i>',n.disabled()&&(l+=' disabled="disabled"'),(t=o.icon)&&"caret"!=t&&(t=r+"ico "+r+"i-"+o.icon),e=n.state.get("text"),(t||e)&&(s='<div id="'+i+'-open" class="'+r+"btn "+r+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=t?'<i class="'+t+'"></i>':'<i class="'+r+'caret"></i>')+(e?(t?" ":"")+e:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+i+'" class="'+n.classes+'"><input id="'+i+'-inp" class="'+r+'textbox" value="'+n.encode(a,!1)+'" hidefocus="1"'+l+' placeholder="'+n.encode(o.placeholder)+'" />'+c+s+"</div>"},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(t,n){var i=this;if(0!==t.length){var o=function(t,e){return function(){i.fire("selectitem",{title:e,value:t})}};i.menu?i.menu.items().remove():i.menu=e.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(i).renderTo(),r.each(t,function(t){i.menu.add({text:t.title,url:t.previewUrl,match:n,classes:"menu-item-ellipsis",onclick:o(t.value,t.title)})}),i.menu.renderNew(),i.hideMenu(),i.menu.on("cancel",function(t){t.control.parent()===i.menu&&(t.stopPropagation(),i.focus(),i.hideMenu())}),i.menu.on("select",function(){i.focus()});var a=i.layoutRect().w;i.menu.layoutRect({w:a,minW:0,maxW:a}),i.menu.reflow(),i.menu.show(),i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else i.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var t=this;t.state.on("change:value",function(e){t.getEl("inp").value!=e.value&&(t.getEl("inp").value=e.value)}),t.state.on("change:disabled",function(e){t.getEl("inp").disabled=e.value}),t.state.on("change:statusLevel",function(e){var i=t.getEl("status"),o=t.classPrefix,r=e.value;n.css(i,"display","none"===r?"none":""),n.toggleClass(i,o+"i-checkmark","ok"===r),n.toggleClass(i,o+"i-warning","warn"===r),n.toggleClass(i,o+"i-error","error"===r),t.classes.toggle("has-status","none"!==r),t.repaint()}),n.on(t.getEl("status"),"mouseleave",function(){t.tooltip().hide()}),t.on("cancel",function(e){t.menu&&t.menu.visible()&&(e.stopPropagation(),t.hideMenu())});var e=function(t,e){e&&e.items().length>0&&e.items().eq(t)[0].focus()};return t.on("keydown",function(n){var i=n.keyCode;"INPUT"===n.target.nodeName&&(i===o.DOWN?(n.preventDefault(),t.fire("autocomplete"),e(0,t.menu)):i===o.UP&&(n.preventDefault(),e(-1,t.menu)))}),t._super()},remove:function(){i(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),
/**
 * ColorBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(t){return t.extend({init:function(t){var e=this;t.spellcheck=!1,t.onaction&&(t.icon="none"),e._super(t),e.classes.add("colorbox"),e.on("change keyup postrender",function(){e.repaintColor(e.value())})},repaintColor:function(t){var e=this.getEl("open"),n=e?e.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=t}catch(i){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value)}),t._super()}})}),
/**
 * PanelButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(t,e){return t.extend({showPanel:function(){var t=this,n=t.settings;if(t.active(!0),t.panel)t.panel.show();else{var i=n.panel;i.type&&(i={layout:"grid",items:i}),i.role=i.role||"dialog",i.popover=!0,i.autohide=!0,i.ariaRoot=!0,t.panel=new e(i).on("hide",function(){t.active(!1)}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}t.panel.moveRel(t.getEl(),n.popoverAlign||(t.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var t=this;t.panel&&t.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),
/**
 * ColorButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(t,e){var n=e.DOM;return t.extend({init:function(t){this._super(t),this.classes.add("colorbutton")},color:function(t){return t?(this._color=t,this.getEl("preview").style.backgroundColor=t,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix,i=t.state.get("text"),o=t.settings.icon?n+"ico "+n+"i-"+t.settings.icon:"",r=t.settings.image?" style=\"background-image: url('"+t.settings.image+"')\"":"",a="";return i&&(t.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+t.encode(i)+"</span>"),'<div id="'+e+'" class="'+t.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+r+"></i>":"")+'<span id="'+e+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(i){i.aria&&"down"==i.aria.key||i.control!=t||n.getParent(i.target,"."+t.classPrefix+"open")||(i.stopImmediatePropagation(),e.call(t,i))}),delete t.settings.onclick,t._super()}})}),
/**
 * Color.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Color",[],function(){function t(t){function o(t,o,r){var a,s,l,c;return 0,a=0,s=0,(l=e(t/=255,e(o/=255,r/=255)))==(c=n(t,n(o,r)))?{h:0,s:0,v:100*(s=l)}:(a=(c-l)/c,s=c,{h:i(60*((t==l?3:r==l?1:5)-(t==l?o-r:r==l?t-o:r-t)/(c-l))),s:i(100*a),v:i(100*s)})}function r(t,o,r){var a,s,l,c;if(t=(parseInt(t,10)||0)%360,o=parseInt(o,10)/100,r=parseInt(r,10)/100,o=n(0,e(o,1)),r=n(0,e(r,1)),0!==o){switch(a=t/60,l=(s=r*o)*(1-Math.abs(a%2-1)),c=r-s,Math.floor(a)){case 0:d=s,h=l,f=0;break;case 1:d=l,h=s,f=0;break;case 2:d=0,h=s,f=l;break;case 3:d=0,h=l,f=s;break;case 4:d=l,h=0,f=s;break;case 5:d=s,h=0,f=l;break;default:d=h=f=0}d=i(255*(d+c)),h=i(255*(h+c)),f=i(255*(f+c))}else d=h=f=i(255*r)}function a(){function t(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t}return"#"+t(d)+t(h)+t(f)}function s(){return{r:d,g:h,b:f}}function l(){return o(d,h,f)}function c(t){var e;return"object"==typeof t?"r"in t?(d=t.r,h=t.g,f=t.b):"v"in t&&r(t.h,t.s,t.v):(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(d=parseInt(e[1],10),h=parseInt(e[2],10),f=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(d=parseInt(e[1],16),h=parseInt(e[2],16),f=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(d=parseInt(e[1]+e[1],16),h=parseInt(e[2]+e[2],16),f=parseInt(e[3]+e[3],16)),d=d<0?0:d>255?255:d,h=h<0?0:h>255?255:h,f=f<0?0:f>255?255:f,u}var u=this,d=0,h=0,f=0;t&&c(t),u.toRgb=s,u.toHsv=l,u.toHex=a,u.parse=c}var e=Math.min,n=Math.max,i=Math.round;return t}),
/**
 * ColorPicker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(t,e,n,i){return t.extend({Defaults:{classes:"widget colorpicker"},init:function(t){this._super(t)},postRender:function(){function t(t,e){var i,o,r=n.getPos(t);return i=e.pageX-r.x,o=e.pageY-r.y,{x:i=Math.max(0,Math.min(i/t.clientWidth,1)),y:o=Math.max(0,Math.min(o/t.clientHeight,1))}}function o(t,e){var o=(360-t.h)/360;n.css(c,{top:100*o+"%"}),e||n.css(d,{left:t.s+"%",top:100-t.v+"%"}),u.style.background=new i({s:100,v:100,h:t.h}).toHex(),h.color().parse({s:t.s,v:t.v,h:t.h})}function r(e){var n;n=t(u,e),s.s=100*n.x,s.v=100*(1-n.y),o(s),h.fire("change")}function a(e){var n;n=t(l,e),(s=f.toHsv()).h=360*(1-n.y),o(s,!0),h.fire("change")}var s,l,c,u,d,h=this,f=h.color();l=h.getEl("h"),c=h.getEl("hp"),u=h.getEl("sv"),d=h.getEl("svp"),h._repaint=function(){o(s=f.toHsv())},h._super(),h._svdraghelper=new e(h._id+"-sv",{start:r,drag:r}),h._hdraghelper=new e(h._id+"-h",{start:a,drag:a}),h._repaint()},rgb:function(){return this.color().toRgb()},value:function(t){var e=this;if(!arguments.length)return e.color().toHex();e.color().parse(t),e._rendered&&e._repaint()},color:function(){return this._color||(this._color=new i),this._color},renderHtml:function(){function t(){var t,e,n,i,a="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",t=0,e=(i=r.split(",")).length-1;t<e;t++)a+='<div class="'+o+'colorpicker-h-chunk" style="height:'+100/e+"%;"+n+i[t]+",endColorstr="+i[t+1]+");-ms-"+n+i[t]+",endColorstr="+i[t+1]+')"></div>';return a}var e,n=this,i=n._id,o=n.classPrefix,r="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+i+'-h" class="'+o+'colorpicker-h" style="'+("background: -ms-linear-gradient(top,"+r+");background: linear-gradient(to bottom,"+r+");")+'">'+t()+'<div id="'+i+'-hp" class="'+o+'colorpicker-h-marker"></div></div>','<div id="'+i+'" class="'+n.classes+'"><div id="'+i+'-sv" class="'+o+'colorpicker-sv"><div class="'+o+'colorpicker-overlay1"><div class="'+o+'colorpicker-overlay2"><div id="'+i+'-svp" class="'+o+'colorpicker-selector1"><div class="'+o+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})}),
/**
 * Path.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Path",["tinymce/ui/Widget"],function(t){return t.extend({init:function(t){var e=this;t.delimiter||(t.delimiter="\xbb"),e._super(t),e.classes.add("path"),e.canFocus=!0,e.on("click",function(t){var n;(n=t.target.getAttribute("data-index"))&&e.fire("select",{value:e.row()[n],index:n})}),e.row(e.settings.row)},focus:function(){var t=this;return t.getEl().firstChild.focus(),t},row:function(t){return arguments.length?(this.state.set("row",t),this):this.state.get("row")},renderHtml:function(){var t=this;return'<div id="'+t._id+'" class="'+t.classes+'">'+t._getDataPathHtml(t.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(t){var e,n,i=this,o=t||[],r="",a=i.classPrefix;for(e=0,n=o.length;e<n;e++)r+=(e>0?'<div class="'+a+'divider" aria-hidden="true"> '+i.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(e==n-1?" "+a+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+i._id+"-"+e+'" aria-level="'+(e+1)+'">'+o[e].name+"</div>";return r||(r='<div class="'+a+'path-item">\xa0</div>'),r}})}),
/**
 * ElementPath.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ElementPath",["tinymce/ui/Path"],function(t){return t.extend({postRender:function(){function t(t){if(1===t.nodeType){if("BR"==t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1}var e=this,n=e.settings.editor;return!1!==n.settings.elementpath&&(e.on("select",function(t){n.focus(),n.selection.select(this.row()[t.index].element),n.nodeChanged()}),n.on("nodeChange",function(i){for(var o=[],r=i.parents,a=r.length;a--;)if(1==r[a].nodeType&&!t(r[a])){var s=n.fire("ResolveName",{name:r[a].nodeName.toLowerCase(),target:r[a]});if(s.isDefaultPrevented()||o.push({name:s.name,element:r[a]}),s.isPropagationStopped())break}e.row(o)})),e._super()}})}),
/**
 * FormItem.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FormItem",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var t=this,e=t._layout,n=t.classPrefix;return t.classes.add("formitem"),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1">'+(t.settings.title?'<div id="'+t._id+'-title" class="'+n+'title">'+t.settings.title+"</div>":"")+'<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"}})}),
/**
 * Form.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(t,e,n){return t.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var t=this,i=t.items();t.settings.formItemDefaults||(t.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),i.each(function(i){var o,r=i.settings.label;r&&((o=new e(n.extend({items:{type:"label",id:i._id+"-l",text:r,flex:0,forId:i._id,disabled:i.disabled()}},t.settings.formItemDefaults))).type="formitem",i.aria("labelledby",i._id+"-l"),"undefined"==typeof i.settings.flex&&(i.settings.flex=1),t.replace(i,o),o.add(i))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var t=this;t._super(),t.fromJSON(t.settings.data)},bindStates:function(){function t(){var t,n,i=0,o=[];if(!1!==e.settings.labelGapCalc)for(("children"==e.settings.labelGapCalc?e.find("formitem"):e.items()).filter("formitem").each(function(t){var e=t.items()[0],n=e.getEl().clientWidth;i=n>i?n:i,o.push(e)}),n=e.settings.labelGap||0,t=o.length;t--;)o[t].settings.minWidth=i+n}var e=this;e._super(),e.on("show",t),t()}})}),
/**
 * FieldSet.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(t){return t.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var t=this,e=t._layout,n=t.classPrefix;return t.preRender(),e.preRender(t),'<fieldset id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1">'+(t.settings.title?'<legend id="'+t._id+'-title" class="'+n+'fieldset-title">'+t.settings.title+"</legend>":"")+'<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></fieldset>"}})}),
/**
 * LinkTargets.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/content/LinkTargets",["tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Uuid","tinymce/util/Tools","tinymce/dom/NodeType"],function(t,e,n,i,o,r){var a=o.trim,s=function(t,e,n,i,o){return{type:t,title:e,url:n,level:i,attach:o}},l=function(t){for(;t=t.parentNode;){var e=t.contentEditable;if(e&&"inherit"!==e)return r.isContentEditableTrue(t)}return!1},c=function(e,n){return t.DOM.select(e,n)},u=function(t){return t.innerText||t.textContent},d=function(t){return t.id?t.id:i.uuid("h")},h=function(t){return t&&"A"===t.nodeName&&(t.id||t.name)},f=function(t){return h(t)&&m(t)},p=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},m=function(t){return l(t)&&!r.isContentEditableFalse(t)},g=function(t){return p(t)&&m(t)},v=function(t){return p(t)?parseInt(t.nodeName.substr(1),10):0},y=function(t){var e=d(t),n=function(){t.id=e};return s("header",u(t),"#"+e,v(t),n)},b=function(t){var n=t.id||t.name,i=u(t);return s("anchor",i||"#"+n,"#"+n,0,e.noop)},w=function(t){return n.map(n.filter(t,g),y)},C=function(t){return n.map(n.filter(t,f),b)},x=function(t){return c("h1,h2,h3,h4,h5,h6,a:not([href])",t)},_=function(t){return a(t.title).length>0};return{find:function(t){var e=x(t);return n.filter(w(e).concat(C(e)),_)}}}),
/**
 * FilePicker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/VK","tinymce/content/LinkTargets"],function(t,e,n,i,o,r){var a={},s=5,l=function(t){return{title:t.title,value:{title:{raw:t.title},url:t.url,attach:t.attach}}},c=function(t){return e.map(t,l)},u=function(t,e){return{title:t,value:{title:t,url:e,attach:i.noop}}},d=function(t,e){return!n.find(e,function(e){return e.url===t})},h=function(t,e,n){var i=e in t?t[e]:n;return!1===i?null:i},f=function(t,o,r,s){var l={title:"-"},f=function(t){var a=n.filter(t[r],function(t){return d(t,o)});return e.map(a,function(t){return{title:t,value:{title:t,url:t,attach:i.noop}}})},p=function(t){var e=n.filter(o,function(e){return e.type==t});return c(e)},g=function(){var t=p("anchor"),e=h(s,"anchor_top","#top"),n=h(s,"anchor_bottom","#bottom");return null!==e&&t.unshift(u("<top>",e)),null!==n&&t.push(u("<bottom>",n)),t},v=function(t){return n.reduce(t,function(t,e){return 0===t.length||0===e.length?t.concat(e):t.concat(l,e)},[])};return!1===s.typeahead_urls?[]:"file"===r?v([m(t,f(a)),m(t,p("header")),m(t,g())]):m(t,f(a))},p=function(t,e){var i=a[e];/^https?/.test(t)&&(i?-1===n.indexOf(i,t)&&(a[e]=i.slice(0,s).concat(t)):a[e]=[t])},m=function(t,n){var i=t.toLowerCase(),o=e.grep(n,function(t){return-1!==t.title.toLowerCase().indexOf(i)});return 1===o.length&&o[0].title===t?[]:o},g=function(t){var e=t.title;return e.raw?e.raw:e},v=function(t,e,n,i){var o=function(o){var a=r.find(n),s=f(o,a,i,e);t.showAutoComplete(s,o)};t.on("autocomplete",function(){o(t.value())}),t.on("selectitem",function(e){var n=e.value;t.value(n.url);var o=g(n);"image"===i?t.fire("change",{meta:{alt:o,attach:n.attach}}):t.fire("change",{meta:{text:o,attach:n.attach}}),t.focus()}),t.on("click",function(e){0===t.value().length&&"INPUT"===e.target.nodeName&&o("")}),t.on("PostRender",function(){t.getRoot().on("submit",function(e){e.isDefaultPrevented()||p(t.value(),i)})})},y=function(t){var e=t.status,n=t.message;return"valid"===e?{status:"ok",message:n}:"unknown"===e?{status:"warn",message:n}:"invalid"===e?{status:"warn",message:n}:{status:"none",message:""}},b=function(t,e,n){var i=e.filepicker_validator_handler;if(i){var o=function(e){0!==e.length?i({url:e,type:n},function(e){var n=y(e);t.statusMessage(n.message),t.statusLevel(n.status)}):t.statusLevel("none")};t.state.on("change:value",function(t){o(t.value)})}};return t.extend({init:function(t){var n,i,o,r=this,a=tinymce.activeEditor,s=a.settings,l=t.filetype;t.spellcheck=!1,(o=s.file_picker_types||s.file_browser_callback_types)&&(o=e.makeMap(o,/[, ]/)),o&&!o[l]||(!(i=s.file_picker_callback)||o&&!o[l]?!(i=s.file_browser_callback)||o&&!o[l]||(n=function(){i(r.getEl("inp").id,r.value(),l,window)}):n=function(){var t=r.fire("beforecall").meta;t=e.extend({filetype:l},t),i.call(a,function(t,e){r.value(t).fire("change",{meta:e})},r.value(),t)}),n&&(t.icon="browse",t.onaction=n),r._super(t),v(r,s,a.getBody(),l),b(r,s,l)}})}),
/**
 * FitLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e=t.layoutRect(),n=t.paddingBox;t.items().filter(":visible").each(function(t){t.layoutRect({x:n.left,y:n.top,w:e.innerW-n.right-n.left,h:e.innerH-n.top-n.bottom}),t.recalc&&t.recalc()})}})}),
/**
 * FlexLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,w,C,x,_,k,T,S,E,A,$,D,N,R,P,I,L,O,M,B=[],H=Math.max,F=Math.min;for(i=t.items().filter(":visible"),o=t.layoutRect(),r=t.paddingBox,a=t.settings,h=t.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=t.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!=h&&"column-reverse"!=h||(i=i.set(i.toArray().reverse()),h=h.split("-")[0]),"column"==h?(k="y",x="h",_="minH",T="maxH",E="innerH",S="top",A="deltaH",$="contentH",I="left",R="w",D="x",N="innerW",P="minW",L="right",O="deltaW",M="contentW"):(k="x",x="w",_="minW",T="maxW",E="innerW",S="left",A="deltaW",$="contentW",I="top",R="h",D="y",N="innerH",P="minH",L="bottom",O="deltaH",M="contentH"),d=o[E]-r[S]-r[S],C=u=0,e=0,n=i.length;e<n;e++)p=(f=i[e]).layoutRect(),d-=e<n-1?c:0,(m=f.settings.flex)>0&&(u+=m,p[T]&&B.push(f),p.flex=m),d-=p[_],(g=r[I]+p[P]+r[L])>C&&(C=g);if((b={})[_]=d<0?o[_]-d+o[A]:o[E]-d+o[A],b[P]=C+o[O],b[$]=o[E]-d,b[M]=C,b.minW=F(b.minW,o.maxW),b.minH=F(b.minH,o.maxH),b.minW=H(b.minW,o.startMinWidth),b.minH=H(b.minH,o.startMinHeight),!o.autoResize||b.minW==o.minW&&b.minH==o.minH){for(y=d/u,e=0,n=B.length;e<n;e++)v=(p=(f=B[e]).layoutRect())[T],(g=p[_]+p.flex*y)>v?(d-=p[T]-p[_],u-=p.flex,p.flex=0,p.maxFlexSize=v):p.maxFlexSize=0;for(y=d/u,w=r[S],b={},0===u&&("end"==l?w=d+r[S]:"center"==l?(w=Math.round(o[E]/2-(o[E]-d)/2)+r[S])<0&&(w=r[S]):"justify"==l&&(w=r[S],c=Math.floor(d/(i.length-1)))),b[D]=r[I],e=0,n=i.length;e<n;e++)g=(p=(f=i[e]).layoutRect()).maxFlexSize||p[_],"center"===s?b[D]=Math.round(o[N]/2-p[R]/2):"stretch"===s?(b[R]=H(p[P]||0,o[N]-r[I]-r[L]),b[D]=r[I]):"end"===s&&(b[D]=o[N]-p[R]-r.top),p.flex>0&&(g+=p.flex*y),b[x]=g,b[k]=w,f.layoutRect(b),f.recalc&&f.recalc(),w+=g+c}else if(b.w=b.minW,b.h=b.minH,t.layoutRect(b),this.recalc(t),null===t._lastRect){var z=t.parent();z&&(z._lastRect=null,z.recalc())}}})}),
/**
 * FlowLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(t){t.items().filter(":visible").each(function(t){t.recalc&&t.recalc()})},isNative:function(){return!0}})}),
/**
 * FontInfo.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/fmt/FontInfo",["tinymce/dom/DOMUtils"],function(t){var n=function(t,e,n){for(;n!==e;){if(n.style[t])return n.style[t];n=n.parentNode}return""},i=function(t){return t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},o=function(e,n){return t.DOM.getStyle(n,e,!0)};return{getFontSize:function(t,e){var i=n("fontSize",t,e);return""!==i?i:o("fontSize",e)},getFontFamily:function(t,r){var a=n("fontFamily",t,r),s=""!==a?a:o("fontFamily",r);return s!==e?i(s):""},toPt:function(t){return/[0-9.]+px$/.test(t)?Math.round(72*parseInt(t,10)/96)+"pt":t}}}),
/**
 * FormatControls.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/util/Arr","tinymce/dom/DOMUtils","tinymce/EditorManager","tinymce/Env","tinymce/fmt/FontInfo"],function(t,e,n,i,o,r,a,s,l){function c(t){t.settings.ui_container&&(s.container=r.DOM.select(t.settings.ui_container)[0])}function u(e){e.on("ScriptsLoaded",function(){e.rtl&&(t.rtl=!0)})}function d(t){function e(e,n){return function(){var i=this;t.on("nodeChange",function(o){var r=t.formatter,a=null;h(o.parents,function(t){if(h(e,function(e){if(n?r.matchNode(t,n,{value:e.value})&&(a=e.value):r.matchNode(t,e.value)&&(a=e.value),a)return!1}),a)return!1}),i.value(a)})}}function o(e){return function(){var n=this,i=function(t){return t?t.split(",")[0]:""};t.on("nodeChange",function(o){var r,a=null;r=l.getFontFamily(t.getBody(),o.element),h(e,function(t){t.value.toLowerCase()===r.toLowerCase()&&(a=t.value)}),h(e,function(t){a||i(t.value).toLowerCase()!==i(r).toLowerCase()||(a=t.value)}),n.value(a),!a&&r&&n.text(i(r))})}}function r(e){return function(){var n=this;t.on("nodeChange",function(i){var o,r,a=null;o=l.getFontSize(t.getBody(),i.element),r=l.toPt(o),h(e,function(t){t.value===o?a=o:t.value===r&&(a=r)}),n.value(a),a||n.text(r)})}}function a(t){for(var e=(t=t.replace(/;$/,"").split(";")).length;e--;)t[e]=t[e].split("=");return t}function s(){function e(t){var n=[];if(t)return h(t,function(t){var r={text:t.title,icon:t.icon};if(t.items)r.menu=e(t.items);else{var a=t.format||"custom"+i++;t.format||(t.name=a,o.push(t)),r.format=a,r.cmd=t.cmd}n.push(r)}),n}function n(){return t.settings.style_formats_merge?t.settings.style_formats?e(r.concat(t.settings.style_formats)):e(r):e(t.settings.style_formats||r)}var i=0,o=[],r=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return t.on("init",function(){h(o,function(e){t.formatter.register(e.name,e)})}),{type:"menu",items:n(),onPostRender:function(e){t.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return t.formatter.getCssText(this.settings.format)},onPostRender:function(){var e=this;e.parent().on("show",function(){var n,i;(n=e.settings.format)&&(e.disabled(!t.formatter.canApply(n)),e.active(t.formatter.match(n))),(i=e.settings.cmd)&&e.active(t.queryCommandState(i))})},onclick:function(){this.settings.format&&p(this.settings.format),this.settings.cmd&&t.execCommand(this.settings.cmd)}}}}function c(e){return function(){var n=this;t.formatter?t.formatter.formatChanged(e,function(t){n.active(t)}):t.on("init",function(){t.formatter.formatChanged(e,function(t){n.active(t)})})}}function u(e){return function(){function n(){var n="redo"==e?"hasRedo":"hasUndo";return!!t.undoManager&&t.undoManager[n]()}var i=this;i.disabled(!n()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){i.disabled(t.readonly||!n())})}}function d(){var e=this;t.on("VisualAid",function(t){e.active(t.hasVisual)}),e.active(t.hasVisual)}function p(e){e.control&&(e=e.control.value()),e&&t.execCommand("mceToggleFormat",!1,e)}function m(e){var n=e.length;return i.each(e,function(e){e.menu&&(e.hidden=0===m(e.menu));var i=e.format;i&&(e.hidden=!t.formatter.canApply(i)),e.hidden&&n--}),n}function g(e){var n=e.items().length;return e.items().each(function(e){e.menu&&e.visible(g(e.menu)>0),!e.menu&&e.settings.menu&&e.visible(m(e.settings.menu)>0);var i=e.settings.format;i&&e.visible(t.formatter.canApply(i)),e.visible()||n--}),n}var v;v=s(),h({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,n){t.addButton(n,{tooltip:e,onPostRender:c(n),onclick:function(){p(n)}})}),h({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1]})}),h({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1],onPostRender:c(n)})});var y=function(t){var e=t;return e.length>0&&"-"===e[0].text&&(e=e.slice(1)),e.length>0&&"-"===e[e.length-1].text&&(e=e.slice(0,e.length-1)),e},b=function(e){var n,o;if("string"==typeof e)o=e.split(" ");else if(i.isArray(e))return f(i.map(e,b));return n=i.grep(o,function(e){return"|"===e||e in t.menuItems}),i.map(n,function(e){return"|"===e?{text:"-"}:t.menuItems[e]})},w=function(e){var n=[{text:"-"}],o=i.grep(t.menuItems,function(t){return t.context===e});return i.each(o,function(t){"before"==t.separator&&n.push({text:"|"}),t.prependToContext?n.unshift(t):n.push(t),"after"==t.separator&&n.push({text:"|"})}),n},C=function(t){return t.insert_button_items?y(b(t.insert_button_items)):y(w("insert"))};t.addButton("undo",{tooltip:"Undo",onPostRender:u("undo"),cmd:"undo"}),t.addButton("redo",{tooltip:"Redo",onPostRender:u("redo"),cmd:"redo"}),t.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),t.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:u("undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:u("redo"),cmd:"redo"}),t.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:d,cmd:"mceToggleVisualAid"}),t.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),t.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(C(t.settings)),this.menu.renderNew()}}),h({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,n){t.addMenuItem(n,{text:e[0],icon:n,shortcut:e[2],cmd:e[1]})}),t.on("mousedown",function(){n.hideAll()}),t.addButton("styleselect",{type:"menubutton",text:"Formats",menu:v,onShowMenu:function(){t.settings.style_formats_autohide&&g(this.menu)}}),t.addButton("formatselect",function(){var n=[],i=a(t.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return h(i,function(e){n.push({text:e[0],value:e[1],textStyle:function(){return t.formatter.getCssText(e[1])}})}),{type:"listbox",text:i[0][0],values:n,fixedWidth:!0,onselect:p,onPostRender:e(n)}}),t.addButton("fontselect",function(){var e="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",n=[],i=a(t.settings.font_formats||e);return h(i,function(t){n.push({text:{raw:t[0]},value:t[1],textStyle:-1==t[1].indexOf("dings")?"font-family:"+t[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:o(n),onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}}),t.addButton("fontsizeselect",function(){var e=[],n="8pt 10pt 12pt 14pt 18pt 24pt 36pt",i=t.settings.fontsize_formats||n;return h(i.split(" "),function(t){var n=t,i=t,o=t.split("=");o.length>1&&(n=o[0],i=o[1]),e.push({text:n,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:e,fixedWidth:!0,onPostRender:r(e),onclick:function(e){e.control.settings.value&&t.execCommand("FontSize",!1,e.control.settings.value)}}}),t.addMenuItem("formats",{text:"Formats",menu:v})}var h=i.each,f=function(t){return o.reduce(t,function(t,e){return t.concat(e)},[])};a.on("AddEditor",function(t){var e=t.editor;u(e),d(e),c(e)}),t.translate=function(t){return a.translate(t)},e.tooltips=!s.iOS}),
/**
 * GridLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,w,C,x,_,k,T,S,E,A,$=[],D=[];e=t.settings,o=t.items().filter(":visible"),r=t.layoutRect(),i=e.columns||Math.ceil(Math.sqrt(o.length)),n=Math.ceil(o.length/i),y=e.spacingH||e.spacing||0,b=e.spacingV||e.spacing||0,w=e.alignH||e.align,C=e.alignV||e.align,g=t.paddingBox,A="reverseRows"in e?e.reverseRows:t.isRtl(),w&&"string"==typeof w&&(w=[w]),C&&"string"==typeof C&&(C=[C]);for(d=0;d<i;d++)$.push(0);for(h=0;h<n;h++)D.push(0);for(h=0;h<n;h++)for(d=0;d<i&&(u=o[h*i+d]);d++)k=(c=u.layoutRect()).minW,T=c.minH,$[d]=k>$[d]?k:$[d],D[h]=T>D[h]?T:D[h];for(S=r.innerW-g.left-g.right,x=0,d=0;d<i;d++)x+=$[d]+(d>0?y:0),S-=(d>0?y:0)+$[d];for(E=r.innerH-g.top-g.bottom,_=0,h=0;h<n;h++)_+=D[h]+(h>0?b:0),E-=(h>0?b:0)+D[h];if(x+=g.left+g.right,_+=g.top+g.bottom,(l={}).minW=x+(r.w-r.innerW),l.minH=_+(r.h-r.innerH),l.contentW=l.minW-r.deltaW,l.contentH=l.minH-r.deltaH,l.minW=Math.min(l.minW,r.maxW),l.minH=Math.min(l.minH,r.maxH),l.minW=Math.max(l.minW,r.startMinWidth),l.minH=Math.max(l.minH,r.startMinHeight),!r.autoResize||l.minW==r.minW&&l.minH==r.minH){var N;r.autoResize&&((l=t.layoutRect(l)).contentW=l.minW-r.deltaW,l.contentH=l.minH-r.deltaH),N="start"==e.packV?0:E>0?Math.floor(E/n):0;var R=0,P=e.flexWidths;if(P)for(d=0;d<P.length;d++)R+=P[d];else R=i;var I=S/R;for(d=0;d<i;d++)$[d]+=P?P[d]*I:I;for(p=g.top,h=0;h<n;h++){for(f=g.left,s=D[h]+N,d=0;d<i&&(u=o[A?h*i+i-1-d:h*i+d]);d++)m=u.settings,c=u.layoutRect(),a=Math.max($[d],c.startMinWidth),c.x=f,c.y=p,"center"==(v=m.alignH||(w?w[d]||w[0]:null))?c.x=f+a/2-c.w/2:"right"==v?c.x=f+a-c.w:"stretch"==v&&(c.w=a),"center"==(v=m.alignV||(C?C[d]||C[0]:null))?c.y=p+s/2-c.h/2:"bottom"==v?c.y=p+s-c.h:"stretch"==v&&(c.h=s),u.layoutRect(c),f+=a+y,u.recalc&&u.recalc();p+=s+b}}else if(l.w=l.minW,l.h=l.minH,t.layoutRect(l),this.recalc(t),null===t._lastRect){var L=t.parent();L&&(L._lastRect=null,L.recalc())}}})}),
/**
 * Iframe.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(t,e){return t.extend({renderHtml:function(){var t=this;return t.classes.add("iframe"),t.canFocus=!1,'<iframe id="'+t._id+'" class="'+t.classes+'" tabindex="-1" src="'+(t.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(t){this.getEl().src=t},html:function(t,n){var i=this,o=this.getEl().contentWindow.document.body;return o?(o.innerHTML=t,n&&n()):e.setTimeout(function(){i.html(t)}),this}})}),
/**
 * InfoBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(t){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("widget").add("infobox"),e.canFocus=!1},severity:function(t){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(t)},help:function(t){this.state.set("help",t)},renderHtml:function(){var t=this,e=t.classPrefix;return'<div id="'+t._id+'" class="'+t.classes+'"><div id="'+t._id+'-body">'+t.encode(t.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),
/**
 * Label.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(t,e){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("widget").add("label"),e.canFocus=!1,t.multiline&&e.classes.add("autoscroll"),t.strong&&e.classes.add("strong")},initLayoutRect:function(){var t=this,n=t._super();t.settings.multiline&&(e.getSize(t.getEl()).width>n.maxW&&(n.minW=n.maxW,t.classes.add("multiline")),t.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,e.getSize(t.getEl()).height));return n},repaint:function(){var t=this;return t.settings.multiline||(t.getEl().style.lineHeight=t.layoutRect().h+"px"),t._super()},severity:function(t){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(t)},renderHtml:function(){var t,e,n=this,i=n.settings.forId;return!i&&(e=n.settings.forName)&&(t=n.getRoot().find("#"+e)[0])&&(i=t._id),i?'<label id="'+n._id+'" class="'+n.classes+'"'+(i?' for="'+i+'"':"")+">"+n.encode(n.state.get("text"))+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+n.encode(n.state.get("text"))+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),
/**
 * Toolbar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(t){var e=this;e._super(t),e.classes.add("toolbar")},postRender:function(){var t=this;return t.items().each(function(t){t.classes.add("toolbar-item")}),t._super()}})}),
/**
 * MenuBar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(t){return t.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),
/**
 * MenuButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(t,e,n){function i(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1}var o=t.extend({init:function(t){var e=this;e._renderOpen=!0,e._super(t),t=e.settings,e.classes.add("menubtn"),t.fixedWidth&&e.classes.add("fixed-width"),e.aria("haspopup",!0),e.state.set("menu",t.menu||e.render())},showMenu:function(t){var n,i=this;if(i.menu&&i.menu.visible()&&!1!==t)return i.hideMenu();i.menu||((n=i.state.get("menu")||[]).length?n={type:"menu",items:n}:n.type=n.type||"menu",n.renderTo?i.menu=n.parent(i).show().renderTo():i.menu=e.create(n).parent(i).renderTo(),i.fire("createmenu"),i.menu.reflow(),i.menu.on("cancel",function(t){t.control.parent()===i.menu&&(t.stopPropagation(),i.focus(),i.hideMenu())}),i.menu.on("select",function(){i.focus()}),i.menu.on("show hide",function(t){t.control==i.menu&&i.activeMenu("show"==t.type),i.aria("expanded","show"==t.type)}).fire("show")),i.menu.show(),i.menu.layoutRect({w:i.layoutRect().w}),i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),i.fire("showmenu")},hideMenu:function(){var t=this;t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide())},activeMenu:function(t){this.classes.toggle("active",t)},renderHtml:function(){var t,e=this,i=e._id,o=e.classPrefix,r=e.settings.icon,a=e.state.get("text"),s="";return(t=e.settings.image)?(r="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",a&&(e.classes.add("btn-has-text"),s='<span class="'+o+'txt">'+e.encode(a)+"</span>"),r=e.settings.icon?o+"ico "+o+"i-"+r:"",e.aria("role",e.parent()instanceof n?"menuitem":"button"),'<div id="'+i+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+i+'"><button id="'+i+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+t+"></i>":"")+s+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var t=this;return t.on("click",function(e){e.control===t&&i(e.target,t.getEl())&&(t.focus(),t.showMenu(!e.aria),e.aria&&t.menu.items().filter(":visible")[0].focus())}),t.on("mouseenter",function(e){var n,i=e.control,r=t.parent();i&&r&&i instanceof o&&i.parent()==r&&(r.items().filter("MenuButton").each(function(t){t.hideMenu&&t!=i&&(t.menu&&t.menu.visible()&&(n=!0),t.hideMenu())}),n&&(i.focus(),i.showMenu()))}),t._super()},bindStates:function(){var t=this;return t.state.on("change:menu",function(){t.menu&&t.menu.remove(),t.menu=null}),t._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return o}),
/**
 * MenuItem.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(t,e,n,i){return t.extend({Defaults:{border:0,role:"menuitem"},init:function(t){var e,n=this;n._super(t),t=n.settings,n.classes.add("menu-item"),t.menu&&n.classes.add("menu-item-expand"),t.preview&&n.classes.add("menu-item-preview"),"-"!==(e=n.state.get("text"))&&"|"!==e||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),t.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),t.icon="selected"),t.preview||t.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(t){t.preventDefault()}),t.menu&&!t.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,i=n.settings,o=n.parent();if(o.items().each(function(t){t!==n&&t.hideMenu()}),i.menu){(t=n.menu)?t.show():((t=i.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",o.settings.itemDefaults&&(t.itemDefaults=o.settings.itemDefaults),(t=n.menu=e.create(t).parent(n).renderTo()).reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(t){t.control.items&&t.control.items().each(function(t){t.active(t.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=o,t.classes.add("menu-sub");var r=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(n.getEl(),r),t.rel=r,r="menu-sub-"+r,t.classes.remove(t._lastRel).add(r),t._lastRel=r,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){var t=this;return t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide(),t.aria("expanded",!1)),t},renderHtml:function(){function t(t){var e,i,o={};for(o=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},t=t.split("+"),e=0;e<t.length;e++)(i=o[t[e].toLowerCase()])&&(t[e]=i);return t.join("+")}function e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(t){var n=s.match||"";return n?t.replace(new RegExp(e(n),"gi"),function(t){return"!mce~match["+t+"]mce~match!"}):t}function o(t){return t.replace(new RegExp(e("!mce~match["),"g"),"<b>").replace(new RegExp(e("]mce~match!"),"g"),"</b>")}var r=this,a=r._id,s=r.settings,l=r.classPrefix,c=r.state.get("text"),u=r.settings.icon,d="",h=s.shortcut,f=r.encode(s.url),p="";return u&&r.parent().classes.add("menu-has-icons"),s.image&&(d=" style=\"background-image: url('"+s.image+"')\""),h&&(h=t(h)),u=l+"ico "+l+"i-"+(r.settings.icon||"none"),p="-"!==c?'<i class="'+u+'"'+d+"></i>\xa0":"",c=o(r.encode(i(c))),f=o(r.encode(i(f))),'<div id="'+a+'" class="'+r.classes+'" tabindex="-1">'+p+("-"!==c?'<span id="'+a+'-text" class="'+l+'text">'+c+"</span>":"")+(h?'<div id="'+a+'-shortcut" class="'+l+'menu-shortcut">'+h+"</div>":"")+(s.menu?'<div class="'+l+'caret"></div>':"")+(f?'<div class="'+l+'menu-item-link">'+f+"</div>":"")+"</div>"},postRender:function(){var t=this,e=t.settings,n=e.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var o=t.getEl("text");o&&o.setAttribute("style",n)}return t.on("mouseenter click",function(n){n.control===t&&(e.menu||"click"!==n.type?(t.showMenu(),n.aria&&t.menu.focus(!0)):(t.fire("select"),i.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){var t=this;return t.parent().items().each(function(t){t.classes.remove("selected")}),t.classes.toggle("selected",!0),t},active:function(t){return void 0!==t&&this.aria("checked",t),this._super(t)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),
/**
 * Throbber.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(t,e,n){return function(i,o){var r,a,s=this,l=e.classPrefix;s.show=function(e,c){function u(){r&&(t(i).append('<div class="'+l+"throbber"+(o?" "+l+"throbber-inline":"")+'"></div>'),c&&c())}return s.hide(),r=!0,e?a=n.setTimeout(u,e):u(),s},s.hide=function(){var t=i.lastChild;return n.clearTimeout(a),t&&-1!=t.className.indexOf("throbber")&&t.parentNode.removeChild(t),r=!1,s}}}),
/**
 * Menu.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(t,e,n,i){return t.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(t){var e=this;if(t.autohide=!0,t.constrainToViewport=!0,"function"==typeof t.items&&(t.itemsFactory=t.items,t.items=[]),t.itemDefaults)for(var n=t.items,o=n.length;o--;)n[o]=i.extend({},t.itemDefaults,n[o]);e._super(t),e.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var t=this;t.hideAll(),t.fire("select")},load:function(){function t(){i.throbber&&(i.throbber.hide(),i.throbber=null)}var e,i=this;i.settings.itemsFactory&&(i.throbber||(i.throbber=new n(i.getEl("body"),!0),0===i.items().length?(i.throbber.show(),i.fire("loading")):i.throbber.show(100,function(){i.items().remove(),i.fire("loading")}),i.on("hide close",t)),i.requestTime=e=(new Date).getTime(),i.settings.itemsFactory(function(n){0!==n.length?i.requestTime===e&&(i.getEl().style.width="",i.getEl("body").style.width="",t(),i.items().remove(),i.getEl("body").innerHTML="",i.add(n),i.renderNew(),i.fire("loaded")):i.hide()}))},hideAll:function(){var t=this;return this.find("menuitem").exec("hideMenu"),t._super()},preRender:function(){var t=this;return t.items().each(function(e){var n=e.settings;if(n.icon||n.image||n.selectable)return t._hasIcons=!0,!1}),t.settings.itemsFactory&&t.on("postrender",function(){t.settings.itemsFactory&&t.load()}),t._super()}})}),
/**
 * ListBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(t,e){return t.extend({init:function(t){function e(n){for(var r=0;r<n.length;r++){if(i=n[r].selected||t.value===n[r].value)return o=o||n[r].text,a.state.set("value",n[r].value),!0;if(n[r].menu&&e(n[r].menu))return!0}}var n,i,o,r,a=this;a._super(t),t=a.settings,a._values=n=t.values,n&&("undefined"!=typeof t.value&&e(n),!i&&n.length>0&&(o=n[0].text,a.state.set("value",n[0].value)),a.state.set("menu",n)),a.state.set("text",t.text||o),a.classes.add("listbox"),a.on("select",function(e){var n=e.control;r&&(e.lastControl=r),t.multiple?n.active(!n.active()):a.value(e.control.value()),r=n})},bindStates:function(){function t(t,n){t instanceof e&&t.items().each(function(t){t.hasMenus()||t.active(t.value()===n)})}function n(t,e){var i;if(t)for(var o=0;o<t.length;o++){if(t[o].value===e)return t[o];if(t[o].menu&&(i=n(t[o].menu,e)))return i}}var i=this;return i.on("show",function(e){t(e.control,i.value())}),i.state.on("change:value",function(t){var e=n(i.state.get("menu"),t.value);e?i.text(e.text):i.text(i.settings.text)}),i._super()}})}),
/**
 * Radio.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(t){return t.extend({Defaults:{classes:"radio",role:"radio"}})}),
/**
 * ResizeHandle.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(t,e){return t.extend({renderHtml:function(){var t=this,e=t.classPrefix;return t.classes.add("resizehandle"),"both"==t.settings.direction&&t.classes.add("resizehandle-both"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new e(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),
/**
 * SelectBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(t){function e(t){var e="";if(t)for(var n=0;n<t.length;n++)e+='<option value="'+t[n]+'">'+t[n]+"</option>";return e}return t.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(t){var e=this;e._super(t),e.settings.size&&(e.size=e.settings.size),e.settings.options&&(e._options=e.settings.options),e.on("keydown",function(t){var n;13==t.keyCode&&(t.preventDefault(),e.parents().reverse().each(function(t){if(t.toJSON)return n=t,!1}),e.fire("submit",{data:n.toJSON()}))})},options:function(t){return arguments.length?(this.state.set("options",t),this):this.state.get("options")},renderHtml:function(){var t,n=this,i="";return t=e(n._options),n.size&&(i=' size = "'+n.size+'"'),'<select id="'+n._id+'" class="'+n.classes+'"'+i+">"+t+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(n){t.getEl().innerHTML=e(n.value)}),t._super()}})}),
/**
 * Slider.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(t,e,n){function i(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}function o(t,e,n){t.setAttribute("aria-"+e,n)}function r(t,e){var i,r,a,s,l;"v"==t.settings.orientation?(a="top",r="height",i="h"):(a="left",r="width",i="w"),l=t.getEl("handle"),s=((t.layoutRect()[i]||100)-n.getSize(l)[r])*((e-t._minValue)/(t._maxValue-t._minValue))+"px",l.style[a]=s,l.style.height=t.layoutRect().h+"px",o(l,"valuenow",e),o(l,"valuetext",""+t.settings.previewFilter(e)),o(l,"valuemin",t._minValue),o(l,"valuemax",t._maxValue)}return t.extend({init:function(t){var e=this;t.previewFilter||(t.previewFilter=function(t){return Math.round(100*t)/100}),e._super(t),e.classes.add("slider"),"v"==t.orientation&&e.classes.add("vertical"),e._minValue=t.minValue||0,e._maxValue=t.maxValue||100,e._initValue=e.state.get("value")},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix;return'<div id="'+e+'" class="'+t.classes+'"><div id="'+e+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function t(t,e,n){return(n+t)/(e-t)}function o(t,e,n){return n*(e-t)-t}function r(e,n){function r(r){var a;a=f.value(),a=i(a=o(e,n,t(e,n,a)+.05*r),e,n),f.value(a),f.fire("dragstart",{value:a}),f.fire("drag",{value:a}),f.fire("dragend",{value:a})}f.on("keydown",function(t){switch(t.keyCode){case 37:case 38:r(-1);break;case 39:case 40:r(1)}})}function a(t,o,r){var a,s,l,p,m;f._dragHelper=new e(f._id,{handle:f._id+"-handle",start:function(t){a=t[c],s=parseInt(f.getEl("handle").style[u],10),l=(f.layoutRect()[h]||100)-n.getSize(r)[d],f.fire("dragstart",{value:m})},drag:function(e){var n=e[c]-a;p=i(s+n,0,l),r.style[u]=p+"px",m=t+p/l*(o-t),f.value(m),f.tooltip().text(""+f.settings.previewFilter(m)).show().moveRel(r,"bc tc"),f.fire("drag",{value:m})},stop:function(){f.tooltip().hide(),f.fire("dragend",{value:m})}})}var s,l,c,u,d,h,f=this;s=f._minValue,l=f._maxValue,"v"==f.settings.orientation?(c="screenY",u="top",d="height",h="h"):(c="screenX",u="left",d="width",h="w"),f._super(),r(s,l,f.getEl("handle")),a(s,l,f.getEl("handle"))},repaint:function(){this._super(),r(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){r(t,e.value)}),t._super()}})}),
/**
 * Spacer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(t){return t.extend({renderHtml:function(){var t=this;return t.classes.add("spacer"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes+'"></div>'}})}),
/**
 * SplitButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(t,e,n){return t.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var t,i,o=this,r=o.getEl(),a=o.layoutRect();return o._super(),t=r.firstChild,i=r.lastChild,n(t).css({width:a.w-e.getSize(i).width,height:a.h-2}),n(i).css({height:a.h-2}),o},activeMenu:function(t){var e=this;n(e.getEl().lastChild).toggleClass(e.classPrefix+"active",t)},renderHtml:function(){var t,e=this,n=e._id,i=e.classPrefix,o=e.state.get("icon"),r=e.state.get("text"),a="";return(t=e.settings.image)?(o="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",o=e.settings.icon?i+"ico "+i+"i-"+o:"",r&&(e.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+e.encode(r)+"</span>"),'<div id="'+n+'" class="'+e.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(o?'<i class="'+o+'"'+t+"></i>":"")+a+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(o?"\xa0":"")+e._menuBtnText:"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(t){var n=t.target;if(t.control==this)for(;n;){if(t.aria&&"down"!=t.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return t.stopImmediatePropagation(),void(e&&e.call(this,t));n=n.parentNode}}),delete t.settings.onclick,t._super()}})}),
/**
 * StackLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(t){return t.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),
/**
 * TabPanel.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(t,e,n){return t.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(t){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),e(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+t,(n=this.getEl("t"+t)).setAttribute("aria-selected","true"),e(n).addClass(this.classPrefix+"active"),this.items()[t].show().fire("showtab"),this.reflow(),this.items().each(function(e,n){t!=n&&e.hide()})},renderHtml:function(){var t=this,e=t._layout,n="",i=t.classPrefix;return t.preRender(),e.preRender(t),t.items().each(function(e,o){var r=t._id+"-t"+o;e.aria("role","tabpanel"),e.aria("labelledby",r),n+='<div id="'+r+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+t.encode(e.settings.title)+"</div>"}),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1"><div id="'+t._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+e.renderHtml(t)+"</div></div>"},postRender:function(){var t=this;t._super(),t.settings.activeTab=t.settings.activeTab||0,t.activateTab(t.settings.activeTab),this.on("click",function(e){var n=e.target.parentNode;if(n&&n.id==t._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]==e.target&&t.activateTab(i)})},initLayoutRect:function(){var t,e,i,o=this;e=(e=n.getSize(o.getEl("head")).width)<0?0:e,i=0,o.items().each(function(t){e=Math.max(e,t.layoutRect().minW),i=Math.max(i,t.layoutRect().minH)}),o.items().each(function(t){t.settings.x=0,t.settings.y=0,t.settings.w=e,t.settings.h=i,t.layoutRect({x:0,y:0,w:e,h:i})});var r=n.getSize(o.getEl("head")).height;return o.settings.minWidth=e,o.settings.minHeight=i+r,(t=o._super()).deltaH+=r,t.innerH=t.h-t.deltaH,t}})}),
/**
 * TextBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(t,e,n){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("textbox"),t.multiline?e.classes.add("multiline"):(e.on("keydown",function(t){var n;13==t.keyCode&&(t.preventDefault(),e.parents().reverse().each(function(t){if(t.toJSON)return n=t,!1}),e.fire("submit",{data:n.toJSON()}))}),e.on("keyup",function(t){e.state.set("value",t.target.value)}))},repaint:function(){var t,e,n,i,o,r=this,a=0;t=r.getEl().style,e=r._layoutRect,o=r._lastRepaintRect||{};var s=document;return!r.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(t.lineHeight=e.h-a+"px"),i=(n=r.borderBox).left+n.right+8,a=n.top+n.bottom+(r.settings.multiline?8:0),e.x!==o.x&&(t.left=e.x+"px",o.x=e.x),e.y!==o.y&&(t.top=e.y+"px",o.y=e.y),e.w!==o.w&&(t.width=e.w-i+"px",o.w=e.w),e.h!==o.h&&(t.height=e.h-a+"px",o.h=e.h),r._lastRepaintRect=o,r.fire("repaint",{},!1),r},renderHtml:function(){var t,i,o=this,r=o.settings;return t={id:o._id,hidefocus:"1"},e.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){t[e]=r[e]}),o.disabled()&&(t.disabled="disabled"),r.subtype&&(t.type=r.subtype),(i=n.create(r.multiline?"textarea":"input",t)).value=o.state.get("value"),i.className=o.classes,i.outerHTML},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!=e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}})}),
/**
 * Register.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Register",[],function(){var t=this||window,e=function(){return t.tinymce};return"function"==typeof t.define&&(t.define.amd||t.define("ephox/tinymce",[],e)),"object"==typeof module&&(module.exports=window.tinymce),{}}),r(["tinymce/geom/Rect","tinymce/util/Promise","tinymce/util/Delay","tinymce/Env","tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Progress","tinymce/ui/Notification","tinymce/NotificationManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/InfoBox","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/SelectBox","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox"])}(window),tinymce.PluginManager.add("placeholder",function(t){t.on("init",function(){function n(){!0==!t.settings.readonly&&r.hide(),t.execCommand("mceFocus",!1)}function i(){""==t.getContent()?r.show():r.hide()}function o(){r.hide()}var r=new e;i(),tinymce.DOM.bind(r.el,"click",n),t.on("focus",n),t.on("blur",i),t.on("change",i),t.on("setContent",i),t.on("keydown",o)});var e=function(){var e=t.getElement().getAttribute("placeholder")||t.settings.placeholder,n=t.settings.placeholder_attrs||{style:{position:"absolute",top:"5px",left:0,color:"#888",padding:"1%",width:"98%",overflow:"hidden","white-space":"pre-wrap"}},i=t.getContentAreaContainer();tinymce.DOM.setStyle(i,"position","relative"),this.el=tinymce.DOM.add(i,t.settings.placeholder_tag||"label",n,e)};e.prototype.hide=function(){tinymce.DOM.setStyle(this.el,"display","none")},e.prototype.show=function(){tinymce.DOM.setStyle(this.el,"display","")}}),initTinymce(),tinymce.addI18n("zh_CN",{Cut:"\u526a\u5207","Heading 5":"\u6807\u98985","Header 2":"\u6807\u98982","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"\u4f60\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5bf9\u526a\u8d34\u677f\u7684\u8bbf\u95ee\uff0c\u8bf7\u4f7f\u7528Ctrl+X/C/V\u952e\u8fdb\u884c\u590d\u5236\u7c98\u8d34\u3002","Heading 4":"\u6807\u98984",Div:"Div\u533a\u5757","Heading 2":"\u6807\u98982",Paste:"\u7c98\u8d34",Close:"\u5173\u95ed","Font Family":"\u5b57\u4f53",Pre:"\u9884\u683c\u5f0f\u6587\u672c","Align right":"\u53f3\u5bf9\u9f50","New document":"\u65b0\u6587\u6863",Blockquote:"\u5f15\u7528","Numbered list":"\u7f16\u53f7\u5217\u8868","Heading 1":"\u6807\u98981",Headings:"\u6807\u9898","Increase indent":"\u589e\u52a0\u7f29\u8fdb",Formats:"\u683c\u5f0f",Headers:"\u6807\u9898","Select all":"\u5168\u9009","Header 3":"\u6807\u98983",Blocks:"\u533a\u5757",Undo:"\u64a4\u6d88",Strikethrough:"\u5220\u9664\u7ebf","Bullet list":"\u9879\u76ee\u7b26\u53f7","Header 1":"\u6807\u98981",Superscript:"\u4e0a\u6807","Clear formatting":"\u6e05\u9664\u683c\u5f0f","Font Sizes":"\u5b57\u53f7",Subscript:"\u4e0b\u6807","Header 6":"\u6807\u98986",Redo:"\u91cd\u590d",Paragraph:"\u6bb5\u843d",Ok:"\u786e\u5b9a",Bold:"\u7c97\u4f53",Code:"\u4ee3\u7801",Italic:"\u659c\u4f53","Align center":"\u5c45\u4e2d","Header 5":"\u6807\u98985","Heading 6":"\u6807\u98986","Heading 3":"\u6807\u98983","Decrease indent":"\u51cf\u5c11\u7f29\u8fdb","Header 4":"\u6807\u98984","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"\u5f53\u524d\u4e3a\u7eaf\u6587\u672c\u7c98\u8d34\u6a21\u5f0f\uff0c\u518d\u6b21\u70b9\u51fb\u53ef\u4ee5\u56de\u5230\u666e\u901a\u7c98\u8d34\u6a21\u5f0f\u3002",Underline:"\u4e0b\u5212\u7ebf",Cancel:"\u53d6\u6d88",Justify:"\u4e24\u7aef\u5bf9\u9f50",Inline:"\u6587\u672c",Copy:"\u590d\u5236","Align left":"\u5de6\u5bf9\u9f50","Visual aids":"\u7f51\u683c\u7ebf","Lower Greek":"\u5c0f\u5199\u5e0c\u814a\u5b57\u6bcd",Square:"\u65b9\u5757",Default:"\u9ed8\u8ba4","Lower Alpha":"\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd",Circle:"\u7a7a\u5fc3\u5706",Disc:"\u5b9e\u5fc3\u5706","Upper Alpha":"\u5927\u5199\u82f1\u6587\u5b57\u6bcd","Upper Roman":"\u5927\u5199\u7f57\u9a6c\u5b57\u6bcd","Lower Roman":"\u5c0f\u5199\u7f57\u9a6c\u5b57\u6bcd",Name:"\u540d\u79f0",Anchor:"\u951a\u70b9","You have unsaved changes are you sure you want to navigate away?":"\u4f60\u8fd8\u6709\u6587\u6863\u5c1a\u672a\u4fdd\u5b58\uff0c\u786e\u5b9a\u8981\u79bb\u5f00\uff1f","Restore last draft":"\u6062\u590d\u4e0a\u6b21\u7684\u8349\u7a3f","Special character":"\u7279\u6b8a\u7b26\u53f7","Source code":"\u6e90\u4ee3\u7801",Color:"\u989c\u8272","Right to left":"\u4ece\u53f3\u5230\u5de6","Left to right":"\u4ece\u5de6\u5230\u53f3",Emoticons:"\u8868\u60c5",Robots:"\u673a\u5668\u4eba","Document properties":"\u6587\u6863\u5c5e\u6027",Title:"\u6807\u9898",Keywords:"\u5173\u952e\u8bcd",Encoding:"\u7f16\u7801",Description:"\u63cf\u8ff0",Author:"\u4f5c\u8005",Fullscreen:"\u5168\u5c4f","Horizontal line":"\u6c34\u5e73\u5206\u5272\u7ebf","Horizontal space":"\u6c34\u5e73\u8fb9\u8ddd","Insert/edit image":"\u63d2\u5165/\u7f16\u8f91\u56fe\u7247",General:"\u666e\u901a",Advanced:"\u9ad8\u7ea7",Source:"\u5730\u5740",Border:"\u8fb9\u6846","Constrain proportions":"\u4fdd\u6301\u7eb5\u6a2a\u6bd4","Vertical space":"\u5782\u76f4\u8fb9\u8ddd","Image description":"\u56fe\u7247\u63cf\u8ff0",Style:"\u6837\u5f0f",Dimensions:"\u5927\u5c0f","Insert image":"\u63d2\u5165\u56fe\u7247","Insert date/time":"\u63d2\u5165\u65e5\u671f/\u65f6\u95f4","Remove link":"\u5220\u9664\u94fe\u63a5",Url:"\u5730\u5740","Text to display":"\u663e\u793a\u6587\u5b57",Anchors:"\u951a\u70b9","Insert link":"\u63d2\u5165\u94fe\u63a5","New window":"\u5728\u65b0\u7a97\u53e3\u6253\u5f00",None:"\u65e0","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"\u4f60\u6240\u586b\u5199\u7684URL\u5730\u5740\u5c5e\u4e8e\u5916\u90e8\u94fe\u63a5\uff0c\u9700\u8981\u52a0\u4e0ahttp://:\u524d\u7f00\u5417\uff1f",Target:"\u6253\u5f00\u65b9\u5f0f","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"\u4f60\u6240\u586b\u5199\u7684URL\u5730\u5740\u8c8c\u4f3c\u662f\u90ae\u4ef6\u5730\u5740\uff0c\u9700\u8981\u52a0\u4e0amailto:\u524d\u7f00\u5417\uff1f","Insert/edit link":"\u63d2\u5165/\u7f16\u8f91\u94fe\u63a5","Insert/edit video":"\u63d2\u5165/\u7f16\u8f91\u89c6\u9891",Poster:"\u5c01\u9762","Alternative source":"\u955c\u50cf","Paste your embed code below:":"\u5c06\u5185\u5d4c\u4ee3\u7801\u7c98\u8d34\u5728\u4e0b\u9762:","Insert video":"\u63d2\u5165\u89c6\u9891",Embed:"\u5185\u5d4c","Nonbreaking space":"\u4e0d\u95f4\u65ad\u7a7a\u683c","Page break":"\u5206\u9875\u7b26","Paste as text":"\u7c98\u8d34\u4e3a\u6587\u672c",Preview:"\u9884\u89c8",Print:"\u6253\u5370",Save:"\u4fdd\u5b58","Could not find the specified string.":"\u672a\u627e\u5230\u641c\u7d22\u5185\u5bb9.",Replace:"\u66ff\u6362",Next:"\u4e0b\u4e00\u4e2a","Whole words":"\u5168\u5b57\u5339\u914d","Find and replace":"\u67e5\u627e\u548c\u66ff\u6362","Replace with":"\u66ff\u6362\u4e3a",Find:"\u67e5\u627e","Replace all":"\u5168\u90e8\u66ff\u6362","Match case":"\u533a\u5206\u5927\u5c0f\u5199",Prev:"\u4e0a\u4e00\u4e2a",Spellcheck:"\u62fc\u5199\u68c0\u67e5",Finish:"\u5b8c\u6210","Ignore all":"\u5168\u90e8\u5ffd\u7565",Ignore:"\u5ffd\u7565","Add to Dictionary":"\u6dfb\u52a0\u5230\u5b57\u5178","Insert row before":"\u5728\u4e0a\u65b9\u63d2\u5165",Rows:"\u884c",Height:"\u9ad8","Paste row after":"\u7c98\u8d34\u5230\u4e0b\u65b9",Alignment:"\u5bf9\u9f50\u65b9\u5f0f","Border color":"\u8fb9\u6846\u989c\u8272","Column group":"\u5217\u7ec4",Row:"\u884c","Insert column before":"\u5728\u5de6\u4fa7\u63d2\u5165","Split cell":"\u62c6\u5206\u5355\u5143\u683c","Cell padding":"\u5355\u5143\u683c\u5185\u8fb9\u8ddd","Cell spacing":"\u5355\u5143\u683c\u5916\u95f4\u8ddd","Row type":"\u884c\u7c7b\u578b","Insert table":"\u63d2\u5165\u8868\u683c",Body:"\u8868\u4f53",Caption:"\u6807\u9898",Footer:"\u8868\u5c3e","Delete row":"\u5220\u9664\u884c","Paste row before":"\u7c98\u8d34\u5230\u4e0a\u65b9",Scope:"\u8303\u56f4","Delete table":"\u5220\u9664\u8868\u683c","H Align":"\u6c34\u5e73\u5bf9\u9f50",Top:"\u9876\u90e8\u5bf9\u9f50","Header cell":"\u8868\u5934\u5355\u5143\u683c",Column:"\u5217","Row group":"\u884c\u7ec4",Cell:"\u5355\u5143\u683c",Middle:"\u5782\u76f4\u5c45\u4e2d","Cell type":"\u5355\u5143\u683c\u7c7b\u578b","Copy row":"\u590d\u5236\u884c","Row properties":"\u884c\u5c5e\u6027","Table properties":"\u8868\u683c\u5c5e\u6027",Bottom:"\u5e95\u90e8\u5bf9\u9f50","V Align":"\u5782\u76f4\u5bf9\u9f50",Header:"\u8868\u5934",Right:"\u53f3\u5bf9\u9f50","Insert column after":"\u5728\u53f3\u4fa7\u63d2\u5165",Cols:"\u5217","Insert row after":"\u5728\u4e0b\u65b9\u63d2\u5165",Width:"\u5bbd","Cell properties":"\u5355\u5143\u683c\u5c5e\u6027",Left:"\u5de6\u5bf9\u9f50","Cut row":"\u526a\u5207\u884c","Delete column":"\u5220\u9664\u5217",Center:"\u5c45\u4e2d","Merge cells":"\u5408\u5e76\u5355\u5143\u683c","Insert template":"\u63d2\u5165\u6a21\u677f",Templates:"\u6a21\u677f","Background color":"\u80cc\u666f\u8272","Custom...":"\u81ea\u5b9a\u4e49...","Custom color":"\u81ea\u5b9a\u4e49\u989c\u8272","No color":"\u65e0","Text color":"\u6587\u5b57\u989c\u8272","Show blocks":"\u663e\u793a\u533a\u5757\u8fb9\u6846","Show invisible characters":"\u663e\u793a\u4e0d\u53ef\u89c1\u5b57\u7b26","Words: {0}":"\u5b57\u6570\uff1a{0}",Insert:"\u63d2\u5165",File:"\u6587\u4ef6",Edit:"\u7f16\u8f91","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"\u5728\u7f16\u8f91\u533a\u6309ALT-F9\u6253\u5f00\u83dc\u5355\uff0c\u6309ALT-F10\u6253\u5f00\u5de5\u5177\u680f\uff0c\u6309ALT-0\u67e5\u770b\u5e2e\u52a9",Tools:"\u5de5\u5177",View:"\u89c6\u56fe",Table:"\u8868\u683c",Format:"\u683c\u5f0f"}),tinymce.addI18n("en_CA",{Redo:"Redo",Undo:"Undo",Cut:"Cut",Copy:"Copy",Paste:"Paste","Select all":"Select all","New document":"New document",Ok:"Ok",Cancel:"Cancel","Visual aids":"Visual aids",Bold:"Bold",Italic:"Italic",Underline:"Underline",Strikethrough:"Strikethrough",Superscript:"Superscript",Subscript:"Subscript","Clear formatting":"Clear formatting","Align left":"Align left","Align center":"Align center","Align right":"Align right",Justify:"Justify","Bullet list":"Bullet list","Numbered list":"Numbered list","Decrease indent":"Decrease indent","Increase indent":"Increase indent",Close:"Close",Formats:"Formats","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.",Headers:"Headers","Header 1":"Header 1","Header 2":"Header 2","Header 3":"Header 3","Header 4":"Header 4","Header 5":"Header 5","Header 6":"Header 6",Headings:"Headings","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Preformatted:"Preformatted",Div:"Div",Pre:"Pre",Code:"Code",Paragraph:"Paragraph",Blockquote:"Blockquote",Inline:"Inline",Blocks:"Blocks","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.","Font Family":"Font Family","Font Sizes":"Font Sizes",Class:"Class","Browse for an image":"Browse for an image",OR:"OR","Drop an image here":"Drop an image here",Upload:"Upload",Block:"Blocks",Align:"Align",Default:"Default",Circle:"Circle",Disc:"Disc",Square:"Square","Lower Alpha":"Lower Alpha","Lower Greek":"Lower Greek","Lower Roman":"Lower Roman","Upper Alpha":"Upper Alpha","Upper Roman":"Upper Roman",Anchor:"Anchor",Name:"Name",Id:"ID","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"ID should start with a letter, followed only by letters, numbers, dashes, dots, colons, or underscores.","You have unsaved changes are you sure you want to navigate away?":"You have unsaved changes are you sure you want to navigate away?","Restore last draft":"Restore last draft","Special character":"Special character","Source code":"Source code","Insert/Edit code sample":"Insert/Edit code sample",Language:"Language","Code sample":"Code sample",Color:"Colour",R:"R",G:"G",B:"B","Left to right":"Left to right","Right to left":"Right to left",Emoticons:"Emoticons","Document properties":"Document properties",Title:"Title",Keywords:"Keywords",Description:"Description",Robots:"Robots",Author:"Author",Encoding:"Encoding",Fullscreen:"Fullscreen",Action:"Action",Shortcut:"Shortcut",Help:"Help",Address:"Address","Focus to menubar":"Focus to menubar","Focus to toolbar":"Focus to toolbar","Focus to element path":"Focus to element path","Focus to contextual toolbar":"Focus to contextual toolbar","Insert link (if link plugin activated)":"Insert link (if link plugin activated)","Save (if save plugin activated)":"Save (if save plugin activated)","Find (if searchreplace plugin activated)":"Find (if searchreplace plugin activated)","Plugins installed ({0}):":"Plugins installed ({0}):","Premium plugins:":"Premium plugins:","Learn more...":"Learn more...","You are using {0}":"You are using {0}",Plugins:"Plugins","Handy Shortcuts":"Handy Shortcuts","Horizontal line":"Horizontal line","Insert/edit image":"Insert/edit image","Image description":"Image description",Source:"Source",Dimensions:"Dimensions","Constrain proportions":"Constrain proportions",General:"General",Advanced:"Advanced",Style:"Style","Vertical space":"Vertical space","Horizontal space":"Horizontal space",Border:"Border","Insert image":"Insert image",Image:"Image","Image list":"Image list","Rotate counterclockwise":"Rotate counterclockwise","Rotate clockwise":"Rotate clockwise","Flip vertically":"Flip vertically","Flip horizontally":"Flip horizontally","Edit image":"Edit image","Image options":"Image options","Zoom in":"Zoom in","Zoom out":"Zoom out",Crop:"Crop",Resize:"Resize",Orientation:"Orientation",Brightness:"Brightness",Sharpen:"Sharpen",Contrast:"Contrast","Color levels":"Colour levels",Gamma:"Gamma",Invert:"Invert",Apply:"Apply",Back:"Back","Insert date/time":"Insert date/time","Date/time":"Date/time","Insert link":"Insert link","Insert/edit link":"Insert/edit link","Text to display":"Text to display",Url:"Url",Target:"Target",None:"None","New window":"New window","Remove link":"Remove link",Anchors:"Anchors",Link:"Link","Paste or type a link":"Paste or type a link","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?","Link list":"Link list","Insert video":"Insert video","Insert/edit video":"Insert/edit video","Insert/edit media":"Insert/edit media","Alternative source":"Alternative source",Poster:"Poster","Paste your embed code below:":"Paste your embed code below:",Embed:"Embed",Media:"Media","Nonbreaking space":"Nonbreaking space","Page break":"Page break","Paste as text":"Paste as text",Preview:"Preview",Print:"Print",Save:"Save",Find:"Find","Replace with":"Replace with",Replace:"Replace","Replace all":"Replace all",Prev:"Prev",Next:"Next","Find and replace":"Find and replace","Could not find the specified string.":"Could not find the specified string.","Match case":"Match case","Whole words":"Whole words",Spellcheck:"Spellcheck",Ignore:"Ignore","Ignore all":"Ignore all",Finish:"Finish","Add to Dictionary":"Add to Dictionary","Insert table":"Insert table","Table properties":"Table properties","Delete table":"Delete table",Cell:"Cell",Row:"Row",Column:"Column","Cell properties":"Cell properties","Merge cells":"Merge cells","Split cell":"Split cell","Insert row before":"Insert row before","Insert row after":"Insert row after","Delete row":"Delete row","Row properties":"Row properties","Cut row":"Cut row","Copy row":"Copy row","Paste row before":"Paste row before","Paste row after":"Paste row after","Insert column before":"Insert column before","Insert column after":"Insert column after","Delete column":"Delete column",Cols:"Cols",Rows:"Rows",Width:"Width",Height:"Height","Cell spacing":"Cell spacing","Cell padding":"Cell padding",Caption:"Caption",Left:"Left",Center:"Center",Right:"Right","Cell type":"Cell type",Scope:"Scope",Alignment:"Alignment","H Align":"H Align","V Align":"V Align",Top:"Top",Middle:"Middle",Bottom:"Bottom","Header cell":"Header cell","Row group":"Row group","Column group":"Column group","Row type":"Row type",Header:"Header",Body:"Body",Footer:"Footer","Border color":"Border colour","Insert template":"Insert template",Templates:"Templates",Template:"Template","Text color":"Text colour","Background color":"Background colour","Custom...":"Custom...","Custom color":"Custom colour","No color":"No colour","Table of Contents":"Table of Contents","Show blocks":"Show blocks","Show invisible characters":"Show invisible characters","Words: {0}":"Words: {0}","{0} words":"{0} words",File:"File",Edit:"Edit",Insert:"Insert",View:"View",Format:"Format",Table:"Table",Tools:"Tools","Powered by {0}":"Powered by {0}","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"}),$(function(){client=$('input[name="client"]').val(),is_init=!1}),$(".native-share-cv").click(function(){var t=$(this).data("url"),e=$(this).data("name");console.log(t),"ios"==client?setupWebViewJavascriptBridge(function(n){n.callHandler("shareCvMiniprogram",{url:t,name:e},function(){})}):"android"==client&&connectWebViewJavascriptBridge(function(n){initAndroidBridge(n),n.callHandler("shareCvMiniprogram",{shareUrl:t,name:e},function(){})})}),addEventListener("trix-attachment-add",function(t){t.attachment.remove()}),-1!=navigator.userAgent.toLowerCase().indexOf("wondercv_ios")&&addEventListener("trix-focus",function(){$("html, body").animate({scrollTop:$("trix-editor").offset().top-100})}),navigator.userAgent.indexOf("android_wondercv_app")>-1&&$(".modal").on("shown.bs.modal",function(){$("html, body").animate({scrollTop:0},1e3)}),$(document).ready(function(){$('[data-toggle="popover"]').popover()}),navigator.userAgent.indexOf("android_wondercv_app")>-1&&$(".nav-return-btn").length>0&&!$(".nav-return-btn").hasClass("android-nav-return")&&$(".nav-return-btn").addClass("android-nav-return"),$(".android-nav-return").on("click",function(){connectWebViewJavascriptBridge(function(t){initAndroidBridge(t),t.callHandler("goBack",{},function(){})})}),function(t){var e=0,n=function(){return(new Date).getTime()+e++},i=function(t){return"["+t+"]$1"},o=function(t){return"_"+t+"_$1"},r=function(e,n,i){return e?"function"==typeof e?(n&&console.warn("association-insertion-traversal is ignored, because association-insertion-node is given as a function."),e(i)):"string"==typeof e?n?i[n](e):"this"==e?i:t(e):void 0:i.parent()};t(document).on("click",".add_fields",function(e){e.preventDefault();var a=t(this),s=a.data("association"),l=a.data("associations"),c=a.data("association-insertion-template"),u=a.data("association-insertion-method")||a.data("association-insertion-position")||"before",d=a.data("association-insertion-node"),h=a.data("association-insertion-traversal"),f=parseInt(a.data("count"),10),p=new RegExp("\\[new_"+s+"\\](.*?\\s)","g"),m=new RegExp("_new_"+s+"_(\\w*)","g"),g=n(),v=c.replace(p,i(g)),y=[];for(v==c&&(p=new RegExp("\\[new_"+l+"\\](.*?\\s)","g"),m=new RegExp("_new_"+l+"_(\\w*)","g"),v=c.replace(p,i(g))),y=[v=v.replace(m,o(g))],f=isNaN(f)?1:Math.max(f,1),f-=1;f;)g=n(),v=(v=c.replace(p,i(g))).replace(m,o(g)),y.push(v),f-=1;var b=r(d,h,a);b&&0!=b.length||console.warn("Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct."),t.each(y,function(e,n){var i=t(n),o=jQuery.Event("cocoon:before-insert");if(b.trigger(o,[i]),!o.isDefaultPrevented()){b[u](i);b.trigger("cocoon:after-insert",[i])}})}),t(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(e){var n=t(this),i=n.data("wrapper-class")||"nested-fields",o=n.closest("."+i),r=o.parent();e.preventDefault();var a=jQuery.Event("cocoon:before-remove");if(r.trigger(a,[o]),!a.isDefaultPrevented()){var s=r.data("remove-timeout")||0;setTimeout(function(){n.hasClass("dynamic")?o.remove():(n.prev("input[type=hidden]").val("1"),o.hide()),r.trigger("cocoon:after-remove",[o])},s)}}),t(document).on("ready page:load turbolinks:load",function(){t(".remove_fields.existing.destroyed").each(function(){var e=t(this),n=e.data("wrapper-class")||"nested-fields";e.closest("."+n).hide()})})}(jQuery),
/*!
 * Datepicker for Bootstrap v1.8.0 (https://github.com/uxsolutions/bootstrap-datepicker)
 *
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function o(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function r(n,i){return function(){return i!==e&&t.fn.datepicker.deprecated(i),this[n].apply(this,arguments)}}function a(t){return t&&!isNaN(t.getTime())}function s(e,n){function i(t,e){return e.toLowerCase()}var o=t(e).data(),r={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");for(var s in n=new RegExp("^"+n.toLowerCase()),o)n.test(s)&&(r[s.replace(a,i)]=o[s]);return r}function l(e){var n={};if(v[e]||(e=e.split("-")[0],v[e])){var i=v[e];return t.each(g,function(t,e){e in i&&(n[e]=i[e])}),n}}var c,u=(c={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new u;return t.replace(this),t}},function(){var e=[];return e.push.apply(e,arguments),t.extend(e,c),e}),d=function(e,n){t.data(e,"datepicker",this),this._process_options(n),this.dates=new u,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(y.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};d.prototype={constructor:d,_resolveViewName:function(e){return t.each(y.viewModes,function(n,i){if(e===n||-1!==t.inArray(e,i.names))return e=n,!1}),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(n){try{return n!==e&&""!==n&&((n.match(/[<>]/g)||[]).length<=0||t(n).length>0)}catch(i){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var o=this.o=t.extend({},this._o),r=o.language;v[r]||(r=r.split("-")[0],v[r]||(r=m.language)),o.language=r,o.startView=this._resolveViewName(o.startView),o.minViewMode=this._resolveViewName(o.minViewMode),o.maxViewMode=this._resolveViewName(o.maxViewMode),o.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,o.startView)),!0!==o.multidate&&(o.multidate=Number(o.multidate)||!1,!1!==o.multidate&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var a=y.parseFormat(o.format);o.startDate!==-Infinity&&(o.startDate?o.startDate instanceof Date?o.startDate=this._local_to_utc(this._zero_time(o.startDate)):o.startDate=y.parseDate(o.startDate,a,o.language,o.assumeNearbyYear):o.startDate=-Infinity),o.endDate!==Infinity&&(o.endDate?o.endDate instanceof Date?o.endDate=this._local_to_utc(this._zero_time(o.endDate)):o.endDate=y.parseDate(o.endDate,a,o.language,o.assumeNearbyYear):o.endDate=Infinity),o.daysOfWeekDisabled=this._resolveDaysOfWeek(o.daysOfWeekDisabled||[]),o.daysOfWeekHighlighted=this._resolveDaysOfWeek(o.daysOfWeekHighlighted||[]),o.datesDisabled=o.datesDisabled||[],t.isArray(o.datesDisabled)||(o.datesDisabled=o.datesDisabled.split(",")),o.datesDisabled=t.map(o.datesDisabled,function(t){return y.parseDate(t,a,o.language,o.assumeNearbyYear)});var s=String(o.orientation).toLowerCase().split(/\s+/g),l=o.orientation.toLowerCase();if(s=t.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),o.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===s.length)switch(s[0]){case"top":case"bottom":o.orientation.y=s[0];break;case"left":case"right":o.orientation.x=s[0]}else l=t.grep(s,function(t){return/^left|right$/.test(t)}),o.orientation.x=l[0]||"auto",l=t.grep(s,function(t){return/^top|bottom$/.test(t)}),o.orientation.y=l[0]||"auto";else;if(o.defaultViewDate instanceof Date||"string"==typeof o.defaultViewDate)o.defaultViewDate=y.parseDate(o.defaultViewDate,a,o.language,o.assumeNearbyYear);else if(o.defaultViewDate){var c=o.defaultViewDate.year||(new Date).getFullYear(),u=o.defaultViewDate.month||0,d=o.defaultViewDate.day||1;o.defaultViewDate=n(c,u,d)}else o.defaultViewDate=i()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,o,r=0;r<t.length;r++)n=t[r][0],2===t[r].length?(i=e,o=t[r][1]):3===t[r].length&&(i=t[r][1],o=t[r][2]),n.on(o,i)},_unapplyEvents:function(t){for(var n,i,o,r=0;r<t.length;r++)n=t[r][0],2===t[r].length?(o=e,i=t[r][1]):3===t[r].length&&(o=t[r][1],i=t[r][2]),n.off(i,o)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),o=this._utc_to_local(i);this.element.trigger({type:e,date:o,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return y.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var n;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))n=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:r("setDates"),setUTCDate:r("setUTCDates"),remove:r("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return y.formatDate(t,n,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,o=t(this.o.container),r=o.width(),a="body"===this.o.container?t(document).scrollTop():o.scrollTop(),s=o.offset(),l=[0];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==Number(e)&&l.push(Number(e))});var c=Math.max.apply(Math,l)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),f=u.left-s.left,p=u.top-s.top;"body"!==this.o.container&&(p+=a),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(f-=e-h)):u.left<0?(this.picker.addClass("datepicker-orient-left"),f-=u.left-i):f+e>r?(this.picker.addClass("datepicker-orient-right"),f+=h-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var m=this.o.orientation.y;if("auto"===m&&(m=-a+p-n<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?p-=n+parseInt(this.picker.css("padding-top")):p+=d,this.o.rtl){var g=r-(f+h);this.picker.css({top:p,right:g,zIndex:c})}else this.picker.css({top:p,left:f,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],i=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return y.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=t.grep(n,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),i?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&i&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(n+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)n+='<th class="dow',-1!==t.inArray(e,this.o.daysOfWeekDisabled)&&(n+=" disabled"),n+='">'+v[this.o.language].daysMin[e++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;n<12;n++)e+='<span class="month'+(t&&t.getMonth()===n?" focused":"")+'">'+v[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],r=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s=i();return e.getUTCFullYear()<r||e.getUTCFullYear()===r&&e.getUTCMonth()<a?n.push("old"):(e.getUTCFullYear()>r||e.getUTCFullYear()===r&&e.getUTCMonth()>a)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&o(e,s)&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),this.dateWithinRange(e)||n.push("disabled"),this.dateIsDisabled(e)&&n.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected"),e.valueOf()===this.range[0]&&n.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,i,o,r,a,s,l){for(var c,u,d,h="",f=o/10,p=this.picker.find(n),m=Math.floor(r/o)*o,g=m+9*f,v=Math.floor(this.viewDate.getFullYear()/f)*f,y=t.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/f)*f}),b=m-f;b<=g+f;b+=f)c=[i],u=null,b===m-f?c.push("old"):b===g+f&&c.push("new"),-1!==t.inArray(b,y)&&c.push("active"),(b<a||b>s)&&c.push("disabled"),b===v&&c.push("focused"),l!==t.noop&&((d=l(new Date(b,0,1)))===e?d={}:"boolean"==typeof d?d={enabled:d}:"string"==typeof d&&(d={classes:d}),!1===d.enabled&&c.push("disabled"),d.classes&&(c=c.concat(d.classes.split(/\s+/))),d.tooltip&&(u=d.tooltip)),h+='<span class="'+c.join(" ")+'"'+(u?' title="'+u+'"':"")+">"+b+"</span>";p.find(".datepicker-switch").text(m+"-"+g),p.find("td").html(h)},fill:function(){var i,o,r=new Date(this.viewDate),a=r.getUTCFullYear(),s=r.getUTCMonth(),l=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,c=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,u=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,d=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,h=v[this.o.language].today||v.en.today||"",f=v[this.o.language].clear||v.en.clear||"",p=v[this.o.language].titleFormat||v.en.titleFormat;if(!isNaN(a)&&!isNaN(s)){this.picker.find(".datepicker-days .datepicker-switch").text(y.formatDate(r,p,this.o.language)),this.picker.find("tfoot .today").text(h).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(f).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var m=n(a,s,0),g=m.getUTCDate();m.setUTCDate(g-(m.getUTCDay()-this.o.weekStart+7)%7);var b=new Date(m);m.getUTCFullYear()<100&&b.setUTCFullYear(m.getUTCFullYear()),b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();for(var w,C,x=[];m.valueOf()<b;){if((w=m.getUTCDay())===this.o.weekStart&&(x.push("<tr>"),this.o.calendarWeeks)){var _=new Date(+m+(this.o.weekStart-w-7)%7*864e5),k=new Date(Number(_)+(11-_.getUTCDay())%7*864e5),T=new Date(Number(T=n(k.getUTCFullYear(),0,1))+(11-T.getUTCDay())%7*864e5),S=(k-T)/864e5/7+1;x.push('<td class="cw">'+S+"</td>")}(C=this.getClassNames(m)).push("day");var E=m.getUTCDate();this.o.beforeShowDay!==t.noop&&((o=this.o.beforeShowDay(this._utc_to_local(m)))===e?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1===o.enabled&&C.push("disabled"),o.classes&&(C=C.concat(o.classes.split(/\s+/))),o.tooltip&&(i=o.tooltip),o.content&&(E=o.content)),C=t.isFunction(t.uniqueSort)?t.uniqueSort(C):t.unique(C),x.push('<td class="'+C.join(" ")+'"'+(i?' title="'+i+'"':"")+' data-date="'+m.getTime().toString()+'">'+E+"</td>"),i=null,w===this.o.weekEnd&&x.push("</tr>"),m.setUTCDate(m.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(x.join(""));var A=v[this.o.language].monthsTitle||v.en.monthsTitle||"Months",$=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?A:a).end().find("tbody span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===a&&$.eq(e.getUTCMonth()).addClass("active")}),(a<l||a>u)&&$.addClass("disabled"),a===l&&$.slice(0,c).addClass("disabled"),a===u&&$.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var D=this;t.each($,function(n,i){var o=new Date(a,n,1),r=D.o.beforeShowMonth(o);r===e?r={}:"boolean"==typeof r?r={enabled:r}:"string"==typeof r&&(r={classes:r}),!1!==r.enabled||t(i).hasClass("disabled")||t(i).addClass("disabled"),r.classes&&t(i).addClass(r.classes),r.tooltip&&t(i).prop("title",r.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,a,l,u,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,a,l,u,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,a,l,u,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),i=n.getUTCFullYear(),o=n.getUTCMonth(),r=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,a=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,s=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,c=1;switch(this.viewMode){case 4:c*=10;case 3:c*=10;case 2:c*=10;case 1:t=Math.floor(i/c)*c<r,e=Math.floor(i/c)*c+c>s;break;case 0:t=i<=r&&o<a,e=i>=s&&o>l}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(e){var o,r,a,s;e.preventDefault(),e.stopPropagation(),(o=t(e.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),o.hasClass("today")&&!o.hasClass("day")&&(this.setViewMode(0),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),o.hasClass("clear")&&this.clearDates(),o.hasClass("disabled")||(o.hasClass("month")||o.hasClass("year")||o.hasClass("decade")||o.hasClass("century"))&&(this.viewDate.setUTCDate(1),r=1,1===this.viewMode?(s=o.parent().find("span").index(o),a=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s)):(s=0,a=Number(o.text()),this.viewDate.setUTCFullYear(a)),this._trigger(y.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(a,s,r)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var n=t(e.currentTarget).data("date"),i=new Date(n);this.o.updateViewDate&&(i.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),i.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(i)},navArrowsClick:function(e){var n=t(e.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(n*=12*y.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,n),this._trigger(y.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!a(t))return this.o.defaultViewDate;if(!e)return t;var n,i,o=new Date(t.valueOf()),r=o.getUTCDate(),s=o.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)i=-1===e?function(){return o.getUTCMonth()===s}:function(){return o.getUTCMonth()!==n},n=s+e,o.setUTCMonth(n),n=(n+12)%12;else{for(var c=0;c<l;c++)o=this.moveMonth(o,e);n=o.getUTCMonth(),o.setUTCDate(r),i=function(){return n!==o.getUTCMonth()}}for(;i();)o.setUTCDate(--r),o.setUTCMonth(n);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return o(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,i=!1,o=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(o,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(o,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(o,e,"moveDay"):this.weekOfDateIsDisabled(o)||(n=this.moveAvailableDate(o,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(o,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(o,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;o=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(o),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+y.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var h=function(e,n){t.data(e,"datepicker",this),this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,this.keepEmptyValues=n.keepEmptyValues,delete n.keepEmptyValues,p.call(t(this.inputs),n).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t.data(e,"datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},clearDates:function(){t.each(this.pickers,function(t,e){e.clearDates()})},dateUpdated:function(n){if(!this.updating){this.updating=!0;var i=t.data(n.target,"datepicker");if(i!==e){var o=i.getUTCDate(),r=this.keepEmptyValues,a=t.inArray(n.target,this.inputs),s=a-1,l=a+1,c=this.inputs.length;if(-1!==a){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e!==i&&r||e.setUTCDate(o)}),o<this.dates[s])for(;s>=0&&o<this.dates[s];)this.pickers[s--].setUTCDate(o);else if(o>this.dates[l])for(;l<c&&o>this.dates[l];)this.pickers[l++].setUTCDate(o);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,function(t){t.destroy()}),t(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:r("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var f=t.fn.datepicker,p=function(n){var i,o=Array.apply(null,arguments);if(o.shift(),this.each(function(){var e=t(this),r=e.data("datepicker"),a="object"==typeof n&&n;if(!r){var c=s(this,"date"),u=l(t.extend({},m,c,a).language),f=t.extend({},m,u,c,a);e.hasClass("input-daterange")||f.inputs?(t.extend(f,{inputs:f.inputs||e.find("input").toArray()}),r=new h(this,f)):r=new d(this,f),e.data("datepicker",r)}"string"==typeof n&&"function"==typeof r[n]&&(i=r[n].apply(r,o))}),i===e||i instanceof d||i instanceof h)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return i};t.fn.datepicker=p;var m=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},g=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=d;var v=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},y={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,o,r,a){function s(t,e){return!0===e&&(e=10),t<100&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}function l(){var t=this.slice(0,c[f].length),e=c[f].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!n)return e;if(n instanceof Date)return n;if("string"==typeof o&&(o=y.parseFormat(o)),o.toValue)return o.toValue(n,o,r);var c,u,h,f,p,m={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},g={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(n in g&&(n=g[n]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)){for(c=n.match(/([\-+]\d+)([dmwy])/gi),n=new Date,f=0;f<c.length;f++)u=c[f].match(/([\-+]\d+)([dmwy])/i),h=Number(u[1]),p=m[u[2].toLowerCase()],n=d.prototype[p](n,h);return d.prototype._zero_utc_time(n)}c=n&&n.match(this.nonpunctuation)||[];var b,w,C={},x=["yyyy","yy","M","MM","m","mm","d","dd"],_={yyyy:function(t,e){return t.setUTCFullYear(a?s(e,a):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};_.yy=_.yyyy,_.M=_.MM=_.mm=_.m,_.dd=_.d,n=i();var k=o.parts.slice();if(c.length!==k.length&&(k=t(k).filter(function(e,n){return-1!==t.inArray(n,x)}).toArray()),c.length===k.length){var T,S,E;for(f=0,T=k.length;f<T;f++){if(b=parseInt(c[f],10),u=k[f],isNaN(b))switch(u){case"MM":w=t(v[r].months).filter(l),b=t.inArray(w[0],v[r].months)+1;break;case"M":w=t(v[r].monthsShort).filter(l),b=t.inArray(w[0],v[r].monthsShort)+1}C[u]=b}for(f=0;f<x.length;f++)(E=x[f])in C&&!isNaN(C[E])&&(S=new Date(n),_[E](S,C[E]),isNaN(S)||(n=S))}return n},formatDate:function(e,n,i){if(!e)return"";if("string"==typeof n&&(n=y.parseFormat(n)),n.toDisplay)return n.toDisplay(e,n,i);var o={d:e.getUTCDate(),D:v[i].daysShort[e.getUTCDay()],DD:v[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:v[i].monthsShort[e.getUTCMonth()],MM:v[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,e=[];for(var r=t.extend([],n.separators),a=0,s=n.parts.length;a<=s;a++)r.length&&e.push(r.shift()),e.push(o[n.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+m.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+m.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'}
;y.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+y.headTemplate+"<tbody></tbody>"+y.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+y.headTemplate+y.contTemplate+y.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+y.headTemplate+y.contTemplate+y.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+y.headTemplate+y.contTemplate+y.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+y.headTemplate+y.contTemplate+y.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=y,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=f,this},t.fn.datepicker.version="1.8.0",t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),p.call(n,"show"))}),t(function(){p.call(t('[data-provide="datepicker-inline"]'))})}),jQuery.fn.datepicker.dates["zh-CN"]={days:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],daysShort:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],daysMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],today:"\u4eca\u65e5",clear:"\u6e05\u9664",format:"yyyy\u5e74mm\u6708dd\u65e5",titleFormat:"yyyy\u5e74mm\u6708",weekStart:1},$(document).on("click",".mobile-pre-btn",function(){$('input[value^="\u4e0a\u4e00\u6b65"]').click()}),$(document).on("click",".tips-item-title",function(){var t=$(this).parent();t.hasClass("active")?t.removeClass("active"):t.addClass("active")}),$(function(){(function(){var t=$(".edit-container-btn"),e=$(".common-verb-btn"),n=$(".view-case-btn"),i=$(".tips-btn"),o=$(".left-panel-modal"),r=$(".edit-panel"),a=$(".verb-panel"),s=$(".example-panel"),l=$(".right-panel");t.on("click",function(t){$(t.target).parents(".title-nav").children(".nav-item").removeClass("active"),$(t.target).parent(".nav-item").addClass("active"),r.removeClass("hide"),o.hide(),l.addClass("hidden-xs"),a.addClass("hidden-xs"),s.addClass("hidden-xs")}),e.on("click",function(t){$(t.target).parents(".title-nav").children(".nav-item").removeClass("active"),$(t.target).parent(".nav-item").addClass("active"),r.addClass("hide"),o.show(),l.addClass("hidden-xs"),a.removeClass("hidden-xs"),s.addClass("hidden-xs")}),n.on("click",function(t){$(t.target).parents(".title-nav").children(".nav-item").removeClass("active"),$(t.target).parent(".nav-item").addClass("active"),r.addClass("hide"),o.show(),l.addClass("hidden-xs"),a.addClass("hidden-xs"),s.removeClass("hidden-xs")}),i.on("click",function(t){$(t.target).parents(".title-nav").children(".nav-item").removeClass("active"),$(t.target).parent(".nav-item").addClass("active"),r.addClass("hide"),o.hide(),l.removeClass("hidden-xs"),a.addClass("hidden-xs"),s.addClass("hidden-xs")})})()}),function(){$(function(){var t,e,n,i,o,r,a;return new(function(){function t(){this.initial_value(),this.handle_clicks()}var e;return t.prototype.initial_value=function(){var t;return t=$("#order-information"),this.price=t.data("price"),this.final_price=t.data("final-price"),this.coupon_title=$(".coupon .title-info"),this.adviced_coupon_value=t.data("adviced-coupon-value"),this.current_coupon_value=this.adviced_coupon_value,this.current_coupon_id=t.data("adviced-coupon-id"),this.adviced_credit=t.data("adviced-credit"),this.available_credit=t.data("available-credit"),this.current_credit=this.adviced_credit,this.credit_button=$(".credit-button"),this.credit_will_be_used=$("#credit-will-be-used"),this.period_card=$(".period-card"),this.member_plan=t.data("member-plan"),this.update_url=t.data("update-url"),this.expired_text=$(".member-expired-at .time")},t.prototype.handle_clicks=function(){return this.handle_credit_button(),this.handle_coupon_click(),this.handle_period_card_click()},e="\uffe5",t.prototype.has_credit=function(){return this.available_credit>0},t.prototype.has_coupon=function(){return this.adviced_coupon_value>0},t.prototype.is_member_plan=function(){return!0===this.member_plan},t.prototype.handle_period_card_click=function(){if(this.is_member_plan())return this.period_card.bind("click",(t=this,function(e){var n;return e.preventDefault(),e.stopPropagation(),n=$(e.currentTarget),t.period_card.removeClass("active"),t.update_member_expired_text(n),t.update_member_period(n)}));var t},t.prototype.update_member_expired_text=function(t){var e;return e=t.data("expired"),console.log(e),this.expired_text.text(e)},t.prototype.update_member_period=function(t){return $.ajax({url:this.update_url,method:"PATCH",data:{member_period:t.data("member-period"),price:t.data("member-price")},success:(e=this,function(n){return void 0!==n.error?($.notify(n.error,"error"),window.location.reload()):(t.addClass("active"),e.update_final_price(n.final_price),e.price=n.price,e.coupon_post_update())})});var e},t.prototype.handle_credit_button=function(){if(this.has_credit())return this.credit_button.click((t=this,function(e){return e.preventDefault(),t.update_credit()}));var t},t.prototype.update_credit=function(){if(this.has_credit())return this.current_credit>0?(this.update_final_price(this.final_price+this.current_credit),this.current_credit=0):0===this.current_credit&&(this.credit_button.addClass("active").removeClass("negative"),this.use_credit()),this.update_credit_text(),this.update_form_credit()},t.prototype.update_form_credit=function(){return $("#final-credit-used").val(this.current_credit)},t.prototype.update_form_coupon=function(){return $("#final-coupon-used").val(this.current_coupon_id)},t.prototype.use_credit=function(){var t;return t=this.price-this.current_coupon_value,console.log("remain:"+t+"price:"+this.price+"value:"+this.current_coupon_value),t>0?this.available_credit>t?(this.current_credit=t,this.update_final_price(0)):(this.current_credit=this.available_credit,this.update_final_price(t-this.available_credit)):(this.current_credit=0,this.update_final_price(0))},t.prototype.update_credit_text=function(){return 0===this.current_credit?(this.credit_button.removeClass("active").addClass("negative"),this.credit_button.text(I18n.t("order.plan.no_use_credit")),this.credit_will_be_used.text("\u4e0d\u4f7f\u7528"),this.credit_will_be_used.removeClass("active")):this.current_credit>0?(this.credit_button.addClass("active").removeClass("negative"),this.credit_button.text(I18n.t("order.plan.use_coupon")),this.credit_will_be_used.addClass("active"),this.credit_will_be_used.text("- "+e+this.current_credit/100)):void 0},t.prototype.handle_coupon_click=function(){if(this.has_coupon())return $(".coupon-list").click((t=this,function(e){var n;return(n=$(e.currentTarget)).hasClass("active")?t.not_use_coupon(n):t.use_coupon(n),t.coupon_post_update()}));var t},t.prototype.coupon_post_update=function(){return this.update_form_coupon(),this.use_credit(),this.update_credit_text(),this.update_form_credit()},t.prototype.not_use_coupon=function(t){return t.removeClass("active"),this.coupon_title.removeClass("active"),this.coupon_title.text("\u4e0d\u4f7f\u7528"),this.current_coupon_value=0,this.current_coupon_id=""},t.prototype.use_coupon=function(t){return this.clear_current_selected_coupon(),t.addClass("active"),this.current_coupon_value=t.data("coupon-value"),this.current_coupon_id=t.data("coupon-id"),this.coupon_title.addClass("active"),this.coupon_title.text("-"+t.find(".coupon-info").text())},t.prototype.clear_current_selected_coupon=function(){return $(".coupon-list").each(function(t,e){return $(e).removeClass("active")})},t.prototype.update_final_price=function(t){return this.final_price=t,$("#final-price-text").text(""+e+t/100)},t}()),$(document).on("click","#coupon-btn",function(){$(".coupon").hasClass("close-coupon")?$(".coupon").removeClass("close-coupon"):$(".coupon").addClass("close-coupon")}),$(document).on("ajax:success",".order-query-btn",function(t,e){return"unsubscribe"===e.status?($.notify("\u8fd8\u672a\u5173\u6ce8\u516c\u4f17\u53f7, \u65e0\u6cd5\u83b7\u5f97\u6d88\u606f","warn"),$("#bind-wx-pub-modal").modal("show")):"success"===e.status?$.notify(e.msg,"success"):$.notify(e.msg,"error")}),r=function(t){return $(".order-form"),$(".cell-title-price").html(t)},t=function(){var t,e,n,i;return t=$(".order-form"),i=$("#common-cv-id option:selected"),n=parseInt(t.data("init-price"))*(e=parseFloat(i.data("multiple")))*parseFloat($("select[name*=urgency] option:selected").data("multiple")),console.log(e),r(n)},i=function(t){var e;return e=$("#new-order-form"),$(".order-title").addClass("hidden"),$("#"+t).removeClass("hidden"),$(".no-resume-notice").length>0?$("html, body").animate({scrollTop:"200px"},1e3):$("html, body").animate({scrollTop:$(".order-create-panel").offset().top-80+"px"},1e3),$(".order-tips").removeClass("hidden"),e.removeClass("hidden")},o=function(){var t,e,n,i;return n=parseInt($("#suit-form #improved_order_cv_id").val()),e=parseInt($("#suit-form #improved_order_cv2_id").val()),t=parseInt($("#suit-form #improved_order_cover_letter_id").val()),void 0===(i=n>0&&e>0&&t>0?1599:n>0&&e&&isNaN(t)?999:t>0?n>0?999:e>0?1299:void 0:void 0)?$(".order-price").addClass("hide"):$(".order-price").removeClass("hide"),console.log(i),r(i)},a=function(){return JSON.parse($("#user_present").val())},$(".js-order-select").click(function(e){var n;return a()?(n=$(e.currentTarget),$("#new-order-form .order-form").data("init-price",n.data("init-price")),$("#common-form .improved_order_package").val(n.data("package")),i(n.data("type")),t(),$("#suit-form").addClass("hidden"),$("#common-form").removeClass("hidden")):window.location.href=$(e.currentTarget).data("sign-url")}),$(".js-suit-select").click(function(t){var e;return a()?(e=$(t.currentTarget),$("#new-order-form .order-form").data("init-price",e.data("init-price")),o(),$("#common-form .improved_order_package").val(e.data("package")),i(e.data("type")),$("#common-form").addClass("hidden"),$("#suit-form").removeClass("hidden")):window.location.href=$(t.currentTarget).data("sign-url")}),$(document).ready(function(){if($("#improved_orders-order_confirm").length>0&&$("#premium").is(":visible"))return o()}),$("#improved_order_cv_id, #improved_order_cv2_id, #improved_order_cover_letter_id").on("change",function(){return o()}),$("#common-cv-id, select[name*=urgency]").on("change",function(){return t()}),e=function(){var t,e,n,i;return n=$("#improved_order_cv_id").val(),e=$("#improved_order_cv2_id").val(),i=$("#improved_order_cover_letter_id").val(),t=0,!isNaN(n)&&n.length>0&&(t+=1),!isNaN(e)&&e.length>0&&(t+=1),!isNaN(i)&&i.length>0&&(t+=1),console.log(t),t<2},n=function(t){return!!user_subscribe_status()&&(t.find(".order-question").val().length<=0?(alert("\u8bf7\u586b\u5199\u7b80\u5386\u7528\u9014\u53ca\u95ee\u9898"),!1):!!confirm("\u8bf7\u786e\u5b9a\u6240\u9009\u62e9\u7b80\u5386\u5df2\u586b\u5199\u5b8c\u6574\uff0c\u5bfc\u5e08\u4ec5\u9488\u5bf9\u5df2\u9009\u7b80\u5386\u3001\u62db\u8058\u94fe\u63a5\u548c\u95ee\u9898\uff0c\u505a\u51fa\u4fee\u6539\u548c\u53cd\u9988\u610f\u89c1"))},$('#common-form input[type="submit"]').on("click",function(t){var e;return e=$(t.currentTarget).closest("form"),n(e)}),$('#suit-form input[type="submit"]').on("click",function(t){var i;return i=$(t.currentTarget).closest("form"),e()?(alert("\u5957\u9910\u5fc5\u987b\u9009\u62e92\u4e2a\u4ee5\u4e0a\u6587\u4ef6\uff0c\u8bf7\u7ee7\u7eed\u9009\u62e9"),!1):n(i)})})}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}),
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],t):t(jQuery)}(function(t){var e=!1;return t(document).on("mouseup",function(){e=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,o=1===n.which,r=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(o&&!r&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}})}),
/*!
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:t(this[0].ownerDocument||document)}}),
/*!
 * jQuery UI Sortable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,r.widgetName+"-item")===r)return i=t(this),!1}),t.data(e.target,r.widgetName+"-item")===r&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(o=!0)}),!o))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var o,r,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(r)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,o,r,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(o=(i=this.items[n]).item[0],(r=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||t.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,a={};r&&"x"!==r||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,a=r+t.width,s=t.top,l=s+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>s&&i+c<l,h="y"===this.options.axis||e+u>r&&e+u<a,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:r<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!o)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){s.push(this)}var i,o,r,a,s=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(o=(r=t(c[i],this.document[0])).length-1;o>=0;o--)(a=t.data(r[o],this.widgetFullName))&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,o,r,a,s,l,c,u=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=(o=t(h[n],this.document[0])).length-1;i>=0;i--)(r=t.data(o[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&(d.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(n=d.length-1;n>=0;n--)for(a=d[n][1],i=0,c=(s=d[n][0]).length;i<c;i++)(l=t(s[i])).data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,o,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+i+">",e.document[0]);return e._addClass(o,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===i?e._createTrPlaceholder(e.currentItem,o):"img"===i&&o.attr("src",e.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(t,o){n&&!i.forcePlaceholderSize||(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,o,r,a,s,l,c,u,d,h=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,r=null,a=(u=h.floating||this._isFloating(this.currentItem))?"left":"top",s=u?"width":"height",d=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],c=!1,e[d]-l>this.items[i][s]/2&&(c=!0),Math.abs(e[d]-l)<o&&(o=Math.abs(e[d]-l),r=this.items[i],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],n=t(o.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(e){var n,i,o=this.options,r=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<o.length;i++)o[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}),
/*!
 * jQuery UI Controlgroup 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","../widget"],t):t(jQuery)}(function(t){var e=/ui-corner-([a-z]){2,6}/g;return t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,o){var r,a={};if(o)return"controlgroupLabel"===i?((r=e.element.find(o)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(r,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(r.get()))):void(t.fn[i]&&(a=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(o).each(function(){var o=t(this),r=o[i]("instance"),s=t.widget.extend({},a);if("button"!==i||!o.parent(".ui-spinner").length){r||(r=o[i]()[i]("instance")),r&&(s.classes=e._resolveClassesValues(s.classes,r)),o[i](s);var l=o[i]("widget");t.data(l[0],"ui-controlgroup-data",r||o[i]("instance")),n.push(l[0])}})))}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this).data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(t,e){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,n),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(n,i){var o={};return t.each(n,function(r){var a=i.options.classes[r]||"";a=t.trim(a.replace(e,"")),o[r]=(a+" "+n[r]).replace(/\s+/g," ")}),o},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var o=e[i]().data("ui-controlgroup-data");if(o&&n["_"+o.widgetName+"Options"]){var r=n["_"+o.widgetName+"Options"](1===e.length?"only":i);r.classes=n._resolveClassesValues(r.classes,o),o.element[o.widgetName](r)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.escapeSelector=(e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(e,"\\$1")});var e}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)}}),
/*!
 * jQuery UI Form Reset Mixin 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./form","./version"],t):t(jQuery)}(function(t){return t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}}),
/*!
 * jQuery UI Labels 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version","./escape-selector"],t):t(jQuery)}(function(t){return t.fn.labels=function(){var e,n,i,o,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(o=this.eq(0).parents("label"),(i=this.attr("id"))&&(r=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",o=o.add(r.find(n).addBack(n))),this.pushStack(o))}}),
/*!
 * jQuery UI Checkboxradio 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../form-reset-mixin","../labels","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,o=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(o.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(o.disabled=e),o},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==undefined&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio}),
/*!
 * jQuery UI Button 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],t):t(jQuery)}(function(t){var e;return t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,o=i?this.options.iconPosition:n,r="top"===o||"bottom"===o;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(o),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(o))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=t.showLabel===undefined?this.options.showLabel:t.showLabel,n=t.icon===undefined?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=(e=t.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.plugin={add:function(e,n,i){var o,r=t.ui[e].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(t,e,n,i){var o,r=t.plugins[e];if(r&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,n)}}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}}),
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),o=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options,r=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(n=t(o.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=o.containment:this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,o,r,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-a.grid[1]:o+a.grid[1]:o,r=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?r-this.offset.click.left>=n[0]||r-this.offset.click.left>n[2]?r:r-this.offset.click.left>=n[0]?r-a.grid[0]:r+a.grid[0]:r),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var o=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,o))})},stop:function(e,n,i){var o=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,n,i){t.each(i.sortables,function(){var o=!1,r=this;r.positionAbs=i.positionAbs,r.helperProportions=i.helperProportions,r.offset.click=i.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(o=!1),o})),o?(r.isOver||(r.isOver=1,i._parent=n.helper.parent(),r.currentItem=n.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return n.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=i.offset.click.top,r.offset.click.left=i.offset.click.left,r.offset.parent.left-=i.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=i.offset.parent.top-r.offset.parent.top,i._trigger("toSortable",e),i.dropped=r.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,r.fromOutside=i),r.currentItem&&(r._mouseDrag(e),n.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var o=t("body"),r=i.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(e,n,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var o=t(n.helper),r=i.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(e,n,i){var o=i.options;o._opacity&&t(n.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var o=i.options,r=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+a.offsetHeight-e.pageY<o.scrollSensitivity?a.scrollTop=r=a.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(a.scrollTop=r=a.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+a.offsetWidth-e.pageX<o.scrollSensitivity?a.scrollLeft=r=a.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(a.scrollLeft=r=a.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(s).scrollTop()<o.scrollSensitivity?r=t(s).scrollTop(t(s).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<o.scrollSensitivity&&(r=t(s).scrollTop(t(s).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(s).scrollLeft()<o.scrollSensitivity?r=t(s).scrollLeft(t(s).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<o.scrollSensitivity&&(r=t(s).scrollLeft(t(s).scrollLeft()+o.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var o,r,a,s,l,c,u,d,h,f,p=i.options,m=p.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)c=(l=i.snapElements[h].left-i.margins.left)+i.snapElements[h].width,d=(u=i.snapElements[h].top-i.margins.top)+i.snapElements[h].height,v<l-m||g>c+m||b<u-m||y>d+m||!t.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(o=Math.abs(u-b)<=m,r=Math.abs(d-y)<=m,a=Math.abs(l-v)<=m,s=Math.abs(c-g)<=m,o&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),f=o||r||a||s,"outer"!==p.snapMode&&(o=Math.abs(u-y)<=m,r=Math.abs(d-b)<=m,a=Math.abs(l-g)<=m,s=Math.abs(c-v)<=m,o&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(o||r||a||s||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=o||r||a||s||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var o,r=i.options,a=t.makeArray(t(r.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});a.length&&(o=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var o=t(n.helper),r=i.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(e,n,i){var o=i.options;o._zIndex&&t(n.helper).css("zIndex",o._zIndex)}}),t.ui.draggable}),
/*!
 * jQuery UI Disable Selection 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var e}),
/*!
 * jQuery UI Resizable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return e[i]>0||(e[i]=1,o=e[i]>0,e[i]=0,o)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,o,r,a=this.options,s=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)o="ui-resizable-"+(e=t.trim(i[n])),r=t("<div>"),this._addClass(r,"ui-resizable-handle "+o),r.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(r);this._renderAxis=function(e){var n,i,o,r;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),r=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(o,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,o=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var n,i,o,r=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),r.containment&&(n+=t(r.containment).scrollLeft()||0,i+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,o=this.originalMousePosition,r=this.axis,a=e.pageX-o.left||0,s=e.pageY-o.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,o,r,a,s,l,c=this.options,u=this;return this._helper&&(o=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,r=i?0:u.sizeDiff.width,a={width:u.helper.width()-r,height:u.helper.height()-o},s=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(a,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,o,r,a=this.options;r={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:Infinity,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:Infinity},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,i=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),i>r.minHeight&&(r.minHeight=i),n<r.maxWidth&&(r.maxWidth=n),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return r&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&c&&(t.left=s-e.minWidth),i&&c&&(t.left=s-e.maxWidth),a&&u&&(t.top=l-e.minHeight),o&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(o[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,o=n._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),a=r&&n._hasScroll(o[0],"left")?0:n.sizeDiff.height,s=r?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};o&&o.length&&t(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,o,r,a,s,l=t(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=t(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,o=l.containerSize.height,r=l.containerSize.width,a=l._hasScroll(h,"left")?h.scrollWidth:r,s=l._hasScroll(h)?h.scrollHeight:o,l.parentData={element:h,left:i.left,top:i.top,width:a,height:s}))},resize:function(e){var n,i,o,r,a=t(this).resizable("instance"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||e.shiftKey,d={top:0,left:0},h=a.containerElement,f=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),u&&(a.size.height=a.size.width/a.aspectRatio,f=!1),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,f=!1),a.position.top=a._helper?l.top:0),o=a.containerElement.get(0)===a.element.parent().get(0),r=/relative|absolute/.test(a.containerElement.css("position")),o&&r?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,u&&(a.size.height=a.size.width/a.aspectRatio,f=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,u&&(a.size.width=a.size.height*a.aspectRatio,f=!1)),f||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,o=e.containerPosition,r=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,c=a.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(r.css("position"))&&t(this).css({left:s.left-o.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(r.css("position"))&&t(this).css({left:s.left-o.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),o=i.options,r=i.originalSize,a=i.originalPosition,s={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};t(o.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),o={},r=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&n>=0&&(o[e]=n||null)}),e.css(o)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,o=n.size,r=n.originalSize,a=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((o.width-r.width)/c)*c,h=Math.round((o.height-r.height)/u)*u,f=r.width+d,p=r.height+h,m=i.maxWidth&&i.maxWidth<f,g=i.maxHeight&&i.maxHeight<p,v=i.minWidth&&i.minWidth>f,y=i.minHeight&&i.minHeight>p;i.grid=l,v&&(f+=c),y&&(p+=u),m&&(f-=c),g&&(p-=u),/^(se|s|e)$/.test(s)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(s)?(n.size.width=f,n.size.height=p,n.position.top=a.top-h):/^(sw)$/.test(s)?(n.size.width=f,n.size.height=p,n.position.left=a.left-d):((p-u<=0||f-c<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),p-u>0?(n.size.height=p,n.position.top=a.top-h):(p=u-e.height,n.size.height=p,n.position.top=a.top+r.height-p),f-c>0?(n.size.width=f,n.position.left=a.left-d):(f=c-e.width,n.size.width=f,n.position.left=a.left+r.width-f))}}),t.ui.resizable}),
/*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}return t.ui.focusable=function(n,i){var o,r,a,s,l,c=n.nodeName.toLowerCase();return"area"===c?(r=(o=n.parentNode).name,!(!n.href||!r||"map"!==o.nodeName.toLowerCase())&&((a=t("img[usemap='#"+r+"']")).length>0&&a.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(c)?(s=!n.disabled)&&(l=t(n).closest("fieldset")[0])&&(s=!l.disabled):s="a"===c&&n.href||i,s&&t(n).is(":visible")&&e(t(n)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable}),
/*!
 * jQuery UI Tabbable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version","./focusable"],t):t(jQuery)}(function(t){return t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}})}),
/*!
 * jQuery UI Dialog 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./button","./draggable","./mouse","./resizable","../focusable","../keycode","../position","../safe-active-element","../safe-blur","../tabbable","../unique-id","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,o=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),r=Math.max.apply(null,o);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),o=n.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){o.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var o,r;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),o=i.click,r={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(r).appendTo(e.uiButtonSet).on("click",function(){o.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,o){n._addClass(t(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(o))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(o,r){var a=r.offset.left-n.document.scrollLeft(),s=r.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:n.window},n._removeClass(t(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",o,e(r))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,o=i.resizable,r=this.uiDialog.css("position"),a="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,o){n._addClass(t(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(o))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(o,r){var a=n.uiDialog.offset(),s=a.left-n.document.scrollLeft(),l=a.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(t(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",o,e(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,o={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(o[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,n){var i,o,r=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=r.is(":data(ui-draggable)"))&&!n&&r.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((o=r.is(":data(ui-resizable)"))&&!n&&r.resizable("destroy"),o&&"string"==typeof n&&r.resizable("option","handles",n),o||!1===n||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog}),
/*!
 * jquery.confirm
 *
 * @version 2.3.1
 *
 * @author My C-Labs
 * @author Matthieu Napoli <matthieu@mnapoli.fr>
 * @author Russel Vela
 * @author Marcus Schwarz <msspamfang@gmx.de>
 *
 * @license MIT
 * @url https://myclabs.github.io/jquery.confirm/
 */
function(t){t.fn.confirm=function(e){return void 0===e&&(e={}),this.click(function(n){n.preventDefault();var i=t.extend({button:t(this)},e);t.confirm(i,n)}),this},t.confirm=function(e,n){if(void 0!==e){if(!(t(".confirmation-modal").length>0)){var i={};if(e.button){var o={title:"title",text:"text","confirm-button":"confirmButton","submit-form":"submitForm","cancel-button":"cancelButton","confirm-button-class":"confirmButtonClass","cancel-button-class":"cancelButtonClass","dialog-class":"dialogClass","modal-options-backdrop":"modalOptionsBackdrop","modal-options-keyboard":"modalOptionsKeyboard"};t.each(o,function(t,n){var o=e.button.data(t);void 0!==o&&(i[n]=o)})}var r=t.extend({},t.confirm.options,{confirm:function(){if(i.submitForm||"undefined"==typeof i.submitForm&&e.submitForm||"undefined"==typeof i.submitForm&&"undefined"==typeof e.submitForm&&t.confirm.options.submitForm)n.target.closest("form").submit();else{var o=n&&("string"==typeof n&&n||n.currentTarget&&n.currentTarget.attributes.href.value);if(o)if(e.post){var r=t('<form method="post" class="hide" action="'+o+'"></form>');t("body").append(r),r.submit()}else window.location=o}},cancel:function(){},button:null},e,i),a="";""!==r.title&&(a='<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">'+r.title+"</h4></div>");var s="";r.cancelButton&&(s='<button class="cancel btn '+r.cancelButtonClass+'" type="button" data-dismiss="modal">'+r.cancelButton+"</button>");var l='<div class="confirmation-modal modal fade" tabindex="-1" role="dialog"><div class="'+r.dialogClass+'"><div class="modal-content">'+a+'<div class="modal-body">'+r.text+'</div><div class="modal-footer"><button class="confirm btn '+r.confirmButtonClass+'" type="button" data-dismiss="modal">'+r.confirmButton+"</button>"+s+"</div></div></div></div>",c=t(l);"undefined"==typeof r.modalOptionsBackdrop&&"undefined"==typeof r.modalOptionsKeyboard||c.modal({backdrop:r.modalOptionsBackdrop,keyboard:r.modalOptionsKeyboard}),c.on("shown.bs.modal",function(){c.find(".btn-primary:first").focus()}),c.on("hidden.bs.modal",function(){c.remove()}),c.find(".confirm").click(function(){r.confirm(r.button)}),c.find(".cancel").click(function(){r.cancel(r.button)}),t("body").append(c),c.modal("show")}}else console.error("No options given.")},t.confirm.options={text:"Are you sure?",title:"",confirmButton:"Yes",cancelButton:"Cancel",post:!1,submitForm:!1,confirmButtonClass:"btn-primary",cancelButtonClass:"btn-default",dialogClass:"modal-dialog",modalOptionsBackdrop:!0,modalOptionsKeyboard:!0}}(jQuery);var sortableCvBody=function(){$("#cv-body").sortable({axis:"y",handle:".cv-show-step-handle",items:"div.resume-editor-plate",containment:"div#cv-body",update:function(){var t={};return $(".resume-editor-plate").each(function(){t[this.id]=$(this).index()}),$.ajax({url:$(this).data("update-position"),method:"post",dataType:"script",data:{cv:{sections_position:JSON.stringify(t)}}})}})};sortableCvBody(),$(function(){var t=$("#cv-content").data("format-update"),e=function(){$(".control-bar-choose-cv").on("click",function(){$(".cv-picker").hasClass("hide")?$(".cv-picker").removeClass("hide"):$(".cv-picker").addClass("hide")}),$("body").on("click",function(t){$(t.target).closest(".control-bar-choose-cv").length||$(".cv-picker").addClass("hide")})},n=function(){$(".control-bar-choose-file").on("click",function(){$(".file-picker").hasClass("hide")?$(".file-picker").removeClass("hide"):$(".file-picker").addClass("hide")}),$("body").on("click",function(t){$(t.target).closest(".control-bar-choose-file").length||$(".file-picker").addClass("hide")})},i=function(){$(".control-bar-upload-file").on("click",function(){$(".file-type-picker").hasClass("hide")?$(".file-type-picker").removeClass("hide"):$(".file-type-picker").addClass("hide")}),$("body").on("click",function(t){$(t.target).closest(".control-bar-upload-file").length||$(".file-type-picker").addClass("hide")})},o=function(){$(".control-bar-color").on("click",function(){var t=$(".color-picker");t.hasClass("hide")?t.removeClass("hide"):t.addClass("hide")}),$("body").on("click",function(t){var e=$(".color-picker");$(t.target).closest(".control-bar-color").length||e.addClass("hide")})},r=function(){$(".color-item").on("click",function(){var e=$(this).data("color");$("#cvs-show").length>0?$.post(t,{cv:{theme_color:e}}).done(function(){$(".selector-color").css("background",e),$("#cv-content .resume-editor-plate-title").css("border-bottom-color",e)}):$("#cover_letters-edit").length>0?$.ajax({url:t,type:"PUT",data:{cover_letter:{theme_color:e}},success:function(){$(".selector-color").css("background",e),$("#cv-content .divider").css("border-color",e)}}):$("#cover_letters-new").length>0&&($(".selector-color").css("background",e),$("#cv-content .divider").css("border-color",e),$("#cover_letter_theme_color").val(e))})},a=function(){$("#fontsize-select").on("click",function(){var t=$(".font-size-selector").find(".selector-list");t.hasClass("hide")?t.removeClass("hide"):t.addClass("hide")}),$("body").on("click",function(t){var e=$(".font-size-selector").find(".selector-list");$(t.target).closest(".font-size-selector").length||e.addClass("hide")})},s=function(){$(".fontsize-item").on("click",function(){var e=$(this).text().replace("pt","");parseInt(e),parseInt(e);$("#cvs-show").length>0?$.post(t,{cv:{font_size:e}}).done(function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)fontsize-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("fontsize-"+e),$(".font-size-selector .selector-list").addClass("hide"),$("#fontsize-input").text(e+"pt"),$("#cv-content").removeData("fontsize"),$("#cv-content").data("fontsize",e)}):$("#cover_letters-edit").length>0?$.ajax({url:t,type:"PUT",data:{cover_letter:{font_size:e}},success:function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)fontsize-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("fontsize-"+e),$(".font-size-selector .selector-list").addClass("hide"),$("#fontsize-input").text(e+"pt")}}):$("#cover_letters-new").length>0&&($("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)fontsize-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("fontsize-"+e),$(".font-size-selector .selector-list").addClass("hide"),$("#fontsize-input").text(e+"pt"),$("#cover_letter_font_size").val(e))})},l=function(){$("#fontsize-input").on("focus",function(){var t=$(this);return t.data("before",t.text()),t}),$("#fontsize-input").on("blur",function(){var e=$(this);if(e.data("before")!==e.text()){if(e.data("before",e.text()),10>(n=e.data("before").replace("pt",""))||n>18)var n=16;parseInt(n),parseInt(n);$("#cvs-show").length>0?$.post(t,{cv:{font_size:n}}).done(function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)fontsize-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("fontsize-"+n),$(".font-size-selector .selector-list").addClass("hide"),e.text(n+"pt"),$("#cv-content").removeData("fontsize"),$("#cv-content").data("fontsize",n)}):$("#cover_letters-edit").length>0?$.ajax({url:t,type:"PUT",data:{cover_letter:{font_size:n}},success:function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)fontsize-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("fontsize-"+n),$(".font-size-selector .selector-list").addClass("hide")}}):$("#cover_letters-new").length>0&&($("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)fontsize-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("fontsize-"+n),$(".font-size-selector .selector-list").addClass("hide"),$("#cover_letter_font_size").val(n))}return e})},c=function(){$("#lineheight-select").on("click",function(){var t=$(".spacing-selector").find(".selector-list");t.hasClass("hide")?t.removeClass("hide"):t.addClass("hide")}),$("body").on("click",function(t){var e=$(".spacing-selector").find(".selector-list");$(t.target).closest(".spacing-selector").length||e.addClass("hide")})},u=function(){$(".spacing-selector li").on("click",function(){var e=$(this).text();$("#cvs-show").length>0?$.post(t,{cv:{line_spacing:e}}).done(function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)lineH-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("lineH-"+e),$("#lineheight-input").text(parseInt(e)),$("#lineheight-select .spacing-selector .selector-list li").each(function(){$(this).hasClass("active")&&$(this).removeClass("active"),$(this).text()==parseInt(e)&&$(this).addClass("active")}),$(".spacing-selector").find(".selector-list").addClass("hide"),$("#one-page").removeData("line-height"),$("#one-page").data("line-height",e),$("#cv-content").removeData("lineheight"),$("#cv-content").data("lineheight",e)}):$("#cover_letters-edit").length>0?$.ajax({url:t,type:"PUT",data:{cover_letter:{line_spacing:e}},success:function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)lineH-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("lineH-"+e),$("#lineheight-input").text(parseInt(e)),$(".spacing-selector").find(".selector-list").addClass("hide")}}):$("#cover_letters-new").length>0&&($("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)lineH-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("lineH-"+e),$("#lineheight-input").text(parseInt(e)),$(".spacing-selector").find(".selector-list").addClass("hide"),$("#cover_letter_line_spacing").val(e))})},d=function(){$("#lineheight-input").on("focus",function(){var t=$(this);return t.data("before",t.text()),t}),$("#lineheight-input").on("blur",function(){var e=$(this);if(e.data("before")!==e.text()){e.data("before",e.text());var n=e.data("before");(14>n||n>28)&&(n=20),$("#cvs-show").length>0?$.post(t,{cv:{line_spacing:n}}).done(function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)lineH-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("lineH-"+n),$("#lineheight-input").text(parseInt(n)),$("#one-page").removeData("line-height"),$("#one-page").data("line-height",n),$("#cv-content").removeData("lineheight"),$("#cv-content").data("lineheight",n)}):$("#cover_letters-edit").length>0?$.ajax({url:t,type:"PUT",data:{cover_letter:{line_spacing:n}},success:function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)lineH-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("lineH-"+n),$("#lineheight-input").text(parseInt(n))}}):$("#cover_letters-new").length>0&&($("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)fontsize-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("fontsize-"+fontSize),$(".font-size-selector .selector-list").addClass("hide"),$("#fontsize-input").text(fontSize+"pt"),$("#cover_letter_line_spacing").val(n))}return e})},h=function(){$("#page-margin-select").on("click",function(){var t=$(".page-margin-selector").find(".selector-list");t.hasClass("hide")?t.removeClass("hide"):t.addClass("hide")}),$("body").on("click",function(t){var e=$(".page-margin-selector").find(".selector-list");$(t.target).closest(".page-margin-selector").length||e.addClass("hide")})},f=function(){$(".page-margin-selector li").on("click",function(){var e=$(this).text();$("#cvs-show").length>0&&$.post(t,{cv:{page_margin:e}}).done(function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)padding-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("padding-"+e),$("#page-margin-input").text(parseInt(e)),$("#page-margin-select .page-margin-selector .selector-list li").each(function(){$(this).hasClass("active")&&$(this).removeClass("active"),$(this).text()==parseInt(e)&&$(this).addClass("active")}),$(".page-margin-selector").find(".selector-list").addClass("hide"),$("#cv-content").removeData("page-margin"),$("#cv-content").data("page-margin",e),cvOnePage(e)})})},p=function(){$("#page-margin-input").on("focus",function(){$(this).data("origin",$(this).text());var t=$(this);return t.data("before",t.text()),t}),$("#page-margin-input").on("blur",function(){var e=$(this);if(e.data("before")!==e.text()){e.data("before",e.text());var n=e.data("before");5>n||n>25?$("#page-margin-input").text(parseInt(e.data("origin"))):$("#cvs-show").length>0&&$.post(t,{cv:{page_margin:n}}).done(function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)padding-\S+/g)||[]).join(" ")}),$("#cv-content").addClass("padding-"+n),$("#page-margin-input").text(parseInt(n)),$("#cv-content").removeData("page-margin"),$("#cv-content").data("page-margin",n),cvOnePage(n)})}})},m=function(){$(".font-family-selector").on("click",function(){var t=$(".font-family-selector").find(".selector-list");t.hasClass("hide")?t.removeClass("hide"):t.addClass("hide")}),$("body").on("click",function(t){var e=$(".font-family-selector").find(".selector-list");$(t.target).closest(".font-family-selector").length||e.addClass("hide")})},g=function(){$(".font-item").click(function(){var e=$(this),n=e.attr("title");$("#cvs-show").length>0?$.post(t,{cv:{font:n}}).done(function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)font-\S+/g)||[]).join(" ")}),$("#cv-content").addClass(n),$(".font-family-selector .selector-text").text(e.text()),localStorage.alertFontNoPreview||($.notify("\u5b57\u4f53\u6548\u679c\u5df2\u53d8\u66f4\u6210\u529f\uff0c\u8bf7\u4e0b\u8f7d\u6587\u4ef6\u67e5\u770b","info"),localStorage.alertFontNoPreview=!0)}):$("#cover_letters-edit").length>0?$.ajax({url:t,type:"PUT",data:{cover_letter:{font_family:n}},success:function(){$("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)font-\S+/g)||[]).join(" ")}),$("#cv-content").addClass(n),$(".font-family-selector .selector-text").text(e.text())}}):$("#cover_letters-new").length>0&&($("#cv-content").removeClass(function(t,e){return(e.match(/(^|\s)font-\S+/g)||[]).join(" ")}),$("#cv-content").addClass(n),$(".font-family-selector .selector-text").text(e.text()),$("#cover_letter_font_family").val(n))})},v=function(){$(".add-modal-selector").on("mouseenter",function(){$(this).find(".selector-list").removeClass("hide"),$(this).addClass("active")}),$(".add-modal-selector").on("mouseleave",function(){$(this).find(".selector-list").addClass("hide"),$(this).removeClass("active")}),$("body").on("click",function(t){var e=$(".add-modal-selector").find(".selector-list");$(t.target).closest(".add-modal-selector").length||(e.addClass("hide"),$(".add-modal-selector").removeClass("active"))})},y=function(){$(".typesetting-selector").on("mouseenter",function(){$(".typesetting-selector").find(".selector-list").removeClass("hide"),$(this).addClass("active")}),$(".typesetting-selector").on("mouseleave",function(){$(".typesetting-selector").find(".selector-list").addClass("hide"),$(this).removeClass("active")}),$("body").on("click",function(t){var e=$(".typesetting-selector").find(".selector-list");$(t.target).closest(".typesetting-selector").length||(e.addClass("hide"),$(".typesetting-selector").removeClass("active"))}),$(".item-link").on("click",function(){})};(function(){$(".check-btn").on("touchstart",function(){$(".hide-check-btn").removeClass("hide"),$(".mobile-inteligent-check").removeClass("hide"),$(this).addClass("hide"),$(".main-ctrl-check").click(),$("html, body").animate({scrollTop:$(".mobile-inteligent-check").offset().top-100})}),$(".hide-check-btn").on("touchstart",function(){$(".check-btn").removeClass("hide"),$(".mobile-inteligent-check").addClass("hide"),$(this).addClass("hide"),$("html, body").animate({scrollTop:$(".container").offset().top})})})(),i(),n(),e(),r(),o(),c(),h(),a(),m(),s(),l(),u(),d(),f(),p(),g(),v(),y()}),$(function(){var t=function(){$(document).on("click",".item-up",function(){var t=$(this).data("url"),e=$(this).closest(".resume-editor-plate-item");e.prev().before(e),$.post(t)})},e=function(){$(document).on("click",".item-down",function(){var t=$(this).data("url"),e=$(this).closest(".resume-editor-plate-item");e.next().after(e),$.post(t)})},n=function(){$(document).on("click",".section-down",function(){var t=$(this).closest(".resume-editor-plate");t.next().after(t),l()})},i=function(){$(document).on("click",".section-up",function(){var t=$(this).closest(".resume-editor-plate");t.prev().before(t),l()})},o=function(){$(document).on("click",".other-up",function(){var t=$(this).closest(".resume-editor-plate-item");t.prev().before(t),s()})},r=function(){$(document).on("click",".other-down",function(){var t=$(this).closest(".resume-editor-plate-item");t.next().after(t),s()})},a=$("#cv-body").data("update-position"),s=function(){const t=$("#cv-body").data("update-position");var e={};$("#other .resume-editor-plate-item").each(function(){e[this.id]=$(this).index()}),$.post(t,{cv:{others_position:JSON.stringify(e)}})},l=function(){var t={};$(".resume-editor-plate").each(function(){t[this.id]=$(this).index()}),$.post(a,{cv:{sections_position:JSON.stringify(t)}})};$(".cv-show-step-handle").tooltip();var c=function(){$("#cv-body .resume-editor-plate:first .title-ctrl-bar .section-up").addClass("hide"),$("#cv-body .resume-editor-plate:last .title-ctrl-bar .section-down").addClass("hide"),$("#cv-body .resume-editor-plate").each(function(){$(this).children().find(".resume-editor-plate-item:first .resume-editor-palte-item-ctrl-bar .ctrl-bar-up-btn").addClass("hide")}),$("#cv-body .resume-editor-plate").each(function(){$(this).children().find(".resume-editor-plate-item:last .resume-editor-palte-item-ctrl-bar .ctrl-bar-down-btn").addClass("hide")})},u=function(){setSectionPosition(),setOtherPosition(),c()};o(),r(),i(),n(),t(),e(),u()}),$(function(){const t=$('input[name="mobile"]').val();$("#js-cv-token").val();var e=function(){$(document).on("click",".info-top-close",function(){$(".bottom-profile-container").slideUp(500),$(".transparent-modal-background").addClass("hide"),$("#one-page-line").removeClass("hide"),toggleEditorLeftPanel()}),$(document).on("click","#cover-letter-header, .email-profile-header",function(){t||($(".bottom-profile-container").slideDown(500),$(".transparent-modal-background").removeClass("hide"))})},n=function(){$(document).on("click","#profile-more-show",function(t){t.preventDefault(),$("#profile-detail").show(),$(".info-add-item").hide(),$(".info-hide-item").show()}),$(document).on("click","#profile-more-hide",function(t){t.preventDefault(),$("#profile-detail").hide(),$(".info-add-item").show(),$(".info-hide-item").hide()})},i=function(){$("#add-avatar-modal").find(".faq-item").on("click",function(){$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active")})},o=function(){$("#upload-avatar-btn").on("click",function(){$("#profile_avatar").click(),$("#user_avatar").click()})};(function(){$(document).on("click",".remote-add-section",function(){var t=$(this).data("remote-url");$.post(t,{first:!0})})})(),e(),n(),o(),i()}),$(function(){var t=function(){function t(){if(!(window.innerWidth<768)){var t=$(window).scrollTop(),e=$("#cvs-show .right-panel-control-bar, #cover_letters-edit .right-panel-control-bar"),n=$(".right-panel-control-bar-container"),i=$(".right-panel-control-bar-container").children(".control-download"),o=$(".right-panel-resume-editor");$(".left-panel-actual"),$(".right-panel"),$(document.body).outerWidth(!0),parseInt($(".fold-container").css("width")),parseInt($(".unfold-container").css("width")),parseInt($(".fold-container").css("width"));t>=145?(e.css({position:"fixed",left:"0px",top:"0px","z-index":"999"}),n.css({"max-width":"1100px",float:"right"}),i.css("display","inline-block"),o.css({"margin-top":"78px"})):(e.css({position:"relative",left:"0px",top:"0px","z-index":"9"}),n.css({"max-width":"9999px",float:"none"}),i.css("display","none"),o.css({"margin-top":"10px"}))}}$(window).scroll(t)};(function(){function t(t){if($(".fold-container").addClass("hide"),$(".unfold-container").removeClass("hide"),($(t.target).hasClass("inteligent-check-bgc")||$(t.target).parents().hasClass("inteligent-check-bgc"))&&($(".inteligent-check").siblings().addClass("hide"),$(".inteligent-check").removeClass("hide")),$(t.target).hasClass("fill-in-tips-bgc")||$(t.target).parents().hasClass("fill-in-tips-bgc")){$(".fill-in-tips").siblings().addClass("hide"),$(".fill-in-tips").removeClass("hide");const t=e();if(null!=t){const e=$(".faq-select");new TypeDetect(e,t).result()&&(e.find("option:checked").prop("selected",!1),e.find("option[data-type="+t+"]").prop("selected",!0),$("#faq-form").submit())}}($(t.target).hasClass("view-cases-bgc")||$(t.target).parents().hasClass("view-cases-bgc"))&&($(".view-cases").siblings().addClass("hide"),$(".view-cases").removeClass("hide")),($(t.target).hasClass("tutor-bgc")||$(t.target).parents().hasClass("tutor-bgc"))&&($(".tutor").siblings().addClass("hide"),$(".tutor").removeClass("hide")),/Android|webOS|iPhone|iPad/i.test(navigator.userAgent)?console.info("is mobile"):i<1100&&$(".right-panel").css({"margin-left":"138px"})}function e(){return $('[id*="edit-form"]').length>0?$($('[id*="edit-form"]')[0].closest(".resume-editor-plate-item")).data("faq-type"):$(".bottom-other-container").is(":visible")?"other":$(".bottom-profile-container").is(":visible")?"profile":null}function n(){$(".unfold-container").addClass("hide"),$(".unfold-container").children().addClass("hide"),$(".fold-container").removeClass("hide"),i<1100&&$(".right-panel").css({"margin-left":"10px"})}var i=$(document.body).outerWidth(!0)+15;$(".fold-container").children("a").on("click",t),$(".nav-btn").on("click",t),$(".fold-btn").on("click",n),$(".selector-content").on("click",function(t){$(".selector").removeClass("open"),$this=$(t.target).hasClass("selector-content")?$(t.target):$(t.target).parents(".selector-content"),console.log($this),$this.parents(".selector").addClass("open"),$this.siblings(".selector-options").find("a").on("click",function(t){var e=$(t.target).text();$this.children(".text").text(e),$this.parents(".selector").removeClass("open")})}),$(".title-btn").on("click",function(t){$this=$(t.target).hasClass("title-btn")?$(t.target):$(t.target).parents(".item-title"),$panel=$this.parent().parent(),$panel.hasClass("close-panel")?$panel.removeClass("close-panel"):$panel.addClass("close-panel")}),$(document).on("click","#faqs .item-title",function(t){$this=$(t.target).hasClass("item-title")?$(t.target):$(t.target).parents(".item-title"),$panel=$this.closest(".tip-item"),$panel.hasClass("close-panel")?$panel.removeClass("close-panel"):$panel.addClass("close-panel")}),$(".cases .title-btn").on("click",function(t){$this=$(t.target).hasClass("title-btn")?$(t.target):$(t.target).parents(".cases-title"),$panel=$this.parent().parent().find(".case-container"),$panel.hasClass("hidden")?($panel.removeClass("hidden"),$this.find("i").removeClass("fa-chevron-down"),$this.find("i").addClass("fa-chevron-up")):($panel.addClass("hidden"),$this.find("i").addClass("fa-chevron-down"),$this.find("i").removeClass("fa-chevron-up"))}),$(".verb-reference .title-btn").on("click",function(t){$this=$(t.target).hasClass("title-btn")?$(t.target):$(t.target).parents(".verb-title"),$panel=$this.parent().parent().find(".verb-container"),$panel.hasClass("hidden")?($panel.removeClass("hidden"),$this.find("i").removeClass("fa-chevron-down"),$this.find("i").addClass("fa-chevron-up")):($panel.addClass("hidden"),$this.find("i").addClass("fa-chevron-down"),$this.find("i").removeClass("fa-chevron-up"))})})(),t()}),$(function(){function t(t){var e=0;if(/msie/i.test(navigator.userAgent)&&!window.opera&&!t.files){var n=t.value;e=new ActiveXObject("Scripting.FileSystemObject").GetFile(n).Size}else e=t.files[0].size;var i=$(".panel-upload-avatar .avatar-max-size").data("avatar-max-size"),o=1048576;if(e>i){var r=I18n.t("notify.cv.image_no_larger_than")+i/o+" MB";return"ios"==client?setupWebViewJavascriptBridge(function(t){t.callHandler("failUpload",{info:r},function(){})}):alert(r),void(t.value="")}var a=t.value,s=a.substring(a.lastIndexOf(".")+1).toLowerCase();if(-1===["jpg","jpeg","png","bmp","gif","tif","tiff"].indexOf(s)){var l=I18n.t("notify.cv.image_format");return"ios"==client?setupWebViewJavascriptBridge(function(t){t.callHandler("failUpload",{info:l},function(){})}):alert(l),void(t.value="")}"ios"==client?setupWebViewJavascriptBridge(function(t){t.callHandler("uploadingImage",{info:I18n.t("notify.uploading")},function(){})}):$.notify(I18n.t("notify.uploading"),{className:"success",autoHide:!1}),$(".upload-btn").css("background-color","#B3B3B3"),$(".upload-btn").removeAttr("id")}var e=function(){$(document).on("click","#save",function(t){t.preventDefault(),t.stopPropagation(),$.get($("#cv-score-path").data("score-path")).done(function(){$.notify(I18n.t("notify.save_success"),"success")})})};(function(){$(document).on("change","#profile_avatar, #user_avatar",function(){try{t(this)}catch(i){console.log(i)}var e=new FormData;const n=$(this).data("url");return $input=$(this),"user_avatar"==$(this).attr("id")?e.append("user[avatar]",$input[0].files[0]):e.append("profile[avatar]",$input[0].files[0]),$.ajax({url:n,type:"PUT",beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},data:e,cache:!1,contentType:!1,processData:!1,success:function(){"ios"!=client?($(".notifyjs-wrapper").remove(),$.notify(I18n.t("notify.upload_success"),"success")):setupWebViewJavascriptBridge(function(t){t.callHandler("uploadSuccess",{successInfo:I18n.t("notify.upload_success")},function(){})})}}),!1})})(),e()}),$(function(){var t=function(){$(document).on("click","#cv-content .to-date",function(){var t=$(this).find(".to-date-dot-inline"),e=$(this).prev().prev(),n=$(this).prev();t.hasClass("active")?(t.removeClass("active"),n.val(""),e.attr("type","text"),n.attr("type","hidden")):(t.addClass("active"),e.val(""),e.attr("type","hidden"),n.attr("type","text"),"zh-CN"===$("#cv-lang").text()?n.val("\u81f3\u4eca"):n.val("Present")),$(this).hide()})};(function(){$(document).on("click",'#cv-content input[name*="end_at"], #cv-content input[name*="present"]',function(){$(".to-date").show()})})(),t()}),$(function(){var t=function(){$(document).on("click",".resume-advice-top-btn",function(){var t=$(".resume-advice");t.hasClass("close-panel")?t.removeClass("close-panel"):t.addClass("close-panel")})},e=function(){$(document).on("click",".resume-match-top-btn",function(){var t=$(".resume-match");t.hasClass("close-panel")?t.removeClass("close-panel"):t.addClass("close-panel")})};(function(){$(document).on("click","#copy-cv-content",function(){localStorage.setItem("cvContent",$("#cv-content").text().trim())})})(),t(),e()}),$(function(){var t=function(){$("#faqs .tip-item:not(:first-child)").each(function(){$(this).addClass("close-panel")})};(function(){$(".faq-select").on("change",function(){$("#faq-form").submit()})})(),t()}),($("#edus-index").length>0||$("#works-index").length>0||$("#orgs-index").length>0||$("#custom_sections-edit").length>0)&&($(document).on("change paste keyup",'input[name*="name"], input[name*="title"], select',function(){const t=$(this).attr("class");if(t!==undefined){const e=t.split(" ")[0].toString();$(this).closest(".info-content-item-form").siblings(".info-content-item-tag").find("."+e).text($(this).val())}}),$(document).on("change paste keyup",'input[name*="name"], input[name*="title"], select',function(){const t=$(this).val(),e=$(this).data("target");$(this).closest(".info-content-item-form").siblings(".info-content-item-tag").find("."+e).text(t)}),$(document).on("change paste keyup",'input[name*="start_at"]',function(){const t=$(this).val(),e=$(".edit-panel").data("lang"),n=$(this).data("target"),i=$(this).closest(".info-content-item-form").siblings(".info-content-item-tag").find("."+n);t.length>0?i.text(t):"cn"===e?i.text("\u8d77\u59cb\u65e5\u671f"):i.text("Start At")}),$(document).on("change paste keyup",'input[name*="end_at"]',function(){const t=$(this).val(),e=$(".edit-panel").data("lang"),n=$(this).data("target"),i=$(this).closest(".info-content-item-form").siblings(".info-content-item-tag").find("."+n),o=$(this).next().val();t.length>0?i.text(t):o.length>0?i.text(o):"cn"===e?i.text("\u7ed3\u675f\u65e5\u671f"):i.text("End At")})),
/*! jQuery UI - v1.11.4+CommonJS - 2015-08-28
* http://jqueryui.com
* Includes: widget.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){
/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var e,n=0,i=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{(i=t._data(o,"events"))&&i.remove&&t(o).triggerHandler("remove")}catch(a){}e(n)}),t.widget=function(e,n,i){var o,r,a,s,l={},c=e.split(".")[0];return e=e.split(".")[1],o=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},r=t[c][e],a=t[c][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,function(e,i){var o,r;t.isFunction(i)?l[e]=(o=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=o,this._superApply=r,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}):l[e]=i}),a.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},l,{constructor:a,namespace:c,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete r._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var n,o,r=i.call(arguments,1),a=0,s=r.length;a<s;a++)for(n in r[a])o=r[a][n],r[a].hasOwnProperty(n)&&o!==undefined&&(t.isPlainObject(o)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],o):t.widget.extend({},o):e[n]=o);return e},t.widget.bridge=function(e,n){var o=n.prototype.widgetFullName||e;t.fn[e]=function(r){var a="string"==typeof r,s=i.call(arguments,1),l=this;return a?this.each(function(){var n,i=t.data(this,o);return"instance"===r?(l=i,!1):i?t.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,s))!==i&&n!==undefined?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,o);e?(e.option(r||{}),e._init&&e._init()):t.data(this,o,new n(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},e=(i=e.split(".")).shift(),i.length){for(o=a[e]=t.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return o[e]===undefined?null:o[e];o[e]=n}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,a){function s(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,s):n.bind(c,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var o,r,a=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?!0===o||"number"==typeof o?n:o.effect||n:e;"number"==typeof(o=o||{})&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&t.effects&&t.effects.effect[s]?i[e](o):s!==e&&i[s]?i[s](o.duration,o.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}});t.widget}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(n){if(n.async){var i,o,r,a=n.initialIframeSrc||"javascript:false;";return{send:function(s,l){(i=t('<form style="display:none;"></form>')).attr("accept-charset",n.formAcceptCharset),r=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+r+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+r+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+r+"_method=PATCH",n.type="POST"),o=t('<iframe src="'+a+'" name="iframe-transport-'+(e+=1)+'"></iframe>').bind("load",function(){var e,r=t.isArray(n.paramName)?n.paramName:[n.paramName];o.unbind("load").bind("load",function(){var e;try{if(!(e=o.contents()).length||!e[0].firstChild)throw new Error}catch(n){e=undefined}l(200,"success",{iframe:e}),t('<iframe src="'+a+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",o.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",r[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var o=t(e[n]);t(i).prop("name",o.prop("name")).attr("form",o.attr("form")),o.replaceWith(i)})}),i.append(o).appendTo(document.body)},abort:function(){o&&o.unbind("load").prop("src",a),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var n=e&&e[0];return n&&t.isXMLDoc(n)?n:t.parseXML(n.XMLDocument&&n.XMLDocument.xml||t(n.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(t){"use strict";function e(e){var n="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var o=i.dataTransfer;o&&-1!==t.inArray("Files",o.types)&&!1!==this._trigger(e,t.Event(e,{delegatedEvent:i}))&&(i.preventDefault(),n&&(o.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){if(e.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,o=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&o-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=o,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(o,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(o,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,o=e.files[0],r=e.multipart||!t.support.xhrFileUpload,a="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),r&&!e.blob&&this._isInstanceOf("File",o)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(o.name)+'"'),r?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:a,value:e.blob}):t.each(e.files,function(i,o){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||a,value:o})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(a,e.blob,o.name):t.each(e.files,function(o,r){(i._isInstanceOf("File",r)||i._isInstanceOf("Blob",r))&&n.append("array"===t.type(e.paramName)&&e.paramName[o]||a,r,r.uploadName||r.name)})),e.data=n):(e.contentType=o.type||"application/octet-stream",e.data=e.blob||o),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",o=(e.prop("files")||[1]).length;o;)i.push(n),o-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var o=t.Deferred(),r=o.promise();return n=n||this.options.context||r,!0===e?o.resolveWith(n,i):!1===e&&o.rejectWith(n,i),r.abort=o.promise,this._enhancePromise(r)},_addConvenienceMethods:function(e,n){var i=this,o=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,r){return(e||r)&&(n._processQueue=this._processQueue=(this._processQueue||o([this])).then(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():o(arguments)}).then(e,r)),this._processQueue||o([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,o,r=this,a=e.files[0],s=a.size,l=e.uploadedBytes,c=e.maxChunkSize||s,u=this._blobSlice,d=t.Deferred(),h=d.promise();return!(!(this._isXHRUpload(e)&&u&&(l||c<s))||e.data)&&(!!n||(l>=s?(a.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",a.error])):(o=function(){var n=t.extend({},e),h=n._progress.loaded;n.blob=u.call(a,l,l+c,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,r._initXHRData(n),r._initProgressListener(n),i=(!1!==r._trigger("chunksend",null,n)&&t.ajax(n)||r._getXHRPromise(!1,n.context)).done(function(i,a,c){l=r._getUploadedBytes(c)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&r._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=a,n.jqXHR=c,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),l<s?o():d.resolveWith(n.context,[i,a,c])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),d.rejectWith(n.context,[t,e,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},o(),h)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,o){var r=o._progress.total,a=o._response;o._progress.loaded<r&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:r,total:r}),o),a.result=o.result=e,a.textStatus=o.textStatus=n,a.jqXHR=o.jqXHR=i,this._trigger("done",null,o)},_onFail:function(t,e,n,i){var o=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),o.jqXHR=i.jqXHR=t,o.textStatus=i.textStatus=e,o.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,o,r,a,s=this,l=s._getAJAXSettings(n),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((o||!1===s._trigger("send",t.Event("send",{delegatedEvent:e}),l))&&s._getXHRPromise(!1,l.context,o)||s._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){s._onDone(t,e,n,l)}).fail(function(t,e,n){s._onFail(t,e,n,l)}).always(function(t,e,n){if(s._onAlways(t,e,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=t.Deferred(),this._slots.push(r),a=r.then(c)):(this._sequence=this._sequence.then(c,c),a=this._sequence),a.abort=function(){return o=[undefined,"abort","abort"],i?i.abort():(r&&r.rejectWith(l.context,o),c())},this._enhancePromise(a)):c()},_onAdd:function(e,n){var i,o,r,a,s=this,l=!0,c=t.extend({},this.options,n),u=n.files,d=u.length,h=c.limitMultiFileUploads,f=c.limitMultiFileUploadSize,p=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),v=0;if(!d)return!1;if(f&&u[0].size===undefined&&(f=undefined),(c.singleFileUploads||h||f)&&this._isXHRUpload(c))if(c.singleFileUploads||f||!h)if(!c.singleFileUploads&&f)for(r=[],i=[],a=0;a<d;a+=1)m+=u[a].size+p,(a+1===d||m+u[a+1].size+p>f||h&&a+1-v>=h)&&(r.push(u.slice(v,a+1)),(o=g.slice(v,a+1)).length||(o=g),i.push(o),v=a+1,m=0);else i=g;else for(r=[],i=[],a=0;a<d;a+=h)r.push(u.slice(a,a+h)),(o=g.slice(a,a+h)).length||(o=g),i.push(o);else r=[u],i=[g];return n.originalFiles=u,t.each(r||u,function(o,a){var c=t.extend({},n);return c.files=r?a:[a],c.paramName=i[o],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(e,c),l=s._trigger("add",t.Event("add",{delegatedEvent:e}),c)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0),o=n.is(document.activeElement);e.fileInputClone=i,t("<form></form>").append(i)[0].reset(),n.after(i).detach(),o&&i.focus(),t.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i,o=this,r=t.Deferred(),a=function(t){t&&!t.entry&&(t.entry=e),r.resolve([t])},s=function(t){o._handleFileTreeEntries(t,n+e.name+"/").done(function(t){r.resolve(t)}).fail(a)},l=function(){i.readEntries(function(t){t.length?(c=c.concat(t),l()):s(c)},a)},c=[];return n=n||"",e.isFile?e._file?(e._file.relativePath=n,r.resolve(e._file)):e.file(function(t){t.relativePath=n,r.resolve(t)},a):e.isDirectory?(i=e.createReader(),l()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var n=(e=e||{}).items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?((e=t.webkitGetAsEntry())&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var n,i,o=(e=t(e)).prop("webkitEntries")||e.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if((n=t.makeArray(e.prop("files"))).length)n[0].name===undefined&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(!(i=e.prop("value")))return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(o){i.files=o,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",t.Event("change",{delegatedEvent:e}),i)&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,o={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){o.files=i,!1!==n._trigger("drop",t.Event("drop",{delegatedEvent:e}),o)&&n._onAdd(e,o)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=-1!==t.inArray(e,this._specialOptions);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options,i=this.element.data();t.each(this.element[0].attributes,function(t,o){var r,a=o.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),r=i[a],e._isRegExpOption(a,r)&&(r=e._getRegExp(r)),n[a]=r)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,o=this,r=t.Deferred(),a=r.promise();return a.abort=function(){return i=!0,n?n.abort():(r.reject(null,"abort","abort"),a)},this._getFileInputFiles(e.fileInput).always(function(t){i||(t.length?(e.files=t,(n=o._onSend(null,e)).then(function(t,e,n){r.resolve(t,e,n)},function(t,e,n){r.reject(t,e,n)})):r.reject())}),this._enhancePromise(a)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),
/**
 * Swiper 3.3.1
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 *
 * http://www.idangero.us/swiper/
 *
 * Copyright 2016, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under MIT
 *
 * Released on: February 7, 2016
 */
function(){"use strict";function t(t){t.fn.swiper=function(e){var n;return t(this).each(function(){var t=new o(this,e);n||(n=t)}),n}}var e,n,i,o=function(t,n){function i(t){return Math.floor(t)}function r(){w.autoplayTimeoutId=setTimeout(function(){w.params.loop?(w.fixLoop(),w._slideNext(),w.emit("onAutoplay",w)):w.isEnd?n.autoplayStopOnLast?w.stopAutoplay():(w._slideTo(0),w.emit("onAutoplay",w)):(w._slideNext(),w.emit("onAutoplay",w))},w.params.autoplay)}function s(t,n){var i=e(t.target);if(!i.is(n))if("string"==typeof n)i=i.parents(n);else if(n.nodeType){var o;return i.parents().each(function(t,e){e===n&&(o=n)}),o?n:undefined}return 0===i.length?undefined:i[0]}function l(t,e){e=e||{};var n=new(window.MutationObserver||window.WebkitMutationObserver)(function(t){t.forEach(function(t){w.onResize(!0),w.emit("onObserverUpdate",w,t)})});n.observe(t,{attributes:"undefined"==typeof e.attributes||e.attributes,childList:"undefined"==typeof e.childList||e.childList,characterData:"undefined"==typeof e.characterData||e.characterData}),w.observers.push(n)}function c(t){t.originalEvent&&(t=t.originalEvent);var e=t.keyCode||t.charCode;if(!w.params.allowSwipeToNext&&(w.isHorizontal()&&39===e||!w.isHorizontal()&&40===e))return!1;if(!w.params.allowSwipeToPrev&&(w.isHorizontal()&&37===e||!w.isHorizontal()&&38===e))return!1;if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===e||39===e||38===e||40===e){var n=!1;if(w.container.parents(".swiper-slide").length>0&&0===w.container.parents(".swiper-slide-active").length)return;var i={left:window.pageXOffset,top:window.pageYOffset},o=window.innerWidth,r=window.innerHeight,a=w.container.offset();w.rtl&&(a.left=a.left-w.container[0].scrollLeft);for(var s=[[a.left,a.top],[a.left+w.width,a.top],[a.left,a.top+w.height],[a.left+w.width,a.top+w.height]],l=0;l<s.length;l++){var c=s[l];c[0]>=i.left&&c[0]<=i.left+o&&c[1]>=i.top&&c[1]<=i.top+r&&(n=!0)}if(!n)return}w.isHorizontal()?(37!==e&&39!==e||(t.preventDefault?t.preventDefault():t.returnValue=!1),(39===e&&!w.rtl||37===e&&w.rtl)&&w.slideNext(),(37===e&&!w.rtl||39===e&&w.rtl)&&w.slidePrev()):(38!==e&&40!==e||(t.preventDefault?t.preventDefault():t.returnValue=!1),40===e&&w.slideNext(),38===e&&w.slidePrev())}}function u(t){t.originalEvent&&(t=t.originalEvent);var e=w.mousewheel.event,n=0,i=w.rtl?-1:1;if("mousewheel"===e)if(w.params.mousewheelForceToAxis)if(w.isHorizontal()){if(!(Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)))return;n=t.wheelDeltaX*i}else{if(!(Math.abs(t.wheelDeltaY)>Math.abs(t.wheelDeltaX)))return;n=t.wheelDeltaY}else n=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?-t.wheelDeltaX*i:-t.wheelDeltaY;else if("DOMMouseScroll"===e)n=-t.detail;else if("wheel"===e)if(w.params.mousewheelForceToAxis)if(w.isHorizontal()){if(!(Math.abs(t.deltaX)>Math.abs(t.deltaY)))return;n=-t.deltaX*i}else{if(!(Math.abs(t.deltaY)>Math.abs(t.deltaX)))return;n=-t.deltaY}else n=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-t.deltaX*i:-t.deltaY;if(0!==n){if(w.params.mousewheelInvert&&(n=-n),w.params.freeMode){var o=w.getWrapperTranslate()+n*w.params.mousewheelSensitivity,r=w.isBeginning,a=w.isEnd;if(o>=w.minTranslate()&&(o=w.minTranslate()),o<=w.maxTranslate()&&(o=w.maxTranslate()),w.setWrapperTransition(0),w.setWrapperTranslate(o),w.updateProgress(),w.updateActiveIndex(),(!r&&w.isBeginning||!a&&w.isEnd)&&w.updateClasses(),w.params.freeModeSticky?(clearTimeout(w.mousewheel.timeout),w.mousewheel.timeout=setTimeout(function(){w.slideReset()},300)):w.params.lazyLoading&&w.lazy&&w.lazy.load(),0===o||o===w.maxTranslate())return}else{if((new window.Date).getTime()-w.mousewheel.lastScrollTime>60)if(n<0)if(w.isEnd&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slideNext();else if(w.isBeginning&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slidePrev();w.mousewheel.lastScrollTime=(new window.Date).getTime()}return w.params.autoplay&&w.stopAutoplay(),t.preventDefault?t.preventDefault():t.returnValue=!1,!1}}function d(t,n){var i,o,r;t=e(t);var a=w.rtl?-1:1;i=t.attr("data-swiper-parallax")||"0",o=t.attr("data-swiper-parallax-x"),r=t.attr("data-swiper-parallax-y"),o||r?(o=o||"0",r=r||"0"):w.isHorizontal()?(o=i,r="0"):(r=i,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*n*a+"%":o*n*a+"px",r=r.indexOf("%")>=0?parseInt(r,10)*n+"%":r*n+"px",t.transform("translate3d("+o+", "+r+",0px)")}function h(t){return 0!==t.indexOf("on")&&(t=t[0]!==t[0].toUpperCase()?"on"+t[0].toUpperCase()+t.substring(1):"on"+t),t}if(!(this instanceof o))return new o(t,n);var f={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:undefined,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},p=n&&n.virtualTranslate;n=n||{};var m={};for(var g in n)if("object"!=typeof n[g]||null===n[g]||(n[g].nodeType||n[g]===window||n[g]===document||void 0!==a&&n[g]instanceof a||"undefined"!=typeof jQuery&&n[g]instanceof jQuery))m[g]=n[g];else for(var v in m[g]={},n[g])m[g][v]=n[g][v];for(var y in f)if("undefined"==typeof n[y])n[y]=f[y];else if("object"==typeof n[y])for(var b in f[y])"undefined"==typeof n[y][b]&&(n[y][b]=f[y][b]);var w=this;if(w.params=n,w.originalParams=m,w.classNames=[],void 0!==e&&void 0!==a&&(e=a),(void 0!==e||(e=void 0===a?window.Dom7||window.Zepto||window.jQuery:a))&&(w.$=e,w.currentBreakpoint=undefined,w.getActiveBreakpoint=function(){if(!w.params.breakpoints)return!1;var t,e=!1,n=[];for(t in w.params.breakpoints)w.params.breakpoints.hasOwnProperty(t)&&n.push(t);n.sort(function(t,e){return parseInt(t,10)>parseInt(e,10)});for(var i=0;i<n.length;i++)(t=n[i])>=window.innerWidth&&!e&&(e=t);return e||"max"},w.setBreakpoint=function(){var t=w.getActiveBreakpoint();if(t&&w.currentBreakpoint!==t){var e=t in w.params.breakpoints?w.params.breakpoints[t]:w.originalParams,n=w.params.loop&&e.slidesPerView!==w.params.slidesPerView;for(var i in e)w.params[i]=e[i];w.currentBreakpoint=t,n&&w.destroyLoop&&w.reLoop(!0)}},w.params.breakpoints&&w.setBreakpoint(),w.container=e(t),0!==w.container.length)){if(w.container.length>1){var C=[];return w.container.each(function(){C.push(new o(this,n))}),C}w.container[0].swiper=w,w.container.data("swiper",w),w.classNames.push("swiper-container-"+w.params.direction),w.params.freeMode&&w.classNames.push("swiper-container-free-mode"),w.support.flexbox||(w.classNames.push("swiper-container-no-flexbox"),w.params.slidesPerColumn=1),w.params.autoHeight&&w.classNames.push("swiper-container-autoheight"),(w.params.parallax||w.params.watchSlidesVisibility)&&(w.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(w.params.effect)>=0&&(w.support.transforms3d?(w.params.watchSlidesProgress=!0,w.classNames.push("swiper-container-3d")):w.params.effect="slide"),"slide"!==w.params.effect&&w.classNames.push("swiper-container-"+w.params.effect),"cube"===w.params.effect&&(w.params.resistanceRatio=0,w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.centeredSlides=!1,w.params.spaceBetween=0,w.params.virtualTranslate=!0,w.params.setWrapperSize=!1),"fade"!==w.params.effect&&"flip"!==w.params.effect||(w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.watchSlidesProgress=!0,w.params.spaceBetween=0,w.params.setWrapperSize=!1,void 0===p&&(w.params.virtualTranslate=!0)),w.params.grabCursor&&w.support.touch&&(w.params.grabCursor=!1),w.wrapper=w.container.children("."+w.params.wrapperClass),w.params.pagination&&(w.paginationContainer=e(w.params.pagination),w.params.uniqueNavElements&&"string"==typeof w.params.pagination&&w.paginationContainer.length>1&&1===w.container.find(w.params.pagination).length&&(w.paginationContainer=w.container.find(w.params.pagination)),"bullets"===w.params.paginationType&&w.params.paginationClickable?w.paginationContainer.addClass("swiper-pagination-clickable"):w.params.paginationClickable=!1,w.paginationContainer.addClass("swiper-pagination-"+w.params.paginationType)),(w.params.nextButton||w.params.prevButton)&&(w.params.nextButton&&(w.nextButton=e(w.params.nextButton),w.params.uniqueNavElements&&"string"==typeof w.params.nextButton&&w.nextButton.length>1&&1===w.container.find(w.params.nextButton).length&&(w.nextButton=w.container.find(w.params.nextButton))),w.params.prevButton&&(w.prevButton=e(w.params.prevButton),w.params.uniqueNavElements&&"string"==typeof w.params.prevButton&&w.prevButton.length>1&&1===w.container.find(w.params.prevButton).length&&(w.prevButton=w.container.find(w.params.prevButton)))),w.isHorizontal=function(){return"horizontal"===w.params.direction},w.rtl=w.isHorizontal()&&("rtl"===w.container[0].dir.toLowerCase()||"rtl"===w.container.css("direction")),w.rtl&&w.classNames.push("swiper-container-rtl"),w.rtl&&(w.wrongRTL="-webkit-box"===w.wrapper.css("display")),w.params.slidesPerColumn>1&&w.classNames.push("swiper-container-multirow"),w.device.android&&w.classNames.push("swiper-container-android"),w.container.addClass(w.classNames.join(" ")),w.translate=0,w.progress=0,w.velocity=0,w.lockSwipeToNext=function(){w.params.allowSwipeToNext=!1},w.lockSwipeToPrev=function(){w.params.allowSwipeToPrev=!1},w.lockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!1},w.unlockSwipeToNext=function(){w.params.allowSwipeToNext=!0},w.unlockSwipeToPrev=function(){w.params.allowSwipeToPrev=!0},w.unlockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!0},w.params.grabCursor&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grab",w.container[0].style.cursor="-moz-grab",w.container[0].style.cursor="grab"),w.imagesToLoad=[],w.imagesLoaded=0,w.loadImage=function(t,e,n,i,o){function r(){o&&o()}var a;t.complete&&i?r():e?((a=new window.Image).onload=r,a.onerror=r,n&&(a.srcset=n),e&&(a.src=e)):r()},w.preloadImages=function(){function t(){null!=w&&(w.imagesLoaded!==undefined&&w.imagesLoaded++,w.imagesLoaded===w.imagesToLoad.length&&(w.params.updateOnImagesReady&&w.update(),w.emit("onImagesReady",w)))}w.imagesToLoad=w.container.find("img");for(var e=0;e<w.imagesToLoad.length;e++)w.loadImage(w.imagesToLoad[e],w.imagesToLoad[e].currentSrc||w.imagesToLoad[e].getAttribute("src"),w.imagesToLoad[e].srcset||w.imagesToLoad[e].getAttribute("srcset"),!0,t)},w.autoplayTimeoutId=undefined,w.autoplaying=!1,w.autoplayPaused=!1,w.startAutoplay=function(){return"undefined"==typeof w.autoplayTimeoutId&&(!!w.params.autoplay&&(!w.autoplaying&&(w.autoplaying=!0,w.emit("onAutoplayStart",w),void r())))},w.stopAutoplay=function(){w.autoplayTimeoutId&&(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplaying=!1,w.autoplayTimeoutId=undefined,w.emit("onAutoplayStop",w))},w.pauseAutoplay=function(t){w.autoplayPaused||(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplayPaused=!0,0===t?(w.autoplayPaused=!1,r()):w.wrapper.transitionEnd(function(){w&&(w.autoplayPaused=!1,w.autoplaying?r():w.stopAutoplay())}))},w.minTranslate=function(){return-w.snapGrid[0]},w.maxTranslate=function(){return-w.snapGrid[w.snapGrid.length-1]},w.updateAutoHeight=function(){var t=w.slides.eq(w.activeIndex)[0];if(void 0!==t){var e=t.offsetHeight;e&&w.wrapper.css("height",e+"px")}},w.updateContainerSize=function(){var t,e;t="undefined"!=typeof w.params.width?w.params.width:w.container[0].clientWidth,e="undefined"!=typeof w.params.height?w.params.height:w.container[0].clientHeight,0===t&&w.isHorizontal()||0===e&&!w.isHorizontal()||(t=t-parseInt(w.container.css("padding-left"),10)-parseInt(w.container.css("padding-right"),10),e=e-parseInt(w.container.css("padding-top"),10)-parseInt(w.container.css("padding-bottom"),10),w.width=t,w.height=e,w.size=w.isHorizontal()?w.width:w.height)},w.updateSlidesSize=function(){w.slides=w.wrapper.children("."+w.params.slideClass),w.snapGrid=[],w.slidesGrid=[],w.slidesSizesGrid=[];var t,e=w.params.spaceBetween,n=-w.params.slidesOffsetBefore,o=0,r=0;if("undefined"!=typeof w.size){var a,s;"string"==typeof e&&e.indexOf("%")>=0&&(e=parseFloat(e.replace("%",""))/100*w.size),w.virtualSize=-e,w.rtl?w.slides.css({marginLeft:"",marginTop:""}):w.slides.css({marginRight:"",marginBottom:""}),w.params.slidesPerColumn>1&&(a=Math.floor(w.slides.length/w.params.slidesPerColumn)===w.slides.length/w.params.slidesPerColumn?w.slides.length:Math.ceil(w.slides.length/w.params.slidesPerColumn)*w.params.slidesPerColumn,"auto"!==w.params.slidesPerView&&"row"===w.params.slidesPerColumnFill&&(a=Math.max(a,w.params.slidesPerView*w.params.slidesPerColumn)));var l,c=w.params.slidesPerColumn,u=a/c,d=u-(w.params.slidesPerColumn*u-w.slides.length);for(t=0;t<w.slides.length;t++){s=0;var h,f,p,m=w.slides.eq(t);if(w.params.slidesPerColumn>1)"column"===w.params.slidesPerColumnFill?(p=t-(f=Math.floor(t/c))*c,(f>d||f===d&&p===c-1)&&++p>=c&&(p=0,f++),h=f+p*a/c,m.css({"-webkit-box-ordinal-group":h,"-moz-box-ordinal-group":h,"-ms-flex-order":h,"-webkit-order":h,order:h})):f=t-(p=Math.floor(t/u))*u,m.css({"margin-top":0!==p&&w.params.spaceBetween&&w.params.spaceBetween+"px"}).attr("data-swiper-column",f).attr("data-swiper-row",p);"none"!==m.css("display")&&("auto"===w.params.slidesPerView?(s=w.isHorizontal()?m.outerWidth(!0):m.outerHeight(!0),w.params.roundLengths&&(s=i(s))):(s=(w.size-(w.params.slidesPerView-1)*e)/w.params.slidesPerView,w.params.roundLengths&&(s=i(s)),w.isHorizontal()?w.slides[t].style.width=s+"px":w.slides[t].style.height=s+"px"),w.slides[t].swiperSlideSize=s,w.slidesSizesGrid.push(s),w.params.centeredSlides?(n=n+s/2+o/2+e,0===t&&(n=n-w.size/2-e),Math.abs(n)<.001&&(n=0),r%w.params.slidesPerGroup==0&&w.snapGrid.push(n),w.slidesGrid.push(n)):(r%w.params.slidesPerGroup==0&&w.snapGrid.push(n),w.slidesGrid.push(n),n=n+s+e),w.virtualSize+=s+e,o=s,r++)}if(w.virtualSize=Math.max(w.virtualSize,w.size)+w.params.slidesOffsetAfter,w.rtl&&w.wrongRTL&&("slide"===w.params.effect||"coverflow"===w.params.effect)&&w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}),w.support.flexbox&&!w.params.setWrapperSize||(w.isHorizontal()?w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}):w.wrapper.css({height:w.virtualSize+w.params.spaceBetween+"px"})),w.params.slidesPerColumn>1&&(w.virtualSize=(s+w.params.spaceBetween)*a,w.virtualSize=Math.ceil(w.virtualSize/w.params.slidesPerColumn)-w.params.spaceBetween,w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}),w.params.centeredSlides)){for(l=[],t=0;t<w.snapGrid.length;t++)w.snapGrid[t]<w.virtualSize+w.snapGrid[0]&&l.push(w.snapGrid[t]);w.snapGrid=l}if(!w.params.centeredSlides){for(l=[],t=0;t<w.snapGrid.length;t++)w.snapGrid[t]<=w.virtualSize-w.size&&l.push(w.snapGrid[t]);w.snapGrid=l,Math.floor(w.virtualSize-w.size)-Math.floor(w.snapGrid[w.snapGrid.length-1])>1&&w.snapGrid.push(w.virtualSize-w.size)}0===w.snapGrid.length&&(w.snapGrid=[0]),0!==w.params.spaceBetween&&(w.isHorizontal()?w.rtl?w.slides.css({marginLeft:e+"px"}):w.slides.css({marginRight:e+"px"}):w.slides.css({marginBottom:e+"px"})),w.params.watchSlidesProgress&&w.updateSlidesOffset()}},w.updateSlidesOffset=function(){for(var t=0;t<w.slides.length;t++)w.slides[t].swiperSlideOffset=w.isHorizontal()?w.slides[t].offsetLeft:w.slides[t].offsetTop},w.updateSlidesProgress=function(t){if(void 0===t&&(t=w.translate||0),0!==w.slides.length){"undefined"==typeof w.slides[0].swiperSlideOffset&&w.updateSlidesOffset();var e=-t;w.rtl&&(e=t),w.slides.removeClass(w.params.slideVisibleClass);for(var n=0;n<w.slides.length;n++){var i=w.slides[n],o=(e-i.swiperSlideOffset)/(i.swiperSlideSize+w.params.spaceBetween);if(w.params.watchSlidesVisibility){var r=-(e-i.swiperSlideOffset),a=r+w.slidesSizesGrid[n];(r>=0&&r<w.size||a>0&&a<=w.size||r<=0&&a>=w.size)&&w.slides.eq(n).addClass(w.params.slideVisibleClass)}i.progress=w.rtl?-o:o}}},w.updateProgress=function(t){void 0===t&&(t=w.translate||0);var e=w.maxTranslate()-w.minTranslate(),n=w.isBeginning,i=w.isEnd;0===e?(w.progress=0,w.isBeginning=w.isEnd=!0):(w.progress=(t-w.minTranslate())/e,w.isBeginning=w.progress<=0,w.isEnd=w.progress>=1),w.isBeginning&&!n&&w.emit("onReachBeginning",w),w.isEnd&&!i&&w.emit("onReachEnd",w),w.params.watchSlidesProgress&&w.updateSlidesProgress(t),w.emit("onProgress",w,w.progress)},w.updateActiveIndex=function(){var t,e,n,i=w.rtl?w.translate:-w.translate;for(e=0;e<w.slidesGrid.length;e++)"undefined"!=typeof w.slidesGrid[e+1]?i>=w.slidesGrid[e]&&i<w.slidesGrid[e+1]-(w.slidesGrid[e+1]-w.slidesGrid[e])/2?t=e:i>=w.slidesGrid[e]&&i<w.slidesGrid[e+1]&&(t=e+1):i>=w.slidesGrid[e]&&(t=e);(t<0||void 0===t)&&(t=0),(n=Math.floor(t/w.params.slidesPerGroup))>=w.snapGrid.length&&(n=w.snapGrid.length-1),t!==w.activeIndex&&(w.snapIndex=n,w.previousIndex=w.activeIndex,w.activeIndex=t,w.updateClasses())},w.updateClasses=function(){w.slides.removeClass(w.params.slideActiveClass+" "+w.params.slideNextClass+" "+w.params.slidePrevClass);var t=w.slides.eq(w.activeIndex);t.addClass(w.params.slideActiveClass);var n=t.next("."+w.params.slideClass).addClass(w.params.slideNextClass);w.params.loop&&0===n.length&&w.slides.eq(0).addClass(w.params.slideNextClass);var i=t.prev("."+w.params.slideClass).addClass(w.params.slidePrevClass);if(w.params.loop&&0===i.length&&w.slides.eq(-1).addClass(w.params.slidePrevClass),w.paginationContainer&&w.paginationContainer.length>0){var o,r=w.params.loop?Math.ceil((w.slides.length-2*w.loopedSlides)/w.params.slidesPerGroup):w.snapGrid.length;if(w.params.loop?((o=Math.ceil((w.activeIndex-w.loopedSlides)/w.params.slidesPerGroup))>w.slides.length-1-2*w.loopedSlides&&(o-=w.slides.length-2*w.loopedSlides),o>r-1&&(o-=r),o<0&&"bullets"!==w.params.paginationType&&(o=r+o)):o="undefined"!=typeof w.snapIndex?w.snapIndex:w.activeIndex||0,"bullets"===w.params.paginationType&&w.bullets&&w.bullets.length>0&&(w.bullets.removeClass(w.params.bulletActiveClass),w.paginationContainer.length>1?w.bullets.each(function(){e(this).index()===o&&e(this).addClass(w.params.bulletActiveClass)}):w.bullets.eq(o).addClass(w.params.bulletActiveClass)),"fraction"===w.params.paginationType&&(w.paginationContainer.find("."+w.params.paginationCurrentClass).text(o+1),w.paginationContainer.find("."+w.params.paginationTotalClass).text(r)),"progress"===w.params.paginationType){var a=(o+1)/r,s=a,l=1;w.isHorizontal()||(l=a,s=1),w.paginationContainer.find("."+w.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+s+") scaleY("+l+")").transition(w.params.speed)}"custom"===w.params.paginationType&&w.params.paginationCustomRender&&(w.paginationContainer.html(w.params.paginationCustomRender(w,o+1,r)),w.emit("onPaginationRendered",w,w.paginationContainer[0]))}w.params.loop||(w.params.prevButton&&w.prevButton&&w.prevButton.length>0&&(w.isBeginning?(w.prevButton.addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(w.prevButton)):(w.prevButton.removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(w.prevButton))),w.params.nextButton&&w.nextButton&&w.nextButton.length>0&&(w.isEnd?(w.nextButton.addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(w.nextButton)):(w.nextButton.removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(w.nextButton))))},w.updatePagination=function(){if(w.params.pagination&&w.paginationContainer&&w.paginationContainer.length>0){var t="";if("bullets"===w.params.paginationType){for(var e=w.params.loop?Math.ceil((w.slides.length-2*w.loopedSlides)/w.params.slidesPerGroup):w.snapGrid.length,n=0;n<e;n++)w.params.paginationBulletRender?t+=w.params.paginationBulletRender(n,w.params.bulletClass):t+="<"+w.params.paginationElement+' class="'+w.params.bulletClass+'"></'+w.params.paginationElement+">";w.paginationContainer.html(t),w.bullets=w.paginationContainer.find("."+w.params.bulletClass),w.params.paginationClickable&&w.params.a11y&&w.a11y&&w.a11y.initPagination()}"fraction"===w.params.paginationType&&(t=w.params.paginationFractionRender?w.params.paginationFractionRender(w,w.params.paginationCurrentClass,w.params.paginationTotalClass):'<span class="'+w.params.paginationCurrentClass+'"></span> / <span class="'+w.params.paginationTotalClass+'"></span>',w.paginationContainer.html(t)),"progress"===w.params.paginationType&&(t=w.params.paginationProgressRender?w.params.paginationProgressRender(w,w.params.paginationProgressbarClass):'<span class="'+w.params.paginationProgressbarClass+'"></span>',w.paginationContainer.html(t)),"custom"!==w.params.paginationType&&w.emit("onPaginationRendered",w,w.paginationContainer[0])}},w.update=function(t){function e(){n=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate()),w.setWrapperTranslate(n),w.updateActiveIndex(),w.updateClasses()}var n;(w.updateContainerSize(),w.updateSlidesSize(),w.updateProgress(),w.updatePagination(),w.updateClasses(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),t)?(w.controller&&w.controller.spline&&(w.controller.spline=undefined),w.params.freeMode?(e(),w.params.autoHeight&&w.updateAutoHeight()):(("auto"===w.params.slidesPerView||w.params.slidesPerView>1)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0))||e()):w.params.autoHeight&&w.updateAutoHeight()},w.onResize=function(t){w.params.breakpoints&&w.setBreakpoint();var e=w.params.allowSwipeToPrev,n=w.params.allowSwipeToNext;w.params.allowSwipeToPrev=w.params.allowSwipeToNext=!0,w.updateContainerSize(),w.updateSlidesSize(),("auto"===w.params.slidesPerView||w.params.freeMode||t)&&w.updatePagination(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),w.controller&&w.controller.spline&&(w.controller.spline=undefined);var i=!1;if(w.params.freeMode){var o=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate());w.setWrapperTranslate(o),w.updateActiveIndex(),w.updateClasses(),w.params.autoHeight&&w.updateAutoHeight()}else w.updateClasses(),i=("auto"===w.params.slidesPerView||w.params.slidesPerView>1)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0);w.params.lazyLoading&&!i&&w.lazy&&w.lazy.load(),w.params.allowSwipeToPrev=e,w.params.allowSwipeToNext=n};var x=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?x=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(x=["MSPointerDown","MSPointerMove","MSPointerUp"]),w.touchEvents={start:w.support.touch||!w.params.simulateTouch?"touchstart":x[0],move:w.support.touch||!w.params.simulateTouch?"touchmove":x[1],end:w.support.touch||!w.params.simulateTouch?"touchend":x[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===w.params.touchEventsTarget?w.container:w.wrapper).addClass("swiper-wp8-"+w.params.direction),w.initEvents=function(t){var e=t?"off":"on",i=t?"removeEventListener":"addEventListener",o="container"===w.params.touchEventsTarget?w.container[0]:w.wrapper[0],r=w.support.touch?o:document,a=!!w.params.nested;w.browser.ie?(o[i](w.touchEvents.start,w.onTouchStart,!1),r[i](w.touchEvents.move,w.onTouchMove,a),r[i](w.touchEvents.end,w.onTouchEnd,!1)):(w.support.touch&&(o[i](w.touchEvents.start,w.onTouchStart,!1),o[i](w.touchEvents.move,w.onTouchMove,a),o[i](w.touchEvents.end,w.onTouchEnd,!1)),!n.simulateTouch||w.device.ios||w.device.android||(o[i]("mousedown",w.onTouchStart,!1),document[i]("mousemove",w.onTouchMove,a),document[i]("mouseup",w.onTouchEnd,!1))),window[i]("resize",w.onResize),w.params.nextButton&&w.nextButton&&w.nextButton.length>0&&(w.nextButton[e]("click",w.onClickNext),w.params.a11y&&w.a11y&&w.nextButton[e]("keydown",w.a11y.onEnterKey)),w.params.prevButton&&w.prevButton&&w.prevButton.length>0&&(w.prevButton[e]("click",w.onClickPrev),w.params.a11y&&w.a11y&&w.prevButton[e]("keydown",w.a11y.onEnterKey)),w.params.pagination&&w.params.paginationClickable&&(w.paginationContainer[e]("click","."+w.params.bulletClass,w.onClickIndex),w.params.a11y&&w.a11y&&w.paginationContainer[e]("keydown","."+w.params.bulletClass,w.a11y.onEnterKey)),(w.params.preventClicks||w.params.preventClicksPropagation)&&o[i]("click",w.preventClicks,!0)},w.attachEvents=function(){w.initEvents()},w.detachEvents=function(){w.initEvents(!0)},w.allowClick=!0,w.preventClicks=function(t){w.allowClick||(w.params.preventClicks&&t.preventDefault(),w.params.preventClicksPropagation&&w.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))},w.onClickNext=function(t){t.preventDefault(),w.isEnd&&!w.params.loop||w.slideNext()},w.onClickPrev=function(t){t.preventDefault(),w.isBeginning&&!w.params.loop||w.slidePrev()},w.onClickIndex=function(t){t.preventDefault();var n=e(this).index()*w.params.slidesPerGroup;w.params.loop&&(n+=w.loopedSlides),w.slideTo(n)},w.updateClickedSlide=function(t){var n=s(t,"."+w.params.slideClass),i=!1;if(n)for(var o=0;o<w.slides.length;o++)w.slides[o]===n&&(i=!0);if(!n||!i)return w.clickedSlide=undefined,void(w.clickedIndex=undefined);if(w.clickedSlide=n,w.clickedIndex=e(n).index(),w.params.slideToClickedSlide&&w.clickedIndex!==undefined&&w.clickedIndex!==w.activeIndex){var r,a=w.clickedIndex;if(w.params.loop){if(w.animating)return;r=e(w.clickedSlide).attr("data-swiper-slide-index"),w.params.centeredSlides?a<w.loopedSlides-w.params.slidesPerView/2||a>w.slides.length-w.loopedSlides+w.params.slidesPerView/2?(w.fixLoop(),a=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+r+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){w.slideTo(a)},0)):w.slideTo(a):a>w.slides.length-w.params.slidesPerView?(w.fixLoop(),a=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+r+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){w.slideTo(a)},0)):w.slideTo(a)}else w.slideTo(a)}};var _,k,T,S,E,A,$,D,N,R,P,I,L="input, select, textarea, button",O=Date.now(),M=[];if(w.animating=!1,w.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},w.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),(P="touchstart"===t.type)||!("which"in t)||3!==t.which)if(w.params.noSwiping&&s(t,"."+w.params.noSwipingClass))w.allowClick=!0;else if(!w.params.swipeHandler||s(t,w.params.swipeHandler)){var n=w.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,i=w.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(w.device.ios&&w.params.iOSEdgeSwipeDetection&&n<=w.params.iOSEdgeSwipeThreshold)){if(_=!0,k=!1,T=!0,E=undefined,I=undefined,w.touches.startX=n,w.touches.startY=i,S=Date.now(),w.allowClick=!0,w.updateContainerSize(),w.swipeDirection=undefined,w.params.threshold>0&&(D=!1),"touchstart"!==t.type){var o=!0;e(t.target).is(L)&&(o=!1),document.activeElement&&e(document.activeElement).is(L)&&document.activeElement.blur(),o&&t.preventDefault()}w.emit("onTouchStart",w,t)}}},w.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!P||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return w.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(w.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(w.params.onlyExternal)return w.allowClick=!1,void(_&&(w.touches.startX=w.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,w.touches.startY=w.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,S=Date.now()));if(P&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(L))return k=!0,void(w.allowClick=!1);if(T&&w.emit("onTouchMove",w,t),!(t.targetTouches&&t.targetTouches.length>1)){if(w.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,w.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===E){var i=180*Math.atan2(Math.abs(w.touches.currentY-w.touches.startY),Math.abs(w.touches.currentX-w.touches.startX))/Math.PI;E=w.isHorizontal()?i>w.params.touchAngle:90-i>w.params.touchAngle}if(E&&w.emit("onTouchMoveOpposite",w,t),void 0===I&&w.browser.ieTouch&&(w.touches.currentX===w.touches.startX&&w.touches.currentY===w.touches.startY||(I=!0)),_)if(E)_=!1;else if(I||!w.browser.ieTouch){w.allowClick=!1,w.emit("onSliderMove",w,t),t.preventDefault(),w.params.touchMoveStopPropagation&&!w.params.nested&&t.stopPropagation(),k||(n.loop&&w.fixLoop(),$=w.getWrapperTranslate(),w.setWrapperTransition(0),w.animating&&w.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),w.params.autoplay&&w.autoplaying&&(w.params.autoplayDisableOnInteraction?w.stopAutoplay():w.pauseAutoplay()),R=!1,w.params.grabCursor&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grabbing",w.container[0].style.cursor="-moz-grabbin",w.container[0].style.cursor="grabbing")),k=!0;var o=w.touches.diff=w.isHorizontal()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY;o*=w.params.touchRatio,w.rtl&&(o=-o),w.swipeDirection=o>0?"prev":"next",A=o+$;var r=!0;if(o>0&&A>w.minTranslate()?(r=!1,w.params.resistance&&(A=w.minTranslate()-1+Math.pow(-w.minTranslate()+$+o,w.params.resistanceRatio))):o<0&&A<w.maxTranslate()&&(r=!1,w.params.resistance&&(A=w.maxTranslate()+1-Math.pow(w.maxTranslate()-$-o,w.params.resistanceRatio))),r&&(t.preventedByNestedSwiper=!0),!w.params.allowSwipeToNext&&"next"===w.swipeDirection&&A<$&&(A=$),!w.params.allowSwipeToPrev&&"prev"===w.swipeDirection&&A>$&&(A=$),w.params.followFinger){if(w.params.threshold>0){if(!(Math.abs(o)>w.params.threshold||D))return void(A=$);if(!D)return D=!0,w.touches.startX=w.touches.currentX,w.touches.startY=w.touches.currentY,A=$,void(w.touches.diff=w.isHorizontal()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY)}(w.params.freeMode||w.params.watchSlidesProgress)&&w.updateActiveIndex(),w.params.freeMode&&(0===M.length&&M.push({position:w.touches[w.isHorizontal()?"startX":"startY"],time:S}),M.push({position:w.touches[w.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),w.updateProgress(A),w.setWrapperTranslate(A)}}}}},w.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),
T&&w.emit("onTouchEnd",w,t),T=!1,_){w.params.grabCursor&&k&&_&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grab",w.container[0].style.cursor="-moz-grab",w.container[0].style.cursor="grab");var n,i=Date.now(),o=i-S;if(w.allowClick&&(w.updateClickedSlide(t),w.emit("onTap",w,t),o<300&&i-O>300&&(N&&clearTimeout(N),N=setTimeout(function(){w&&(w.params.paginationHide&&w.paginationContainer.length>0&&!e(t.target).hasClass(w.params.bulletClass)&&w.paginationContainer.toggleClass(w.params.paginationHiddenClass),w.emit("onClick",w,t))},300)),o<300&&i-O<300&&(N&&clearTimeout(N),w.emit("onDoubleTap",w,t))),O=Date.now(),setTimeout(function(){w&&(w.allowClick=!0)},0),_&&k&&w.swipeDirection&&0!==w.touches.diff&&A!==$)if(_=k=!1,n=w.params.followFinger?w.rtl?w.translate:-w.translate:-A,w.params.freeMode){if(n<-w.minTranslate())return void w.slideTo(w.activeIndex);if(n>-w.maxTranslate())return void(w.slides.length<w.snapGrid.length?w.slideTo(w.snapGrid.length-1):w.slideTo(w.slides.length-1));if(w.params.freeModeMomentum){if(M.length>1){var r=M.pop(),a=M.pop(),s=r.position-a.position,l=r.time-a.time;w.velocity=s/l,w.velocity=w.velocity/2,Math.abs(w.velocity)<w.params.freeModeMinimumVelocity&&(w.velocity=0),(l>150||(new window.Date).getTime()-r.time>300)&&(w.velocity=0)}else w.velocity=0;M.length=0;var c=1e3*w.params.freeModeMomentumRatio,u=w.velocity*c,d=w.translate+u;w.rtl&&(d=-d);var h,f=!1,p=20*Math.abs(w.velocity)*w.params.freeModeMomentumBounceRatio;if(d<w.maxTranslate())w.params.freeModeMomentumBounce?(d+w.maxTranslate()<-p&&(d=w.maxTranslate()-p),h=w.maxTranslate(),f=!0,R=!0):d=w.maxTranslate();else if(d>w.minTranslate())w.params.freeModeMomentumBounce?(d-w.minTranslate()>p&&(d=w.minTranslate()+p),h=w.minTranslate(),f=!0,R=!0):d=w.minTranslate();else if(w.params.freeModeSticky){var m,g=0;for(g=0;g<w.snapGrid.length;g+=1)if(w.snapGrid[g]>-d){m=g;break}d=Math.abs(w.snapGrid[m]-d)<Math.abs(w.snapGrid[m-1]-d)||"next"===w.swipeDirection?w.snapGrid[m]:w.snapGrid[m-1],w.rtl||(d=-d)}if(0!==w.velocity)c=w.rtl?Math.abs((-d-w.translate)/w.velocity):Math.abs((d-w.translate)/w.velocity);else if(w.params.freeModeSticky)return void w.slideReset();w.params.freeModeMomentumBounce&&f?(w.updateProgress(h),w.setWrapperTransition(c),w.setWrapperTranslate(d),w.onTransitionStart(),w.animating=!0,w.wrapper.transitionEnd(function(){w&&R&&(w.emit("onMomentumBounce",w),w.setWrapperTransition(w.params.speed),w.setWrapperTranslate(h),w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))})):w.velocity?(w.updateProgress(d),w.setWrapperTransition(c),w.setWrapperTranslate(d),w.onTransitionStart(),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))):w.updateProgress(d),w.updateActiveIndex()}(!w.params.freeModeMomentum||o>=w.params.longSwipesMs)&&(w.updateProgress(),w.updateActiveIndex())}else{var v,y=0,b=w.slidesSizesGrid[0];for(v=0;v<w.slidesGrid.length;v+=w.params.slidesPerGroup)"undefined"!=typeof w.slidesGrid[v+w.params.slidesPerGroup]?n>=w.slidesGrid[v]&&n<w.slidesGrid[v+w.params.slidesPerGroup]&&(y=v,b=w.slidesGrid[v+w.params.slidesPerGroup]-w.slidesGrid[v]):n>=w.slidesGrid[v]&&(y=v,b=w.slidesGrid[w.slidesGrid.length-1]-w.slidesGrid[w.slidesGrid.length-2]);var C=(n-w.slidesGrid[y])/b;if(o>w.params.longSwipesMs){if(!w.params.longSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&(C>=w.params.longSwipesRatio?w.slideTo(y+w.params.slidesPerGroup):w.slideTo(y)),"prev"===w.swipeDirection&&(C>1-w.params.longSwipesRatio?w.slideTo(y+w.params.slidesPerGroup):w.slideTo(y))}else{if(!w.params.shortSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&w.slideTo(y+w.params.slidesPerGroup),"prev"===w.swipeDirection&&w.slideTo(y)}}else _=k=!1}},w._slideTo=function(t,e){return w.slideTo(t,e,!0,!0)},w.slideTo=function(t,e,n,i){void 0===n&&(n=!0),void 0===t&&(t=0),t<0&&(t=0),w.snapIndex=Math.floor(t/w.params.slidesPerGroup),w.snapIndex>=w.snapGrid.length&&(w.snapIndex=w.snapGrid.length-1);var o=-w.snapGrid[w.snapIndex];w.params.autoplay&&w.autoplaying&&(i||!w.params.autoplayDisableOnInteraction?w.pauseAutoplay(e):w.stopAutoplay()),w.updateProgress(o);for(var r=0;r<w.slidesGrid.length;r++)-Math.floor(100*o)>=Math.floor(100*w.slidesGrid[r])&&(t=r);return!(!w.params.allowSwipeToNext&&o<w.translate&&o<w.minTranslate())&&(!(!w.params.allowSwipeToPrev&&o>w.translate&&o>w.maxTranslate()&&(w.activeIndex||0)!==t)&&(void 0===e&&(e=w.params.speed),w.previousIndex=w.activeIndex||0,w.activeIndex=t,w.rtl&&-o===w.translate||!w.rtl&&o===w.translate?(w.params.autoHeight&&w.updateAutoHeight(),w.updateClasses(),"slide"!==w.params.effect&&w.setWrapperTranslate(o),!1):(w.updateClasses(),w.onTransitionStart(n),0===e?(w.setWrapperTranslate(o),w.setWrapperTransition(0),w.onTransitionEnd(n)):(w.setWrapperTranslate(o),w.setWrapperTransition(e),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd(n)}))),!0)))},w.onTransitionStart=function(t){void 0===t&&(t=!0),w.params.autoHeight&&w.updateAutoHeight(),w.lazy&&w.lazy.onTransitionStart(),t&&(w.emit("onTransitionStart",w),w.activeIndex!==w.previousIndex&&(w.emit("onSlideChangeStart",w),w.activeIndex>w.previousIndex?w.emit("onSlideNextStart",w):w.emit("onSlidePrevStart",w)))},w.onTransitionEnd=function(t){w.animating=!1,w.setWrapperTransition(0),void 0===t&&(t=!0),w.lazy&&w.lazy.onTransitionEnd(),t&&(w.emit("onTransitionEnd",w),w.activeIndex!==w.previousIndex&&(w.emit("onSlideChangeEnd",w),w.activeIndex>w.previousIndex?w.emit("onSlideNextEnd",w):w.emit("onSlidePrevEnd",w))),w.params.hashnav&&w.hashnav&&w.hashnav.setHash()},w.slideNext=function(t,e,n){if(w.params.loop){if(w.animating)return!1;w.fixLoop();w.container[0].clientLeft;return w.slideTo(w.activeIndex+w.params.slidesPerGroup,e,t,n)}return w.slideTo(w.activeIndex+w.params.slidesPerGroup,e,t,n)},w._slideNext=function(t){return w.slideNext(!0,t,!0)},w.slidePrev=function(t,e,n){if(w.params.loop){if(w.animating)return!1;w.fixLoop();w.container[0].clientLeft;return w.slideTo(w.activeIndex-1,e,t,n)}return w.slideTo(w.activeIndex-1,e,t,n)},w._slidePrev=function(t){return w.slidePrev(!0,t,!0)},w.slideReset=function(t,e){return w.slideTo(w.activeIndex,e,t)},w.setWrapperTransition=function(t,e){w.wrapper.transition(t),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTransition(t),w.params.parallax&&w.parallax&&w.parallax.setTransition(t),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTransition(t),w.params.control&&w.controller&&w.controller.setTransition(t,e),w.emit("onSetTransition",w,t)},w.setWrapperTranslate=function(t,e,n){var o=0,r=0,a=0;w.isHorizontal()?o=w.rtl?-t:t:r=t,w.params.roundLengths&&(o=i(o),r=i(r)),w.params.virtualTranslate||(w.support.transforms3d?w.wrapper.transform("translate3d("+o+"px, "+r+"px, "+a+"px)"):w.wrapper.transform("translate("+o+"px, "+r+"px)")),w.translate=w.isHorizontal()?o:r;var s=w.maxTranslate()-w.minTranslate();(0===s?0:(t-w.minTranslate())/s)!==w.progress&&w.updateProgress(t),e&&w.updateActiveIndex(),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTranslate(w.translate),w.params.parallax&&w.parallax&&w.parallax.setTranslate(w.translate),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTranslate(w.translate),w.params.control&&w.controller&&w.controller.setTranslate(w.translate,n),w.emit("onSetTranslate",w,w.translate)},w.getTranslate=function(t,e){var n,i,o,r;return void 0===e&&(e="x"),w.params.virtualTranslate?w.rtl?-w.translate:w.translate:(o=window.getComputedStyle(t,null),window.WebKitCSSMatrix?((i=o.transform||o.webkitTransform).split(",").length>6&&(i=i.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),r=new window.WebKitCSSMatrix("none"===i?"":i)):n=(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(i=window.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(i=window.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),w.rtl&&i&&(i=-i),i||0)},w.getWrapperTranslate=function(t){return void 0===t&&(t=w.isHorizontal()?"x":"y"),w.getTranslate(w.wrapper[0],t)},w.observers=[],w.initObservers=function(){if(w.params.observeParents)for(var t=w.container.parents(),e=0;e<t.length;e++)l(t[e]);l(w.container[0],{childList:!1}),l(w.wrapper[0],{attributes:!1})},w.disconnectObservers=function(){for(var t=0;t<w.observers.length;t++)w.observers[t].disconnect();w.observers=[]},w.createLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove();var t=w.wrapper.children("."+w.params.slideClass);"auto"!==w.params.slidesPerView||w.params.loopedSlides||(w.params.loopedSlides=t.length),w.loopedSlides=parseInt(w.params.loopedSlides||w.params.slidesPerView,10),w.loopedSlides=w.loopedSlides+w.params.loopAdditionalSlides,w.loopedSlides>t.length&&(w.loopedSlides=t.length);var n,i=[],o=[];for(t.each(function(n,r){var a=e(this);n<w.loopedSlides&&o.push(r),n<t.length&&n>=t.length-w.loopedSlides&&i.push(r),a.attr("data-swiper-slide-index",n)}),n=0;n<o.length;n++)w.wrapper.append(e(o[n].cloneNode(!0)).addClass(w.params.slideDuplicateClass));for(n=i.length-1;n>=0;n--)w.wrapper.prepend(e(i[n].cloneNode(!0)).addClass(w.params.slideDuplicateClass))},w.destroyLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove(),w.slides.removeAttr("data-swiper-slide-index")},w.reLoop=function(t){var e=w.activeIndex-w.loopedSlides;w.destroyLoop(),w.createLoop(),w.updateSlidesSize(),t&&w.slideTo(e+w.loopedSlides,0,!1)},w.fixLoop=function(){var t;w.activeIndex<w.loopedSlides?(t=w.slides.length-3*w.loopedSlides+w.activeIndex,t+=w.loopedSlides,w.slideTo(t,0,!1,!0)):("auto"===w.params.slidesPerView&&w.activeIndex>=2*w.loopedSlides||w.activeIndex>w.slides.length-2*w.params.slidesPerView)&&(t=-w.slides.length+w.activeIndex+w.loopedSlides,t+=w.loopedSlides,w.slideTo(t,0,!1,!0))},w.appendSlide=function(t){if(w.params.loop&&w.destroyLoop(),"object"==typeof t&&t.length)for(var e=0;e<t.length;e++)t[e]&&w.wrapper.append(t[e]);else w.wrapper.append(t);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0)},w.prependSlide=function(t){w.params.loop&&w.destroyLoop();var e=w.activeIndex+1;if("object"==typeof t&&t.length){for(var n=0;n<t.length;n++)t[n]&&w.wrapper.prepend(t[n]);e=w.activeIndex+t.length}else w.wrapper.prepend(t);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.slideTo(e,0,!1)},w.removeSlide=function(t){w.params.loop&&(w.destroyLoop(),w.slides=w.wrapper.children("."+w.params.slideClass));var e,n=w.activeIndex;if("object"==typeof t&&t.length){for(var i=0;i<t.length;i++)e=t[i],w.slides[e]&&w.slides.eq(e).remove(),e<n&&n--;n=Math.max(n,0)}else e=t,w.slides[e]&&w.slides.eq(e).remove(),e<n&&n--,n=Math.max(n,0);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.params.loop?w.slideTo(n+w.loopedSlides,0,!1):w.slideTo(n,0,!1)},w.removeAllSlides=function(){for(var t=[],e=0;e<w.slides.length;e++)t.push(e);w.removeSlide(t)},w.effects={fade:{setTranslate:function(){for(var t=0;t<w.slides.length;t++){var e=w.slides.eq(t),n=-e[0].swiperSlideOffset;w.params.virtualTranslate||(n-=w.translate);var i=0;w.isHorizontal()||(i=n,n=0);var o=w.params.fade.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);e.css({opacity:o}).transform("translate3d("+n+"px, "+i+"px, 0px)")}},setTransition:function(t){if(w.slides.transition(t),w.params.virtualTranslate&&0!==t){var e=!1;w.slides.transitionEnd(function(){if(!e&&w){e=!0,w.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<t.length;n++)w.wrapper.trigger(t[n])}})}}},flip:{setTranslate:function(){for(var t=0;t<w.slides.length;t++){var n=w.slides.eq(t),i=n[0].progress;w.params.flip.limitRotation&&(i=Math.max(Math.min(n[0].progress,1),-1));var o=-180*i,r=0,a=-n[0].swiperSlideOffset,s=0;if(w.isHorizontal()?w.rtl&&(o=-o):(s=a,a=0,r=-o,o=0),n[0].style.zIndex=-Math.abs(Math.round(i))+w.slides.length,w.params.flip.slideShadows){var l=w.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),c=w.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===l.length&&(l=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),n.append(l)),0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),n.append(c)),l.length&&(l[0].style.opacity=Math.max(-i,0)),c.length&&(c[0].style.opacity=Math.max(i,0))}n.transform("translate3d("+a+"px, "+s+"px, 0px) rotateX("+r+"deg) rotateY("+o+"deg)")}},setTransition:function(t){if(w.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),w.params.virtualTranslate&&0!==t){var n=!1;w.slides.eq(w.activeIndex).transitionEnd(function(){if(!n&&w&&e(this).hasClass(w.params.slideActiveClass)){n=!0,w.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<t.length;i++)w.wrapper.trigger(t[i])}})}}},cube:{setTranslate:function(){var t,n=0;w.params.cube.shadow&&(w.isHorizontal()?(0===(t=w.wrapper.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),w.wrapper.append(t)),t.css({height:w.width+"px"})):0===(t=w.container.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),w.container.append(t)));for(var i=0;i<w.slides.length;i++){var o=w.slides.eq(i),r=90*i,a=Math.floor(r/360);w.rtl&&(r=-r,a=Math.floor(-r/360));var s=Math.max(Math.min(o[0].progress,1),-1),l=0,c=0,u=0;i%4==0?(l=4*-a*w.size,u=0):(i-1)%4==0?(l=0,u=4*-a*w.size):(i-2)%4==0?(l=w.size+4*a*w.size,u=w.size):(i-3)%4==0&&(l=-w.size,u=3*w.size+4*w.size*a),w.rtl&&(l=-l),w.isHorizontal()||(c=l,l=0);var d="rotateX("+(w.isHorizontal()?0:-r)+"deg) rotateY("+(w.isHorizontal()?r:0)+"deg) translate3d("+l+"px, "+c+"px, "+u+"px)";if(s<=1&&s>-1&&(n=90*i+90*s,w.rtl&&(n=90*-i-90*s)),o.transform(d),w.params.cube.slideShadows){var h=w.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),f=w.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom");0===h.length&&(h=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),o.append(h)),0===f.length&&(f=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),o.append(f)),h.length&&(h[0].style.opacity=Math.max(-s,0)),f.length&&(f[0].style.opacity=Math.max(s,0))}}if(w.wrapper.css({"-webkit-transform-origin":"50% 50% -"+w.size/2+"px","-moz-transform-origin":"50% 50% -"+w.size/2+"px","-ms-transform-origin":"50% 50% -"+w.size/2+"px","transform-origin":"50% 50% -"+w.size/2+"px"}),w.params.cube.shadow)if(w.isHorizontal())t.transform("translate3d(0px, "+(w.width/2+w.params.cube.shadowOffset)+"px, "+-w.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+w.params.cube.shadowScale+")");else{var p=Math.abs(n)-90*Math.floor(Math.abs(n)/90),m=1.5-(Math.sin(2*p*Math.PI/360)/2+Math.cos(2*p*Math.PI/360)/2),g=w.params.cube.shadowScale,v=w.params.cube.shadowScale/m,y=w.params.cube.shadowOffset;t.transform("scale3d("+g+", 1, "+v+") translate3d(0px, "+(w.height/2+y)+"px, "+-w.height/2/v+"px) rotateX(-90deg)")}var b=w.isSafari||w.isUiWebView?-w.size/2:0;w.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(w.isHorizontal()?0:n)+"deg) rotateY("+(w.isHorizontal()?-n:0)+"deg)")},setTransition:function(t){w.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),w.params.cube.shadow&&!w.isHorizontal()&&w.container.find(".swiper-cube-shadow").transition(t)}},coverflow:{setTranslate:function(){for(var t=w.translate,n=w.isHorizontal()?-t+w.width/2:-t+w.height/2,i=w.isHorizontal()?w.params.coverflow.rotate:-w.params.coverflow.rotate,o=w.params.coverflow.depth,r=0,a=w.slides.length;r<a;r++){var s=w.slides.eq(r),l=w.slidesSizesGrid[r],c=(n-s[0].swiperSlideOffset-l/2)/l*w.params.coverflow.modifier,u=w.isHorizontal()?i*c:0,d=w.isHorizontal()?0:i*c,h=-o*Math.abs(c),f=w.isHorizontal()?0:w.params.coverflow.stretch*c,p=w.isHorizontal()?w.params.coverflow.stretch*c:0;Math.abs(p)<.001&&(p=0),Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(u)<.001&&(u=0),Math.abs(d)<.001&&(d=0);var m="translate3d("+p+"px,"+f+"px,"+h+"px)  rotateX("+d+"deg) rotateY("+u+"deg)";if(s.transform(m),s[0].style.zIndex=1-Math.abs(Math.round(c)),w.params.coverflow.slideShadows){var g=w.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),v=w.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===g.length&&(g=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),s.append(g)),0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),s.append(v)),g.length&&(g[0].style.opacity=c>0?c:0),v.length&&(v[0].style.opacity=-c>0?-c:0)}}w.browser.ie&&(w.wrapper[0].style.perspectiveOrigin=n+"px 50%")},setTransition:function(t){w.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}}},w.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,n){if(void 0!==t&&(void 0===n&&(n=!0),0!==w.slides.length)){var i=w.slides.eq(t),o=i.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!i.hasClass("swiper-lazy")||i.hasClass("swiper-lazy-loaded")||i.hasClass("swiper-lazy-loading")||(o=o.add(i[0])),0!==o.length&&o.each(function(){var t=e(this);t.addClass("swiper-lazy-loading");var o=t.attr("data-background"),r=t.attr("data-src"),a=t.attr("data-srcset");w.loadImage(t[0],r||o,a,!1,function(){if(o?(t.css("background-image",'url("'+o+'")'),t.removeAttr("data-background")):(a&&(t.attr("srcset",a),t.removeAttr("data-srcset")),r&&(t.attr("src",r),t.removeAttr("data-src"))),t.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),i.find(".swiper-lazy-preloader, .preloader").remove(),w.params.loop&&n){var e=i.attr("data-swiper-slide-index");if(i.hasClass(w.params.slideDuplicateClass)){var s=w.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+w.params.slideDuplicateClass+")");w.lazy.loadImageInSlide(s.index(),!1)}else{var l=w.wrapper.children("."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');w.lazy.loadImageInSlide(l.index(),!1)}}w.emit("onLazyImageReady",w,i[0],t[0])}),w.emit("onLazyImageLoad",w,i[0],t[0])})}},load:function(){var t;if(w.params.watchSlidesVisibility)w.wrapper.children("."+w.params.slideVisibleClass).each(function(){w.lazy.loadImageInSlide(e(this).index())});else if(w.params.slidesPerView>1)for(t=w.activeIndex;t<w.activeIndex+w.params.slidesPerView;t++)w.slides[t]&&w.lazy.loadImageInSlide(t);else w.lazy.loadImageInSlide(w.activeIndex);if(w.params.lazyLoadingInPrevNext)if(w.params.slidesPerView>1||w.params.lazyLoadingInPrevNextAmount&&w.params.lazyLoadingInPrevNextAmount>1){var n=w.params.lazyLoadingInPrevNextAmount,i=w.params.slidesPerView,o=Math.min(w.activeIndex+i+Math.max(n,i),w.slides.length),r=Math.max(w.activeIndex-Math.max(i,n),0);for(t=w.activeIndex+w.params.slidesPerView;t<o;t++)w.slides[t]&&w.lazy.loadImageInSlide(t);for(t=r;t<w.activeIndex;t++)w.slides[t]&&w.lazy.loadImageInSlide(t)}else{var a=w.wrapper.children("."+w.params.slideNextClass);a.length>0&&w.lazy.loadImageInSlide(a.index());var s=w.wrapper.children("."+w.params.slidePrevClass);s.length>0&&w.lazy.loadImageInSlide(s.index())}},onTransitionStart:function(){w.params.lazyLoading&&(w.params.lazyLoadingOnTransitionStart||!w.params.lazyLoadingOnTransitionStart&&!w.lazy.initialImageLoaded)&&w.lazy.load()},onTransitionEnd:function(){w.params.lazyLoading&&!w.params.lazyLoadingOnTransitionStart&&w.lazy.load()}},w.scrollbar={isTouched:!1,setDragPosition:function(t){var e=w.scrollbar,n=(w.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY)-e.track.offset()[w.isHorizontal()?"left":"top"]-e.dragSize/2,i=-w.minTranslate()*e.moveDivider,o=-w.maxTranslate()*e.moveDivider;n<i?n=i:n>o&&(n=o),n=-n/e.moveDivider,w.updateProgress(n),w.setWrapperTranslate(n,!0)},dragStart:function(t){var e=w.scrollbar;e.isTouched=!0,t.preventDefault(),t.stopPropagation(),e.setDragPosition(t),clearTimeout(e.dragTimeout),e.track.transition(0),w.params.scrollbarHide&&e.track.css("opacity",1),w.wrapper.transition(100),e.drag.transition(100),w.emit("onScrollbarDragStart",w)},dragMove:function(t){var e=w.scrollbar;e.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),w.wrapper.transition(0),e.track.transition(0),e.drag.transition(0),w.emit("onScrollbarDragMove",w))},dragEnd:function(){var t=w.scrollbar;t.isTouched&&(t.isTouched=!1,w.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),w.emit("onScrollbarDragEnd",w),w.params.scrollbarSnapOnRelease&&w.slideReset())},enableDraggable:function(){var t=w.scrollbar,n=w.support.touch?t.track:document;e(t.track).on(w.touchEvents.start,t.dragStart),e(n).on(w.touchEvents.move,t.dragMove),e(n).on(w.touchEvents.end,t.dragEnd)},disableDraggable:function(){var t=w.scrollbar,n=w.support.touch?t.track:document;e(t.track).off(w.touchEvents.start,t.dragStart),e(n).off(w.touchEvents.move,t.dragMove),e(n).off(w.touchEvents.end,t.dragEnd)},set:function(){if(w.params.scrollbar){var t=w.scrollbar;t.track=e(w.params.scrollbar),w.params.uniqueNavElements&&"string"==typeof w.params.scrollbar&&t.track.length>1&&1===w.container.find(w.params.scrollbar).length&&(t.track=w.container.find(w.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=w.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=w.size/w.virtualSize,t.moveDivider=t.divider*(t.trackSize/w.size),t.dragSize=t.trackSize*t.divider,w.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",w.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(w.params.scrollbar){var t,e=w.scrollbar,n=(w.translate,e.dragSize);t=(e.trackSize-e.dragSize)*w.progress,w.rtl&&w.isHorizontal()?(t=-t)>0?(n=e.dragSize-t,t=0):-t+e.dragSize>e.trackSize&&(n=e.trackSize+t):t<0?(n=e.dragSize+t,t=0):t+e.dragSize>e.trackSize&&(n=e.trackSize-t),w.isHorizontal()?(w.support.transforms3d?e.drag.transform("translate3d("+t+"px, 0, 0)"):e.drag.transform("translateX("+t+"px)"),e.drag[0].style.width=n+"px"):(w.support.transforms3d?e.drag.transform("translate3d(0px, "+t+"px, 0)"):e.drag.transform("translateY("+t+"px)"),e.drag[0].style.height=n+"px"),w.params.scrollbarHide&&(clearTimeout(e.timeout),e.track[0].style.opacity=1,e.timeout=setTimeout(function(){e.track[0].style.opacity=0,e.track.transition(400)},1e3))}},setTransition:function(t){w.params.scrollbar&&w.scrollbar.drag.transition(t)}},w.controller={LinearSpline:function(t,e){var n,i;this.x=t,this.y=e,this.lastIndex=t.length-1;this.x.length;this.interpolate=function(t){return t?(i=s(this.x,t),n=i-1,(t-this.x[n])*(this.y[i]-this.y[n])/(this.x[i]-this.x[n])+this.y[n]):0};var o,r,a,s=function(t,e){for(r=-1,o=t.length;o-r>1;)t[a=o+r>>1]<=e?r=a:o=a;return o}},getInterpolateFunction:function(t){w.controller.spline||(w.controller.spline=w.params.loop?new w.controller.LinearSpline(w.slidesGrid,t.slidesGrid):new w.controller.LinearSpline(w.snapGrid,t.snapGrid))},setTranslate:function(t,e){function n(e){t=e.rtl&&"horizontal"===e.params.direction?-w.translate:w.translate,"slide"===w.params.controlBy&&(w.controller.getInterpolateFunction(e),r=-w.controller.spline.interpolate(-t)),r&&"container"!==w.params.controlBy||(i=(e.maxTranslate()-e.minTranslate())/(w.maxTranslate()-w.minTranslate()),r=(t-w.minTranslate())*i+e.minTranslate()),w.params.controlInverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setWrapperTranslate(r,!1,w),e.updateActiveIndex()}var i,r,a=w.params.control;if(w.isArray(a))for(var s=0;s<a.length;s++)a[s]!==e&&a[s]instanceof o&&n(a[s]);else a instanceof o&&e!==a&&n(a)},setTransition:function(t,e){function n(e){e.setWrapperTransition(t,w),0!==t&&(e.onTransitionStart(),e.wrapper.transitionEnd(function(){r&&(e.params.loop&&"slide"===w.params.controlBy&&e.fixLoop(),e.onTransitionEnd())}))}var i,r=w.params.control;if(w.isArray(r))for(i=0;i<r.length;i++)r[i]!==e&&r[i]instanceof o&&n(r[i]);else r instanceof o&&e!==r&&n(r)}},w.hashnav={init:function(){if(w.params.hashnav){w.hashnav.initialized=!0;var t=document.location.hash.replace("#","");if(t)for(var e=0,n=0,i=w.slides.length;n<i;n++){var o=w.slides.eq(n);if(o.attr("data-hash")===t&&!o.hasClass(w.params.slideDuplicateClass)){var r=o.index();w.slideTo(r,e,w.params.runCallbacksOnInit,!0)}}}},setHash:function(){w.hashnav.initialized&&w.params.hashnav&&(document.location.hash=w.slides.eq(w.activeIndex).attr("data-hash")||"")}},w.disableKeyboardControl=function(){w.params.keyboardControl=!1,e(document).off("keydown",c)},w.enableKeyboardControl=function(){w.params.keyboardControl=!0,e(document).on("keydown",c)},w.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},w.params.mousewheelControl){try{new window.WheelEvent("wheel"),w.mousewheel.event="wheel"}catch(F){(window.WheelEvent||w.container[0]&&"wheel"in w.container[0])&&(w.mousewheel.event="wheel")}!w.mousewheel.event&&window.WheelEvent,w.mousewheel.event||document.onmousewheel===undefined||(w.mousewheel.event="mousewheel"),w.mousewheel.event||(w.mousewheel.event="DOMMouseScroll")}for(var B in w.disableMousewheelControl=function(){return!!w.mousewheel.event&&(w.container.off(w.mousewheel.event,u),!0)},w.enableMousewheelControl=function(){return!!w.mousewheel.event&&(w.container.on(w.mousewheel.event,u),!0)},w.parallax={setTranslate:function(){w.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,w.progress)}),w.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,Math.min(Math.max(t[0].progress,-1),1))})})},setTransition:function(t){void 0===t&&(t=w.params.speed),w.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=e(this),i=parseInt(n.attr("data-swiper-parallax-duration"),10)||t;0===t&&(i=0),n.transition(i)})}},w._plugins=[],w.plugins){var H=w.plugins[B](w,w.params[B]);H&&w._plugins.push(H)}return w.callPlugins=function(t){for(var e=0;e<w._plugins.length;e++)t in w._plugins[e]&&w._plugins[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},w.emitterEventListeners={},w.emit=function(t){var e;if(w.params[t]&&w.params[t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),w.emitterEventListeners[t])for(e=0;e<w.emitterEventListeners[t].length;e++)w.emitterEventListeners[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);w.callPlugins&&w.callPlugins(t,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},w.on=function(t,e){return t=h(t),w.emitterEventListeners[t]||(w.emitterEventListeners[t]=[]),w.emitterEventListeners[t].push(e),w},w.off=function(t,e){var n;if(t=h(t),void 0===e)return w.emitterEventListeners[t]=[],w;if(w.emitterEventListeners[t]&&0!==w.emitterEventListeners[t].length){for(n=0;n<w.emitterEventListeners[t].length;n++)w.emitterEventListeners[t][n]===e&&w.emitterEventListeners[t].splice(n,1);return w}},w.once=function(t,e){t=h(t);var n=function(){e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),w.off(t,n)};return w.on(t,n),w},w.a11y={makeFocusable:function(t){return t.attr("tabIndex","0"),t},addRole:function(t,e){return t.attr("role",e),t},addLabel:function(t,e){return t.attr("aria-label",e),t},disable:function(t){return t.attr("aria-disabled",!0),t},enable:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(w.params.nextButton)?(w.onClickNext(t),w.isEnd?w.a11y.notify(w.params.lastSlideMessage):w.a11y.notify(w.params.nextSlideMessage)):e(t.target).is(w.params.prevButton)&&(w.onClickPrev(t),w.isBeginning?w.a11y.notify(w.params.firstSlideMessage):w.a11y.notify(w.params.prevSlideMessage)),e(t.target).is("."+w.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(t){var e=w.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},init:function(){w.params.nextButton&&w.nextButton&&w.nextButton.length>0&&(w.a11y.makeFocusable(w.nextButton),w.a11y.addRole(w.nextButton,"button"),w.a11y.addLabel(w.nextButton,w.params.nextSlideMessage)),w.params.prevButton&&w.prevButton&&w.prevButton.length>0&&(w.a11y.makeFocusable(w.prevButton),w.a11y.addRole(w.prevButton,"button"),w.a11y.addLabel(w.prevButton,w.params.prevSlideMessage)),e(w.container).append(w.a11y.liveRegion)},initPagination:function(){w.params.pagination&&w.params.paginationClickable&&w.bullets&&w.bullets.length&&w.bullets.each(function(){var t=e(this);w.a11y.makeFocusable(t),w.a11y.addRole(t,"button"),w.a11y.addLabel(t,w.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){w.a11y.liveRegion&&w.a11y.liveRegion.length>0&&w.a11y.liveRegion.remove()}},w.init=function(){w.params.loop&&w.createLoop(),w.updateContainerSize(),w.updateSlidesSize(),w.updatePagination(),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.set(),w.params.scrollbarDraggable&&w.scrollbar.enableDraggable()),"slide"!==w.params.effect&&w.effects[w.params.effect]&&(w.params.loop||w.updateProgress(),w.effects[w.params.effect].setTranslate()),w.params.loop?w.slideTo(w.params.initialSlide+w.loopedSlides,0,w.params.runCallbacksOnInit):(w.slideTo(w.params.initialSlide,0,w.params.runCallbacksOnInit),0===w.params.initialSlide&&(w.parallax&&w.params.parallax&&w.parallax.setTranslate(),w.lazy&&w.params.lazyLoading&&(w.lazy.load(),w.lazy.initialImageLoaded=!0))),w.attachEvents(),w.params.observer&&w.support.observer&&w.initObservers(),w.params.preloadImages&&!w.params.lazyLoading&&w.preloadImages(),w.params.autoplay&&w.startAutoplay(),w.params.keyboardControl&&w.enableKeyboardControl&&w.enableKeyboardControl(),w.params.mousewheelControl&&w.enableMousewheelControl&&w.enableMousewheelControl(),w.params.hashnav&&w.hashnav&&w.hashnav.init(),w.params.a11y&&w.a11y&&w.a11y.init(),w.emit("onInit",w)},w.cleanupStyles=function(){w.container.removeClass(w.classNames.join(" ")).removeAttr("style"),w.wrapper.removeAttr("style"),w.slides&&w.slides.length&&w.slides.removeClass([w.params.slideVisibleClass,w.params.slideActiveClass,w.params.slideNextClass,w.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),w.paginationContainer&&w.paginationContainer.length&&w.paginationContainer.removeClass(w.params.paginationHiddenClass),w.bullets&&w.bullets.length&&w.bullets.removeClass(w.params.bulletActiveClass),w.params.prevButton&&e(w.params.prevButton).removeClass(w.params.buttonDisabledClass),w.params.nextButton&&e(w.params.nextButton).removeClass(w.params.buttonDisabledClass),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.track&&w.scrollbar.track.length&&w.scrollbar.track.removeAttr("style"),w.scrollbar.drag&&w.scrollbar.drag.length&&w.scrollbar.drag.removeAttr("style"))},w.destroy=function(t,e){w.detachEvents(),w.stopAutoplay(),w.params.scrollbar&&w.scrollbar&&w.params.scrollbarDraggable&&w.scrollbar.disableDraggable(),w.params.loop&&w.destroyLoop(),e&&w.cleanupStyles(),w.disconnectObservers(),w.params.keyboardControl&&w.disableKeyboardControl&&w.disableKeyboardControl(),w.params.mousewheelControl&&w.disableMousewheelControl&&w.disableMousewheelControl(),w.params.a11y&&w.a11y&&w.a11y.destroy(),w.emit("onDestroy"),!1!==t&&(w=null)},w.init(),w}};o.prototype={isSafari:(i=navigator.userAgent.toLowerCase(),i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(t){
return"[object Array]"===Object.prototype.toString.apply(t)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var t=navigator.userAgent,e=t.match(/(Android);?[\s\/]+([\d.]+)?/),n=t.match(/(iPad).*OS\s([\d_]+)/),i=t.match(/(iPod)(.*OS\s([\d_]+))?/),o=!n&&t.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||o||i,android:e}}(),support:{touch:window.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||(n=document.createElement("div").style,"webkitPerspective"in n||"MozPerspective"in n||"OPerspective"in n||"MsPerspective"in n||"perspective"in n),flexbox:function(){for(var t=document.createElement("div").style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<e.length;n++)if(e[n]in t)return!0}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window},plugins:{}};for(var r,a=function(){var t=function(t){var e=this,n=0;for(n=0;n<t.length;n++)e[n]=t[n];return e.length=t.length,this},e=function(e,n){var i=[],o=0;if(e&&!n&&e instanceof t)return e;if(e)if("string"==typeof e){var r,a,s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),(a=document.createElement(l)).innerHTML=e,o=0;o<a.childNodes.length;o++)i.push(a.childNodes[o])}else for(r=n||"#"!==e[0]||e.match(/[ .<>:~]/)?(n||document).querySelectorAll(e):[document.getElementById(e.split("#")[1])],o=0;o<r.length;o++)r[o]&&i.push(r[o])}else if(e.nodeType||e===window||e===document)i.push(e);else if(e.length>0&&e[0].nodeType)for(o=0;o<e.length;o++)i.push(e[o]);return new t(i)};return t.prototype={addClass:function(t){if(void 0===t)return this;for(var e=t.split(" "),n=0;n<e.length;n++)for(var i=0;i<this.length;i++)this[i].classList.add(e[n]);return this},removeClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var i=0;i<this.length;i++)this[i].classList.remove(e[n]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var i=0;i<this.length;i++)this[i].classList.toggle(e[n]);return this},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):undefined;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(t,e);else for(var i in t)this[n][i]=t[i],this[n].setAttribute(i,t[i]);return this},removeAttr:function(t){for(var e=0;e<this.length;e++)this[e].removeAttribute(t);return this},data:function(t,e){if(void 0===e){if(this[0]){var n=this[0].getAttribute("data-"+t);return n||(this[0].dom7ElementDataStorage&&t in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[t]:undefined)}return undefined}for(var i=0;i<this.length;i++){var o=this[i];o.dom7ElementDataStorage||(o.dom7ElementDataStorage={}),o.dom7ElementDataStorage[t]=e}return this},transform:function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this},on:function(t,n,i,o){function r(t){var o=t.target;if(e(o).is(n))i.call(o,t);else for(var r=e(o).parents(),a=0;a<r.length;a++)e(r[a]).is(n)&&i.call(r[a],t)}var a,s,l=t.split(" ");for(a=0;a<this.length;a++)if("function"==typeof n||!1===n)for("function"==typeof n&&(i=arguments[1],o=arguments[2]||!1),s=0;s<l.length;s++)this[a].addEventListener(l[s],i,o);else for(s=0;s<l.length;s++)this[a].dom7LiveListeners||(this[a].dom7LiveListeners=[]),this[a].dom7LiveListeners.push({listener:i,liveListener:r}),this[a].addEventListener(l[s],r,o);return this},off:function(t,e,n,i){for(var o=t.split(" "),r=0;r<o.length;r++)for(var a=0;a<this.length;a++)if("function"==typeof e||!1===e)"function"==typeof e&&(n=arguments[1],i=arguments[2]||!1),this[a].removeEventListener(o[r],n,i);else if(this[a].dom7LiveListeners)for(var s=0;s<this[a].dom7LiveListeners.length;s++)this[a].dom7LiveListeners[s].listener===n&&this[a].removeEventListener(o[r],this[a].dom7LiveListeners[s].liveListener,i);return this},once:function(t,e,n,i){function o(a){n(a),r.off(t,e,o,i)}var r=this;"function"==typeof e&&(e=!1,n=arguments[1],i=arguments[2]),r.on(t,e,o,i)},trigger:function(t,e){for(var n=0;n<this.length;n++){var i;try{i=new window.CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0})}catch(o){(i=document.createEvent("Event")).initEvent(t,!0,!0),i.detail=e}this[n].dispatchEvent(i)}return this},transitionEnd:function(t){function e(r){if(r.target===this)for(t.call(this,r),n=0;n<i.length;n++)o.off(i[n],e)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],o=this;if(t)for(n=0;n<i.length;n++)o.on(i[n],e);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(t){return this.length>0?t?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(t){return this.length>0?t?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var t=this[0],e=t.getBoundingClientRect(),n=document.body,i=t.clientTop||n.clientTop||0,o=t.clientLeft||n.clientLeft||0,r=window.pageYOffset||t.scrollTop,a=window.pageXOffset||t.scrollLeft;return{top:e.top+r-i,left:e.left+a-o}}return null},css:function(t,e){var n;if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n++)for(var i in t)this[n].style[i]=t[i];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n++)this[n].style[t]=e;return this}return this},each:function(t){for(var e=0;e<this.length;e++)t.call(this[e],e,this[e]);return this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:undefined;for(var e=0;e<this.length;e++)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e++)this[e].textContent=t;return this},is:function(n){if(!this[0])return!1;var i,o;if("string"==typeof n){var r=this[0];if(r===document)return n===document;if(r===window)return n===window;if(r.matches)return r.matches(n);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector)return r.mozMatchesSelector(n);if(r.msMatchesSelector)return r.msMatchesSelector(n);for(i=e(n),o=0;o<i.length;o++)if(i[o]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof t){for(i=n.nodeType?[n]:n,o=0;o<i.length;o++)if(i[o]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var t=this[0],e=0;null!==(t=t.previousSibling);)1===t.nodeType&&e++;return e}return undefined},eq:function(e){if(void 0===e)return this;var n,i=this.length;return new t(e>i-1?[]:e<0?(n=i+e)<0?[]:[this[n]]:[this[e]])},append:function(e){var n,i;for(n=0;n<this.length;n++)if("string"==typeof e){var o=document.createElement("div");for(o.innerHTML=e;o.firstChild;)this[n].appendChild(o.firstChild)}else if(e instanceof t)for(i=0;i<e.length;i++)this[n].appendChild(e[i]);else this[n].appendChild(e);return this},prepend:function(e){var n,i;for(n=0;n<this.length;n++)if("string"==typeof e){var o=document.createElement("div");for(o.innerHTML=e,i=o.childNodes.length-1;i>=0;i--)this[n].insertBefore(o.childNodes[i],this[n].childNodes[0])}else if(e instanceof t)for(i=0;i<e.length;i++)this[n].insertBefore(e[i],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},insertBefore:function(t){for(var n=e(t),i=0;i<this.length;i++)if(1===n.length)n[0].parentNode.insertBefore(this[i],n[0]);else if(n.length>1)for(var o=0;o<n.length;o++)n[o].parentNode.insertBefore(this[i].cloneNode(!0),n[o])},insertAfter:function(t){for(var n=e(t),i=0;i<this.length;i++)if(1===n.length)n[0].parentNode.insertBefore(this[i],n[0].nextSibling);else if(n.length>1)for(var o=0;o<n.length;o++)n[o].parentNode.insertBefore(this[i].cloneNode(!0),n[o].nextSibling)},next:function(n){return this.length>0?n?this[0].nextElementSibling&&e(this[0].nextElementSibling).is(n)?new t([this[0].nextElementSibling]):new t([]):this[0].nextElementSibling?new t([this[0].nextElementSibling]):new t([]):new t([])},nextAll:function(n){var i=[],o=this[0];if(!o)return new t([]);for(;o.nextElementSibling;){var r=o.nextElementSibling;n?e(r).is(n)&&i.push(r):i.push(r),o=r}return new t(i)},prev:function(n){return this.length>0?n?this[0].previousElementSibling&&e(this[0].previousElementSibling).is(n)?new t([this[0].previousElementSibling]):new t([]):this[0].previousElementSibling?new t([this[0].previousElementSibling]):new t([]):new t([])},prevAll:function(n){var i=[],o=this[0];if(!o)return new t([]);for(;o.previousElementSibling;){var r=o.previousElementSibling;n?e(r).is(n)&&i.push(r):i.push(r),o=r}return new t(i)},parent:function(t){for(var n=[],i=0;i<this.length;i++)t?e(this[i].parentNode).is(t)&&n.push(this[i].parentNode):n.push(this[i].parentNode);return e(e.unique(n))},parents:function(t){for(var n=[],i=0;i<this.length;i++)for(var o=this[i].parentNode;o;)t?e(o).is(t)&&n.push(o):n.push(o),o=o.parentNode;return e(e.unique(n))},find:function(e){for(var n=[],i=0;i<this.length;i++)for(var o=this[i].querySelectorAll(e),r=0;r<o.length;r++)n.push(o[r]);return new t(n)},children:function(n){for(var i=[],o=0;o<this.length;o++)for(var r=this[o].childNodes,a=0;a<r.length;a++)n?1===r[a].nodeType&&e(r[a]).is(n)&&i.push(r[a]):1===r[a].nodeType&&i.push(r[a]);return new t(e.unique(i))},remove:function(){for(var t=0;t<this.length;t++)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){var t,n,i=this;for(t=0;t<arguments.length;t++){var o=e(arguments[t]);for(n=0;n<o.length;n++)i[i.length]=o[n],i.length++}return i}},e.fn=t.prototype,e.unique=function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},e}(),s=["jQuery","Zepto","Dom7"],l=0;l<s.length;l++)window[s[l]]&&t(window[s[l]]);(r=void 0===a?window.Dom7||window.Zepto||window.jQuery:a)&&("transitionEnd"in r.fn||(r.fn.transitionEnd=function(t){function e(r){if(r.target===this)for(t.call(this,r),n=0;n<i.length;n++)o.off(i[n],e)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],o=this;if(t)for(n=0;n<i.length;n++)o.on(i[n],e);return this}),"transform"in r.fn||(r.fn.transform=function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this}),"transition"in r.fn||(r.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this})),window.Swiper=o}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){function n(n,r,s){function l(t,e,i){var o,r="$()."+n+'("'+e+'")';return t.each(function(t,l){var c=s.data(l,n);if(c){var u=c[e];if(u&&"_"!=e.charAt(0)){var d=u.apply(c,i);o=void 0===o?d:o}else a(r+" is not a valid method")}else a(n+" not initialized. Cannot call methods, i.e. "+r)}),void 0!==o?o:t}function c(t,e){t.each(function(t,i){var o=s.data(i,n);o?(o.option(e),o._init()):(o=new r(i,e),s.data(i,n,o))})}(s=s||e||t.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){s.isPlainObject(t)&&(this.options=s.extend(!0,this.options,t))}),s.fn[n]=function(t){return"string"==typeof t?l(this,t,o.call(arguments,1)):(c(this,t),this)},i(s))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var o=Array.prototype.slice,r=t.console,a=void 0===r?function(){}:function(t){r.error(t)};return i(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;c>e;e++){t[l[e]]=0}return t}function i(t){var e=getComputedStyle(t);return e||s("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!u){u=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var o=i(e);r.isBoxSizeOuter=a=200==t(o.width),n.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=i(e);if("none"==r.display)return n();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var u=s.isBorderBox="border-box"==r.boxSizing,d=0;c>d;d++){var h=l[d],f=r[h],p=parseFloat(f);s[h]=isNaN(p)?0:p}var m=s.paddingLeft+s.paddingRight,g=s.paddingTop+s.paddingBottom,v=s.marginLeft+s.marginRight,y=s.marginTop+s.marginBottom,b=s.borderLeftWidth+s.borderRightWidth,w=s.borderTopWidth+s.borderBottomWidth,C=u&&a,x=t(r.width);!1!==x&&(s.width=x+(C?0:m+b));var _=t(r.height);return!1!==_&&(s.height=_+(C?0:g+w)),s.innerWidth=s.width-(m+b),s.innerHeight=s.height-(g+w),s.outerWidth=s.width+v,s.outerHeight=s.height+y,s}}var a,s="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],c=l.length,u=!1;return r}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=0,o=n[i];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var a=r&&r[o];a&&(this.off(t,o),delete r[o]),o.apply(this,e),o=n[i+=a?0:1]}return this}},t}),function(t,e){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.Unipointer=e(t,t.EvEmitter)}(window,function(t,e){function n(){}function i(){}var o=i.prototype=Object.create(e.prototype);o.bindStartEvent=function(t){this._bindStartEvent(t,!0)},o.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},o._bindStartEvent=function(e,n){var i=(n=void 0===n||!!n)?"addEventListener":"removeEventListener";t.navigator.pointerEnabled?e[i]("pointerdown",this):t.navigator.msPointerEnabled?e[i]("MSPointerDown",this):(e[i]("mousedown",this),e[i]("touchstart",this))},o.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.getTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},o.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},o.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},o.onMSPointerDown=o.onpointerdown=function(t){this._pointerDown(t,t)},o._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},o.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return o._bindPostStartEvents=function(e){if(e){var n=r[e.type];n.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=n}},o._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},o.onmousemove=function(t){this._pointerMove(t,t)},o.onMSPointerMove=o.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},o.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},o._pointerMove=function(t,e){this.pointerMove(t,e)},o.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},o.onmouseup=function(t){this._pointerUp(t,t)},o.onMSPointerUp=o.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},o.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},o._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},o.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},o._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},o.pointerDone=n,o.onMSPointerCancel=o.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},o.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},o._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},o.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},i.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},i}),function(t,e){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("unipointer")):t.Unidragger=e(t,t.Unipointer)}(window,function(t,e){function n(){}function i(){}var o=i.prototype=Object.create(e.prototype);o.bindHandles=function(){this._bindHandles(!0)},o.unbindHandles=function(){this._bindHandles(!1)};var r=t.navigator;return o._bindHandles=function(t){var e;t=void 0===t||!!t,e=r.pointerEnabled?function(e){e.style.touchAction=t?"none":""}:r.msPointerEnabled?function(e){e.style.msTouchAction=t?"none":""}:n;for(var i=t?"addEventListener":"removeEventListener",o=0;o<this.handles.length;o++){var a=this.handles[o];this._bindStartEvent(a,t),e(a),a[i]("click",this)}},o.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var n=document.activeElement;n&&n.blur&&n.blur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])},o._dragPointerDown=function(t,n){this.pointerDownPoint=e.getPointerPoint(n),this.canPreventDefaultOnPointerDown(t,n)&&t.preventDefault()},o.canPreventDefaultOnPointerDown=function(t){return"SELECT"!=t.target.nodeName},o.pointerMove=function(t,e){var n=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,n]),this._dragMove(t,e,n)},o._dragPointerMove=function(t,n){var i=e.getPointerPoint(n),o={x:i.x-this.pointerDownPoint.x,y:i.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(o)&&this._dragStart(t,n),o},o.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},o.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},o._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},o._dragStart=function(t,n){this.isDragging=!0,this.dragStartPoint=e.getPointerPoint(n),this.isPreventingClicks=!0,this.dragStart(t,n)},o.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},o._dragMove=function(t,e,n){this.isDragging&&this.dragMove(t,e,n)},o.dragMove=function(t,e,n){t.preventDefault(),this.emitEvent("dragMove",[t,e,n])},o._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},o.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},o.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},o._staticClick=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var n=t.target.nodeName;("INPUT"==n||"TEXTAREA"==n)&&t.target.focus(),this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},o.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}),function(t,e){"function"==typeof define&&define.amd?define(["get-size/get-size","unidragger/unidragger"],function(n,i){return e(t,n,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("get-size"),require("unidragger")):t.Draggabilly=e(t,t.getSize,t.Unidragger)}(window,function(t,e,n){function i(){}function o(t,e){for(var n in e)t[n]=e[n];return t}function r(t){return t instanceof HTMLElement}function a(t,e){this.element="string"==typeof t?l.querySelector(t):t,h&&(this.$element=h(this.element)),this.options=o({},this.constructor.defaults),this.option(e),this._create()}function s(t,e,n){return n=n||"round",e?Math[n](t/e)*e:t}var l=t.document,c=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,u=0;c||(c=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-u)),i=setTimeout(t,n);return u=e+n,i});var d="string"==typeof l.documentElement.style.transform?"transform":"WebkitTransform",h=t.jQuery,f=a.prototype=Object.create(n.prototype);a.defaults={},f.option=function(t){o(this.options,t)};var p={relative:!0,absolute:!0,fixed:!0};return f._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=o({},this.position);var t=getComputedStyle(this.element);p[t.position]||(this.element.style.position="relative"),this.enable(),this.setHandles()},f.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},f.dispatchEvent=function(e,n,i){var o=[n].concat(i);this.emitEvent(e,o);var r=t.jQuery;if(r&&this.$element)if(n){var a=r.Event(n);a.type=e,this.$element.trigger(a,i)}else this.$element.trigger(e,i)},f._getPosition=function(){var t=getComputedStyle(this.element),e=this._getPositionCoord(t.left,"width"),n=this._getPositionCoord(t.top,"height");this.position.x=isNaN(e)?0:e,this.position.y=isNaN(n)?0:n,this._addTransformPosition(t)},f._getPositionCoord=function(t,n){if(-1!=t.indexOf("%")){var i=e(this.element.parentNode);return i?parseFloat(t)/100*i[n]:0}return parseInt(t,10)},f._addTransformPosition=function(t){var e=t[d];if(0===e.indexOf("matrix")){var n=e.split(","),i=0===e.indexOf("matrix3d")?12:4,o=parseInt(n[i],10),r=parseInt(n[i+1],10);this.position.x+=o,this.position.y+=r}},f.pointerDown=function(t,e){this._dragPointerDown(t,e);var n=l.activeElement;n&&n.blur&&n!=l.body&&n.blur(),this._bindPostStartEvents(t),this.element.classList.add("is-pointer-down"),this.dispatchEvent("pointerDown",t,[e])},f.pointerMove=function(t,e){var n=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,n]),this._dragMove(t,e,n)},f.dragStart=function(t,e){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",t,[e]),this.animate())},f.measureContainment=function(){var t=this.options.containment;if(t){var n=r(t)?t:"string"==typeof t?l.querySelector(t):this.element.parentNode,i=e(this.element),o=e(n),a=this.element.getBoundingClientRect(),s=n.getBoundingClientRect(),c=o.borderLeftWidth+o.borderRightWidth,u=o.borderTopWidth+o.borderBottomWidth,d=this.relativeStartPosition={x:a.left-(s.left+o.borderLeftWidth),y:a.top-(s.top+o.borderTopWidth)};this.containSize={width:o.width-c-d.x-i.width,height:o.height-u-d.y-i.height}}},f.dragMove=function(t,e,n){if(this.isEnabled){var i=n.x,o=n.y,r=this.options.grid,a=r&&r[0],l=r&&r[1];i=s(i,a),o=s(o,l),i=this.containDrag("x",i,a),o=this.containDrag("y",o,l),i="y"==this.options.axis?0:i,o="x"==this.options.axis?0:o,this.position.x=this.startPosition.x+i,this.position.y=this.startPosition.y+o,this.dragPoint.x=i,this.dragPoint.y=o,this.dispatchEvent("dragMove",t,[e,n])}},f.containDrag=function(t,e,n){if(!this.options.containment)return e;var i="x"==t?"width":"height",o=s(-this.relativeStartPosition[t],n,"ceil"),r=this.containSize[i];return r=s(r,n,"floor"),Math.min(r,Math.max(o,e))},f.pointerUp=function(t,e){this.element.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},f.dragEnd=function(t,e){this.isEnabled&&(d&&(this.element.style[d]="",this.setLeftTop()),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",t,[e]))},f.animate=function(){if(this.isDragging){this.positionDrag();var t=this;c(function(){t.animate()})}},f.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},f.positionDrag=function(){this.element.style[d]="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},f.staticClick=function(t,e){this.dispatchEvent("staticClick",t,[e])},f.enable=function(){this.isEnabled=!0},f.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},f.destroy=function(){this.disable(),this.element.style[d]="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},f._init=i,h&&h.bridget&&h.bridget("draggabilly",a),a}),$(function(){function t(t){if(value=$("input[name="+t+"]").val(),!value)return!1;try{return JSON.parse(value)}catch(SyntaxError){return!0}}function e(t,e){const n=t.find(".btn-name"),i=t.find(".change-way-btn");n.text(n.data(e)),i.text(i.data(e))}function n(){B.removeClass("hidden"),F.addClass("hidden"),H.removeClass("hidden")}function i(){B.removeClass("hidden"),H.addClass("hidden"),F.removeClass("hidden")}function o(){l(),c()}function r(){u(),d()}function a(){h(),f()}function s(){p(),m()}function l(){z.removeClass("hidden")}function c(){W.removeClass("hidden")}function u(){j.removeClass("hidden")}function d(){U.removeClass("hidden")}function h(){j.addClass("hidden")}function f(){U.addClass("hidden")}function p(){z.addClass("hidden")}function m(){W.addClass("hidden")}function g(){N.removeClass("hidden"),R.addClass("hidden")}function v(){N.addClass("hidden"),R.removeClass("hidden")}function y(){return D.length>0&&!D.hasClass("hidden")}function b(){return!B.hasClass("hidden")}function w(){return!z.hasClass("hidden")}function C(){return!W.hasClass("hidden")}function x(){return!j.hasClass("hidden")}function _(){return!U.hasClass("hidden")}const k=$(".tab-bar"),T=$("#tab-btn-reg"),S=$("#tab-btn-login"),E=t("wx_browser"),A=t("ios_client"),D=$(".pc-wx-sign-in-up-box"),N=$("#pc-wx-sign-in"),R=$("#pc-wx-sign-up"),P=($(".other-signin-method.login .to-other"),$(".other-signin-method.reg .to-other")),I=$("#wx-browser-sign-in-up-box"),L=I.find(".change-way-btn"),O=$("#app-wx-sign-in-up-box"),M=O.find(".change-way-btn"),B=$(".form-content"),H=B.find("#registered-form"),F=B.find("#login-form"),z=$("#login-by-password"),j=$("#login-by-verification-code"),W=$("#email-registered"),U=$("#tel-number-registered"),q=$("#btn-use-tel"),V=$("#btn-use-code"),X=$("#btn-use-email"),Y=$("#btn-use-account"),G=$(".bttom-msg-agree.reg-agree");T.on("click",function(){T.addClass("active"),S.removeClass("active"),G.removeClass("hide"),y()?v():E&&!b()?(B.addClass("hidden"),e(I,"sign-up")):A&&!b()?(B.addClass("hidden"),e(O,"sign-up")):b()&&(C()?(n(),o(),a()):_()&&(n(),r(),s()))}),S.on("click",function(){S.addClass("active"),T.removeClass("active"),G.addClass("hide"),y()?g():E&&!b()?e(I,"sign-in"):A&&!b()?e(O,"sign-in"):b()&&(w()?(i(),o(),a()):x()&&(i(),r(),s()))}),$(document).on("click",".to-other.email",function(){k.removeClass("hidden"),D.addClass("hidden"),$(".other-signin-method.login").length>0?(i(),l(),h()):(n(),c(),f())}),$(document).on("click",".to-other.phone",function(){k.removeClass("hidden"),D.addClass("hidden"),$(".other-signin-method.login").length>0?(i(),p(),u()):(n(),m(),d())}),P.on("click",function(){k.removeClass("hidden"),G.removeClass("hide"),D.addClass("hidden"),n(),m(),d()}),L.on("click",function(){k.removeClass("hidden"),I.addClass("hidden"),T.hasClass("active")?(n(),m(),d()):(i(),p(),u())}),M.on("click",function(){k.removeClass("hidden"),O.addClass("hidden"),T.hasClass("active")?(n(),m(),d()):(i(),p(),u())}),q.on("click",function(){W.addClass("hidden"),U.removeClass("hidden")}),V.on("click",function(){z.addClass("hidden"),j.removeClass("hidden")}),X.on("click",function(){W.removeClass("hidden"),U.addClass("hidden")}),Y.on("click",function(){z.removeClass("hidden"),j.addClass("hidden")})}),$(function(){$(".eye").on("click",function(){$passwordInput=$(this).prev(),$icon=$(this).find("i"),"password"===$passwordInput.attr("type")?($icon.removeClass("fa-eye-slash"),$icon.addClass("fa-eye"),$passwordInput.attr("type","text")):($icon.removeClass("fa-eye"),$icon.addClass("fa-eye-slash"),$passwordInput.attr("type","password"))}),$("#new_reg_password").on("change",function(){if(0===$("#account").length){const t=$(this).val();$("#user_password_confirmation").val(t)}}),$(document).on("click",".go-to-form",function(){$("html, body").animate({scrollTop:$("#sign-form").offset().top})}),$(document).on("click",".go-to-top",function(){$("html, body").animate({scrollTop:0})})}),$(document).on("click",".download-app-btn",function(){$("#download-app-modal").modal("show")}),function(){this.UpdateProfileEmail=function(){function t(){}return t.prototype.post=function(t){var e;return e="/zh-CN/cvs/"+t.cv_id+"/profiles/update_email",$.post(e,{email:t.email})},t}(),this.user_subscribe_status=function(){var t;return 0===$("#bind-wx-pub-modal").length?t=!0:bind_modal_subscribe()?t=!0:$.ajax({url:$("#bind-wx-pub-modal").data("query-url"),method:"GET",dataType:"json",async:!1,success:function(e){return"ok"===e.status?($("#bind-wx-pub-modal").data("offical-account-status",!0),t=!0):($("#bind-wx-pub-modal").modal("show"),t=!1)}}),t},$(function(){var t,e,n;return $(document).on("mouseenter",".navbar-name",function(){var t;return(t=$(this)).html(t.data("hover-html"))}),$(document).on("click","#share-member-url",function(){return $(this).prev().select(),document.execCommand("copy"),$.notify("\u5df2\u590d\u5236",{className:"success",position:"top center"})}),$(document).on("mouseenter","#share-member-qr-code,.share-member-qr-code",function(){return $(".qr-code").removeClass("hidden")}),$(document).on("mouseleave","#share-member-qr-code,.share-member-qr-code",function(){return $(".qr-code").addClass("hidden")}),$(document).on("mouseleave",".navbar-name",function(){var t;return(t=$(this)).html(t.data("origin-html"))}),n=function(t){return $("[data-image]").addClass("hidden"),$("[data-link]").addClass("hidden"),$("[data-image="+t+"]").removeClass("hidden"),$("[data-link="+t+"]").removeClass("hidden")},$(document).on("click",".show-temp-snapshot",function(t){var e,i;return(e=$(t.currentTarget)).closest(".modal").modal("hide"),i=e.data("id"),n(i)}),
$(document).on("click",".example-file-lang",function(t){var e,n,i,o,r;if(n=(e=$(t.currentTarget)).closest(".recommand-file-item"),r="cn"===(o=e.data("lang"))?"en":"cn",console.log(r),i=n.find(".example-img"),!e.hasClass("chosen"))return i.find("."+o).removeClass("hidden"),i.find("."+r).addClass("hidden"),n.find(".example-file-lang").removeClass("chosen"),e.addClass("chosen"),n.find(".search-icon").removeClass(r).addClass(o)}),$(document).on("click",".search-icon a",function(t){var e,i;return t.preventDefault(),i=(e=$(t.currentTarget)).closest(".search-icon").hasClass("cn")?e.data("cn-id"):e.data("en-id"),n(i),$(e.data("target")).modal("show")}),$(document).on("mouseenter","i.membership-explain",function(){return $(".member-little-card-container").removeClass("hide")}),$(document).on("mouseout","i.membership-explain",function(){return $(".member-little-card-container").addClass("hide")}),$("#wechat-share").popover({html:!0,animation:!0,trigger:"hover",placement:"auto top",title:"\u5fae\u4fe1\u516c\u4f17\u53f7",content:'<img src="https://files.wondercv.com/%E8%B6%85%E7%BA%A7%E7%AE%80%E5%8E%86%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E4%BA%8C%E7%BB%B4%E7%A0%81.jpg" width="140px"/>'}),$('input[name="is_mobile"]').val()&&(window.confirm=function(t){var e,n;return(e=document.createElement("IFRAME")).style.display="none",e.setAttribute("src","data:text/plain,"),document.documentElement.appendChild(e),n=window.frames[0].window.confirm(t),e.parentNode.removeChild(e),n},window.alert=function(t){var e;(e=document.createElement("IFRAME")).style.display="none",e.setAttribute("src","data:text/plain,"),document.documentElement.appendChild(e),window.frames[0].window.alert(t),e.parentNode.removeChild(e)}),$(document).on("change",".example-select",function(){var t;return t=$("#example-type-select"),$.ajax({url:"/example_entries",type:"get",dataType:"script",data:{lang:t.data("lang"),tag:$("select[name=tag]").val(),example_type:$("select[name=example_type]").val(),template:t.data("template")}})}),$(document).on("ajax:success","#verify-user-email-form",function(t,e){if("error"===e.status)return $.notify(e.message,"error");if("success"===e.status){$.notify(e.message,"success");try{if((new VerifyEmailCallBack).update_html(prev_opened_modal,e),prev_opened_modal.is($(".combine-files-modal")))return $("#js-combine-file-send-email").click();if(prev_opened_modal.hasClass("cv-download-modal"))return cvNameUpdater()}catch(n){return n,(new VerifyEmailCallBack).update_html($(".cv-download-modal"),e),(new VerifyEmailCallBack).update_html($(".combine-files-modal"),e)}}}),window.token_wait=60,t=function(t){var n;return n=setInterval(function(){return e(t,n)},1e3)},e=function(t,e){return token_wait--,token_wait<=0?(clearInterval(e),t.attr("value","\u83b7\u53d6\u9a8c\u8bc1\u7801").prop("disabled",!1),window.token_wait=60):t.attr("value",token_wait+" \u79d2\u540e\u91cd\u53d1").prop("disabled",!0)},$(document).on("click",".email-token-send",function(e){var n,i,o,r;return i=$(e.currentTarget),n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o=i.parent().prev().find("input").val(),r=!!($("#verify-contact-email-modal").data("bs.modal")||{}).isShown,$.ajax({url:i.data("url"),method:"POST",data:{email:o,skip_check:r},beforeSend:function(){return n.test(o)?(i.data("old-value",i.attr("value")),i.attr("value","\u6b63\u5728\u53d1\u9001...").prop("disabled",!0)):("ios"===client?setupWebViewJavascriptBridge(function(t){return t.callHandler("combineFail",{error:"\u90ae\u7bb1\u683c\u5f0f\u9519\u8bef"},function(){})}):$.notify("\u90ae\u7bb1\u683c\u5f0f\u9519\u8bef!","error"),!1)},success:function(e){return"error"===e.status?("ios"===client?setupWebViewJavascriptBridge(function(t){return t.callHandler("combineFail",{error:e.message},function(){})}):$.notify(e.message,"error"),i.val(i.data("old-value")),i.prop("disabled",!1)):($("#user_email_token").prop("disabled",!1),t(i))}})})})}.call(this),this.AraleQRCode=function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";t.exports=n(2)},function(t,e,n){"use strict";var i=n(4),o=[],r=n(3),a=function(t){var e=t.options;return e.pdground&&(t.row>1&&t.row<5&&t.col>1&&t.col<5||t.row>t.count-6&&t.row<t.count-2&&t.col>1&&t.col<5||t.row>1&&t.row<5&&t.col>t.count-6&&t.col<t.count-2)?e.pdground:e.foreground},s=function(t){var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},l=function(t){"string"==typeof t&&(t={text:t}),this.options=i({},{text:"",render:"",size:256,correctLevel:3,background:"#ffffff",foreground:"#000000",image:"",imageSize:30},t);for(var e=null,n=0,a=o.length;a>n;n++)if(o[n].text==this.options.text&&o[n].text.correctLevel==this.options.correctLevel){e=o[n].obj;break}if(n==a&&(e=new r(this.options.text,this.options.correctLevel),o.push({text:this.options.text,correctLevel:this.options.correctLevel,obj:e})),this.options.render)switch(this.options.render){case"canvas":return this.createCanvas(e);case"table":return this.createTable(e);case"svg":return this.createSVG(e);default:return this.createDefault(e)}return this.createDefault(e)};i(l.prototype,{createDefault:function(t){if(document.createElement("canvas").getContext)return this.createCanvas(t);var e="http://www.w3.org/2000/svg";return document.createElementNS&&document.createElementNS(e,"svg").createSVGRect?this.createSVG(t):this.createTable(t)},createCanvas:function(t){var e=this.options,n=document.createElement("canvas"),i=n.getContext("2d"),o=t.getModuleCount(),r=s(i),l=e.size,c=l*r,u=e.imageSize*r,d=function(t,e){var n=new Image;n.src=t,n.onload=function(){e(this),n.onload=null}},h=(c/o).toPrecision(4),f=(c/o).toPrecision(4);n.width=c,n.height=c;for(var p=0;o>p;p++)for(var m=0;o>m;m++){var g=Math.ceil((m+1)*h)-Math.floor(m*h),v=Math.ceil((p+1)*h)-Math.floor(p*h),y=a({row:p,col:m,count:o,options:e});i.fillStyle=t.modules[p][m]?y:e.background,i.fillRect(Math.round(m*h),Math.round(p*f),g,v)}return e.image&&d(e.image,function(t){var e=((c-u)/2).toFixed(2),n=((c-u)/2).toFixed(2);i.drawImage(t,e,n,u,u)}),n.style.width=l+"px",n.style.height=l+"px",n},createTable:function(t){var e=this.options,n=t.getModuleCount(),i=Math.floor(e.size/n),o=Math.floor(e.size/n);0>=i&&(i=80>n?2:1),0>=o&&(o=80>n?2:1);var r=[];r.push('<table style="border:0px; margin:0px; padding:0px; border-collapse:collapse; background-color:'+e.background+';">');for(var s=0;n>s;s++){r.push('<tr style="border:0px; margin:0px; padding:0px; height:'+o+'px">');for(var l=0;n>l;l++){var c=a({row:s,col:l,count:n,options:e});t.modules[s][l]?r.push('<td style="border:0px; margin:0px; padding:0px; width:'+i+"px; background-color:"+c+'"></td>'):r.push('<td style="border:0px; margin:0px; padding:0px; width:'+i+"px; background-color:"+e.background+'"></td>')}r.push("</tr>")}if(r.push("</table>"),e.image){var u=i*n,d=o*n,h=((u-e.imageSize)/2).toFixed(2),f=((d-e.imageSize)/2).toFixed(2);r.unshift("<div style='position:relative;\n                        width:"+u+"px;\n                        height:"+d+"px;'>"),r.push("<img src='"+e.image+"'\n                        width='"+e.imageSize+"'\n                        height='"+e.imageSize+"'\n                        style='position:absolute;left:"+h+"px; top:"+f+"px;'>"),r.push("</div>")}var p=document.createElement("span");return p.innerHTML=r.join(""),p.firstChild},createSVG:function(t){var e=this.options,n=t.getModuleCount(),i=n/e.size,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",e.size),o.setAttribute("height",e.size),o.setAttribute("viewBox","0 0 "+n+" "+n);for(var r=0;n>r;r++)for(var s=0;n>s;s++){var l=document.createElementNS("http://www.w3.org/2000/svg","rect"),c=a({row:r,col:s,count:n,options:e});l.setAttribute("x",s),l.setAttribute("y",r),l.setAttribute("width",1),l.setAttribute("height",1),l.setAttribute("stroke-width",0),t.modules[r][s]?l.setAttribute("fill",c):l.setAttribute("fill",e.background),o.appendChild(l)}if(e.image){var u=document.createElementNS("http://www.w3.org/2000/svg","image");u.setAttributeNS("http://www.w3.org/1999/xlink","href",e.image),u.setAttribute("x",((n-e.imageSize*i)/2).toFixed(2)),u.setAttribute("y",((n-e.imageSize*i)/2).toFixed(2)),u.setAttribute("width",e.imageSize*i),u.setAttribute("height",e.imageSize*i),o.appendChild(u)}return o}}),t.exports=l},function(t){"use strict";function e(t){return 128>t?[t]:2048>t?[192+(t>>6),128+(63&t)]:[224+(t>>12),128+(t>>6&63),128+(63&t)]}function n(t){for(var n=[],i=0;i<t.length;i++)for(var o=e(t.charCodeAt(i)),r=0;r<o.length;r++)n.push(o[r]);return n}function i(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=n(t),this.make()}function o(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}function r(){this.buffer=new Array,this.length=0}i.prototype={constructor:i,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var n=-1;7>=n;n++)if(!(-1>=t+n||this.moduleCount<=t+n))for(var i=-1;7>=i;i++)-1>=e+i||this.moduleCount<=e+i||(this.modules[t+n][e+i]=n>=0&&6>=n&&(0==i||6==i)||i>=0&&6>=i&&(0==n||6==n)||n>=2&&4>=n&&i>=2&&4>=i)},createQrcode:function(){for(var t=0,e=0,n=null,i=0;8>i;i++){this.makeImpl(i);var o=l.getLostPoint(this);(0==i||t>o)&&(t=o,e=i,n=this.modules)}this.modules=n,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=l.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],o=t[n];if(null==this.modules[i][o])for(var r=-2;2>=r;r++)for(var a=-2;2>=a;a++)this.modules[i+r][o+a]=-2==r||2==r||-2==a||2==a||0==r&&0==a}},setupTypeNumber:function(t){for(var e=l.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i,this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(t,e){for(var n=a[this.errorCorrectLevel]<<3|e,i=l.getBCHTypeInfo(n),o=0;15>o;o++){var r=!t&&1==(i>>o&1);6>o?this.modules[o][8]=r:8>o?this.modules[o+1][8]=r:this.modules[this.moduleCount-15+o][8]=r;r=!t&&1==(i>>o&1);8>o?this.modules[8][this.moduleCount-o-1]=r:9>o?this.modules[8][15-o-1+1]=r:this.modules[8][15-o-1]=r}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new r,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var n=0,o=this.utf8bytes.length;o>n;n++)t.put(this.utf8bytes[n],8);for(t.length+4<=8*this.totalDataCount&&t.put(0,4);t.length%8!=0;)t.putBit(!1);for(;!(t.length>=8*this.totalDataCount)&&(t.put(i.PAD0,8),!(t.length>=8*this.totalDataCount));)t.put(i.PAD1,8);return this.createBytes(t)},createBytes:function(t){for(var e=0,n=0,i=0,r=this.rsBlock.length/3,a=new Array,s=0;r>s;s++)for(var c=this.rsBlock[3*s+0],u=this.rsBlock[3*s+1],d=this.rsBlock[3*s+2],h=0;c>h;h++)a.push([d,u]);for(var f=new Array(a.length),p=new Array(a.length),m=0;m<a.length;m++){var g=a[m][0],v=a[m][1]-g;n=Math.max(n,g),i=Math.max(i,v),f[m]=new Array(g);for(s=0;s<f[m].length;s++)f[m][s]=255&t.buffer[s+e];e+=g;var y=l.getErrorCorrectPolynomial(v),b=new o(f[m],y.getLength()-1).mod(y);p[m]=new Array(y.getLength()-1);for(s=0;s<p[m].length;s++){var w=s+b.getLength()-p[m].length;p[m][s]=w>=0?b.get(w):0}}var C=new Array(this.totalDataCount),x=0;for(s=0;n>s;s++)for(m=0;m<a.length;m++)s<f[m].length&&(C[x++]=f[m][s]);for(s=0;i>s;s++)for(m=0;m<a.length;m++)s<p[m].length&&(C[x++]=p[m][s]);return C},mapData:function(t,e){for(var n=-1,i=this.moduleCount-1,o=7,r=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;2>s;s++)if(null==this.modules[i][a-s]){var c=!1;r<t.length&&(c=1==(t[r]>>>o&1)),l.getMask(e,i,a-s)&&(c=!c),this.modules[i][a-s]=c,-1==--o&&(r++,o=7)}if(0>(i+=n)||this.moduleCount<=i){i-=n,n=-n;break}}}},i.PAD0=236,i.PAD1=17;for(var a=[1,0,3,2],s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;l.getBCHDigit(e)-l.getBCHDigit(l.G15)>=0;)e^=l.G15<<l.getBCHDigit(e)-l.getBCHDigit(l.G15);return(t<<10|e)^l.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;l.getBCHDigit(e)-l.getBCHDigit(l.G18)>=0;)e^=l.G18<<l.getBCHDigit(e)-l.getBCHDigit(l.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return l.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case s.PATTERN000:return(e+n)%2==0;case s.PATTERN001:return e%2==0;case s.PATTERN010:return n%3==0;case s.PATTERN011:return(e+n)%3==0;case s.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case s.PATTERN101:return e*n%2+e*n%3==0;case s.PATTERN110:return(e*n%2+e*n%3)%2==0;case s.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new o([1],0),n=0;t>n;n++)e=e.multiply(new o([1,c.gexp(n)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0,o=0;e>o;o++)for(var r=0,a=t.modules[o][0],s=0;e>s;s++){var l=t.modules[o][s];if(e-6>s&&l&&!t.modules[o][s+1]&&t.modules[o][s+2]&&t.modules[o][s+3]&&t.modules[o][s+4]&&!t.modules[o][s+5]&&t.modules[o][s+6]&&(e-10>s?t.modules[o][s+7]&&t.modules[o][s+8]&&t.modules[o][s+9]&&t.modules[o][s+10]&&(n+=40):s>3&&t.modules[o][s-1]&&t.modules[o][s-2]&&t.modules[o][s-3]&&t.modules[o][s-4]&&(n+=40)),e-1>o&&e-1>s){var c=0;l&&c++,t.modules[o+1][s]&&c++,t.modules[o][s+1]&&c++,t.modules[o+1][s+1]&&c++,(0==c||4==c)&&(n+=3)}a^l?r++:(a=l,r>=5&&(n+=3+r-5),r=1),l&&i++}for(s=0;e>s;s++)for(r=0,a=t.modules[0][s],o=0;e>o;o++){l=t.modules[o][s];e-6>o&&l&&!t.modules[o+1][s]&&t.modules[o+2][s]&&t.modules[o+3][s]&&t.modules[o+4][s]&&!t.modules[o+5][s]&&t.modules[o+6][s]&&(e-10>o?t.modules[o+7][s]&&t.modules[o+8][s]&&t.modules[o+9][s]&&t.modules[o+10][s]&&(n+=40):o>3&&t.modules[o-1][s]&&t.modules[o-2][s]&&t.modules[o-3][s]&&t.modules[o-4][s]&&(n+=40)),a^l?r++:(a=l,r>=5&&(n+=3+r-5),r=1)}return n+10*(Math.abs(100*i/e/e-50)/5)}},c={glog:function(t){if(1>t)throw new Error("glog("+t+")");return c.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return c.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},u=0;8>u;u++)c.EXP_TABLE[u]=1<<u;for(u=8;256>u;u++)c.EXP_TABLE[u]=c.EXP_TABLE[u-4]^c.EXP_TABLE[u-5]^c.EXP_TABLE[u-6]^c.EXP_TABLE[u-8];for(u=0;255>u;u++)c.LOG_TABLE[c.EXP_TABLE[u]]=u;o.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=c.gexp(c.glog(this.get(n))+c.glog(t.get(i)));return new o(e,0)},mod:function(t){var e=this.getLength(),n=t.getLength();if(0>e-n)return this;for(var i=new Array(e),r=0;e>r;r++)i[r]=this.get(r);for(;i.length>=n;){var a=c.glog(i[0])-c.glog(t.get(0));for(r=0;r<t.getLength();r++)i[r]^=c.gexp(c.glog(t.get(r))+a);for(;0==i[0];)i.shift()}return new o(i,0)}};var d=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];i.prototype.getRightType=function(){for(var t=1;41>t;t++){var e=d[4*(t-1)+this.errorCorrectLevel];if(null==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var n=e.length/3,i=0,o=0;n>o;o++){var r=e[3*o+0];i+=e[3*o+2]*r}var a=t>9?2:1;if(this.utf8bytes.length+a<i||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=i;break}}},r.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var n=0;e>n;n++)this.putBit(t>>>e-n-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=i},function(t){t.exports=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),i=0;e=n[i];i++)if(e)for(var o in e)t[o]=e[o];return t}}]),function(){this.UploadFileSize=function(){function t(){}return t.prototype.check=function(t){return t>2097152?($.notify("\u6587\u4ef6\u4e0d\u80fd\u8d85\u8fc72MB","error"),!1):!(t<10)||($.notify("\u6587\u4ef6\u4e0d\u80fd\u5c0f\u4e8e10\u5b57\u8282","error"),!1)},t}()}.call(this),function(){this.SetFilesInfo=function(){function t(){this.cells=[]}return t.prototype.show=function(t,e){return $.each(t,function(t,n){var i,o,r;return i=(r=$(e).find(".file-list")).data("html-template"),r.append(i),(o=r.find(".file-info").last()).append("<div class='file-name'>"+n.name+"</div>"),o.append("<div class='file-size'>"+Math.floor(n.size/1024)+"KB</div>")})},t.prototype.add=function(t,e){return $.each(t,(n=this,function(t,i){var o,r,a,s;return r=(s=$(e).find(".file-list")).data("html-template"),s.append(r),(a=(o=s.find(".file-cell").last()).find(".file-info")).append("<div class='file-name'>"+i.name+"</div>"),a.append("<div class='file-size'>"+Math.floor(i.size/1024)+"KB</div>"),n.cells.push(o)}));var n},t.prototype.cells=function(){return this.cells},t}()}.call(this),function(){$(function(){var t;if((t=$(".file-upload")).fileupload({dropZone:t.closest(".drop-zone"),send:function(t,e){return(new SetFilesInfo).show(e.files,"#import-new-resume-modal"),$("#import-new-resume-modal .file-container").addClass("hide")},progress:function(t,e){var n,i,o,r;if(i=$("#import-new-resume-modal").find(".file-list"),r="<span class='progress-done'>\u4e0a\u4f20\u5b8c\u6210\uff0c\u6b63\u5728\u89e3\u6790...\u8bf7\u7a0d\u5019<span>",o=parseInt(e.loaded/e.total*100,10),(n=i.find(".progress .progress-bar")).css("width",o+"%"),n.text(o+"%"),"100%"===n.text())return setTimeout(function(){n.closest(".file-cell").append(r)},1e3,n)},done:function(){return $("#import-new-resume-modal .file-container").removeClass("hide"),$("#import-new-resume-modal .file-list").html("")}}).on("fileuploadsend",function(t,e){return(new UploadFileSize).check(e.files[0].size)}),$(".js-cv-import-exceed-limit").click(function(){return $.notify($(this).data("error"),"error")}),null!=$("#import-new-resume-modal"))return $(document).on("drop dragover",function(t){return t.preventDefault()})})}.call(this),$("#users-invite").length>0&&window.scroll(0,0),$(function(){var t=function(){var t,e,n=!1,i=$("#slider-btn").draggabilly({axis:"x",containment:".track"});i.on("dragStart",function(i,o){t=o.pageX,e=!0,n=Math.ceil($("#view-container").attr("style").split("(")[1].split(")")[0].slice(0,-3))}),i.on("dragMove",function(i,o){if(e){var r=o.pageX,a=navigator.userAgent.indexOf("Safari")>-1?324:425,s=(r-t)/a*180+n;s>=0&&s<=180&&$("#view-container").attr("style","transform: rotateY("+s+"deg)"),s<=10&&$("#slider-btn").removeClass("btn-left"),s>=170&&$("#slider-btn").addClass("btn-left")}}),i.on("dragEnd",function(){e=!1})};const e=$('input[name="is_mobile"]').val();var n=function(){e?($("#cvs-index .tpl-content, #cover_letters-index .tpl-content, #emails-index .tpl-content").on("mouseenter",function(){$(this).addClass("hidden"),$(this).siblings(".tpl-choose-lan").removeClass("hidden")}),$("#cvs-index .tpl-content, #cover_letters-index .tpl-content, #emails-index .tpl-content").on("mouseleave",function(){$(this).addClass("hidden"),$(this).siblings(".tpl-content").removeClass("hidden"),$(".modal-background").addClass("hidden")}),$("#choose-resume-tpl-modal .tpl-content").on("mouseenter",function(){$("#choose-resume-tpl-modal .tpl-content").each(function(){$(this).addClass("hide"),$(this).parent().css("background-color","transparent")}),$(this).siblings(".tpl-choose-lan").removeClass("hide")}),$("#choose-resume-tpl-modal .tpl-choose-lan").on("mouseleave",function(){$(this).addClass("hide"),$("#choose-resume-tpl-modal .tpl-content").each(function(){$(this).removeClass("hide"),$(this).parent().css("background-color","#fff"),$(this).parent().css("border-radius","50%"),$(this).css("border-radius","50%")})}),$("#resumes-index .close-tpl-choose-lan").on("click",function(){$(this).parent().addClass("hide"),$(this).parent().siblings(".tpl-content").removeClass("hide"),$(".modal-background").addClass("hide"),$(this).parent().siblings(".mobile-tpl-content").removeClass("hide"),$("#choose-resume-tpl-modal .tpl-content").each(function(){$(this).removeClass("hide"),$(this).parent().css("background-color","#fff"),$(this).parent().css("border-radius","50%"),$(this).css("border-radius","50%")})}),$(".mobile-tpl-content .template-content").on("mouseenter",function(){$(this).addClass("hidden"),$(this).siblings(".mobile-tpl-content .template-choose-lan").removeClass("hidden"),$(".modal-background").removeClass("hide")}),$(".mobile-tpl-content .template_choose-lan").on("mouseleave",function(){$(this).addClass("hidden"),$(this).siblings(".mobile-tpl-content .template-content").removeClass("hidden"),$(".modal-background").addClass("hide")}),$("#welcome-index .close-tpl-choose-lan").on("click",function(){$(this).parent().addClass("hidden"),$(this).parent().siblings(".template-content").removeClass("hidden"),$(".modal-background").addClass("hide")})):($(".template-content").on("mouseenter",function(){$(this).addClass("hidden"),$(this).siblings(".template-choose-lan").removeClass("hidden"),$(".modal-background").removeClass("hide")}),$(".template-choose-lan").on("mouseleave",function(){$(this).addClass("hidden"),$(this).siblings(".template-content").removeClass("hidden"),$(".modal-background").addClass("hide")}))};$(".ios-app-btn").on("click",function(){$(".ios-app-download-img").removeClass("hidden"),$(".ios-app-title").removeClass("hidden"),$(".wechat-app-title").addClass("hidden"),$(".wechat-img").addClass("hidden"),$(this).addClass("active"),$(".wechat-app-btn").removeClass("active")}),$(".wechat-app-btn").on("click",function(){$(".ios-app-download-img").addClass("hidden"),$(".wechat-img").removeClass("hidden"),$(".ios-app-title").addClass("hidden"),$(".wechat-app-title").removeClass("hidden"),$(this).addClass("active"),$(".ios-app-btn").removeClass("active")});var i=function(){(function(){var t=new Swiper("#feedback-swiper",{direction:"horizontal",loop:!0,autoplay:1e4,autoplayDisableOnInteraction:!1,pagination:".swiper-pagination"});$("#swiper-btn-left").click(function(){t.slidePrev()}),$("#swiper-btn-right").click(function(){t.slideNext()})})()},o=function(){$(".nav-create-new-file-list").on("click",function(){$(this).hasClass("rotated")?($(this).removeClass("rotated"),$(".header ul.choose-file-type").addClass("hide")):($(this).addClass("rotated"),$(".header ul.choose-file-type").removeClass("hide"))}),$("body").click(function(t){0===$(t.target).closest(".choose-file-type").length&&0===$(t.target).closest(".new-interview-btn").length&&$(".nav-create-new-file-list").hasClass("rotated")&&($(".nav-create-new-file-list").removeClass("rotated"),$(".header ul.choose-file-type").addClass("hide"))})},r=function(){$(".nav-send-type-list").on("click",function(){$(".choose-send-type").hasClass("hide")?$(".choose-send-type").removeClass("hide"):$(".choose-send-type").addClass("hide")}),$("body").click(function(t){0===$(t.target).closest(".choose-send-type").length&&0===$(t.target).closest(".new-interview-btn").length&&0===$(t.target).closest(".cannot-download-btn").length&&$(".choose-send-type").addClass("hide")})};(function(){function t(){var t=navigator.userAgent,e=t.indexOf("Opera")>-1;return e?"Opera":t.indexOf("Firefox")>-1?"FF":t.indexOf("Chrome")>-1?"Chrome":t.indexOf("Safari")>-1?"Safari":t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1&&!e?"IE":void 0}"Safari"==t()&&$("body").addClass("well-safari")})(),i(),n(),t(),o(),r()}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";function e(t){if(t instanceof Date)return t;if(String(t).match(a))return String(t).match(/^[0-9]*$/)&&(t=Number(t)),String(t).match(/\-/)&&(t=String(t).replace(/\-/g,"/")),new Date(t);throw new Error("Couldn't cast `"+t+"` to a date object.")}function n(t){var e=t.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(e)}function i(t){return function(e){var i=e.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(i)for(var r=0,a=i.length;r<a;++r){var s=i[r].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),c=n(s[0]),u=s[1]||"",d=s[3]||"",h=null;s=s[2],l.hasOwnProperty(s)&&(h=l[s],h=Number(t[h])),null!==h&&("!"===u&&(h=o(d,h)),""===u&&h<10&&(h="0"+h.toString()),e=e.replace(c,h.toString()))}return e.replace(/%%/,"%")}}function o(t,e){var n="s",i="";return t&&(1===(t=t.replace(/(:|;|\s)/gi,"").split(/\,/)).length?n=t[0]:(i=t[0],n=t[1])),Math.abs(e)>1?n:i}var r=[],a=[],s={precision:100,elapse:!1,defer:!1};a.push(/^[0-9]*$/.source),a.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a=new RegExp(a.join("|"));var l={Y:"years",m:"months",n:"daysToMonth",d:"daysToWeek",w:"weeks",W:"weeksToMonth",H:"hours",M:"minutes",S:"seconds",D:"totalDays",I:"totalHours",N:"totalMinutes",T:"totalSeconds"},c=function(e,n,i){this.el=e,this.$el=t(e),this.interval=null,this.offset={},this.options=t.extend({},s),this.instanceNumber=r.length,r.push(this),this.$el.data("countdown-instance",this.instanceNumber),i&&("function"==typeof i?(this.$el.on("update.countdown",i),this.$el.on("stoped.countdown",i),this.$el.on("finish.countdown",i)):this.options=t.extend({},s,i)),this.setFinalDate(n),!1===this.options.defer&&this.start()};t.extend(c.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var t=this;this.update(),this.interval=setInterval(function(){t.update.call(t)},this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),r[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(t){this.finalDate=e(t)},update:function(){if(0!==this.$el.closest("html").length){var e,n=void 0!==t._data(this.el,"events"),i=new Date;e=this.finalDate.getTime()-i.getTime(),e=Math.ceil(e/1e3),e=!this.options.elapse&&e<0?0:Math.abs(e),this.totalSecsLeft!==e&&n&&(this.totalSecsLeft=e,this.elapsed=i>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),weeksToMonth:Math.floor(this.totalSecsLeft/60/60/24/7)%4,months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-i.getFullYear()),totalDays:Math.floor(this.totalSecsLeft/60/60/24),totalHours:Math.floor(this.totalSecsLeft/60/60),totalMinutes:Math.floor(this.totalSecsLeft/60),totalSeconds:this.totalSecsLeft},this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish")))}else this.remove()},dispatchEvent:function(e){var n=t.Event(e+".countdown");n.finalDate=this.finalDate,n.elapsed=this.elapsed,n.offset=t.extend({},this.offset),n.strftime=i(this.offset),this.$el.trigger(n)}}),t.fn.countdown=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){var n=t(this).data("countdown-instance");if(void 0!==n){var i=r[n],o=e[0];c.prototype.hasOwnProperty(o)?i[o].apply(i,e.slice(1)):null===String(o).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(i.setFinalDate.call(i,o),i.start()):t.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,o))}else new c(this,e[0],e[1])})}}),
/*
Trix 0.11.1
Copyright © 2017 Basecamp, LLC
http://trix-editor.org/
 */
function(){}.call(this),function(){null==window.Set&&(window.Set=function(){function t(){this.clear()}return t.prototype.clear=function(){return this.values=[]},t.prototype.has=function(t){return-1!==this.values.indexOf(t)},t.prototype.add=function(t){return this.has(t)||this.values.push(t),this},t.prototype["delete"]=function(t){var e;return-1!==(e=this.values.indexOf(t))&&(this.values.splice(e,1),!0)},t.prototype.forEach=function(){var t;return(t=this.values).forEach.apply(t,arguments)},t}())}.call(this),function(t){function e(){}function n(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function o(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void d(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(o){return void a(e.promise,o)}r(e.promise,i)}else(1===t._state?r:a)(e.promise,t._value)}))}function r(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if(e instanceof i)return t._state=3,t._value=e,void s(t);if("function"==typeof o)return void c(n(o,e),t)}t._state=1,t._value=e,s(t)}catch(r){a(t,r)}}function a(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&setTimeout(function(){t._handled||h(t._value)},1);for(var e=0,n=t._deferreds.length;n>e;e++)o(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function c(t,e){var n=!1;try{t(function(t){n||(n=!0,r(e,t))},function(t){n||(n=!0,a(e,t))})}catch(i){if(n)return;n=!0,a(e,i)}}var u=setTimeout,d="function"==typeof setImmediate&&setImmediate||function(t){u(t,1)},h=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,n){var r=new i(e);return o(this,new l(t,n,r)),r},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function i(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(r,t)},n)}e[r]=a,0==--o&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var o=e.length,r=0;r<e.length;r++)i(r,e[r])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var i=0,o=t.length;o>i;i++)t[i].then(e,n)})},i._setImmediateFn=function(t){d=t},i._setUnhandledRejectionFn=function(t){h=t},"undefined"!=typeof module&&module.exports?module.exports=i:t.Promise||(t.Promise=i)}(this),
/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
"undefined"==typeof WeakMap&&function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+e+++"__"};n.prototype={set:function(e,n){var i=e[this.name];return i&&i[0]===e?i[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=n}(),function(t){function e(t){x.push(t),C||(C=!0,m(i))}function n(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function i(){C=!1;var t=x;x=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var n=t.takeRecords();o(t),n.length&&(t.callback_(n,t),e=!0)}),e&&i()}function o(t){t.nodes_.forEach(function(e){var n=g.get(e);n&&n.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function r(t,e){for(var n=t;n;n=n.parentNode){var i=g.get(n);if(i)for(var o=0;o<i.length;o++){var r=i[o],a=r.options;if(n===t||a.subtree){var s=e(a);s&&r.enqueue(s)}}}}function a(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++_}function s(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function l(t){var e=new s(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function c(t,e){return b=new s(t,e)}function u(t){return w||((w=l(b)).oldValue=t,w)}function d(){b=w=void 0}function h(t){return t===w||t===b}function f(t,e){return t===e?t:w&&h(t)?w:null}function p(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var m,g=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var v=[],y=String(Math.random());window.addEventListener("message",function(t){if(t.data===y){var e=v;v=[],e.forEach(function(t){t()})}}),m=function(t){v.push(t),window.postMessage(y,"*")}}var b,w,C=!1,x=[],_=0;a.prototype={observe:function(t,e){if(t=n(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var i=g.get(t);i||g.set(t,i=[]);for(var o,r=0;r<i.length;r++)if(i[r].observer===this){(o=i[r]).removeListeners(),o.options=e;break}o||(o=new p(this,t,e),i.push(o),this.nodes_.push(t)),o.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=g.get(t),n=0;n<e.length;n++){var i=e[n];if(i.observer===this){i.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},p.prototype={enqueue:function(t){var n=this.observer.records_,i=n.length;if(n.length>0){var o=f(n[i-1],t);if(o)return void(n[i-1]=o)}else e(this.observer);n[i]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=g.get(t);e||g.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=g.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,i=t.target;(a=new c("attributes",i)).attributeName=e,a.attributeNamespace=n;var o=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;r(i,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?u(o):a});break;case"DOMCharacterDataModified":var a=c("characterData",i=t.target);o=t.prevValue;r(i,function(t){return t.characterData?t.characterDataOldValue?u(o):a:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var s,l,h=t.target;"DOMNodeInserted"===t.type?(s=[h],l=[]):(s=[],l=[h]);var f=h.previousSibling,p=h.nextSibling;(a=c("childList",t.target.parentNode)).addedNodes=s,a.removedNodes=l,a.previousSibling=f,a.nextSibling=p,r(t.relatedNode,function(t){return t.childList?a:void 0})}d()}},t.JsMutationObserver=a,t.MutationObserver||(t.MutationObserver=a,a._isPolyfilled=!0)}}(self),function(){"use strict";if(!window.performance){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){var t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return t?function(e){return t(function(){e(performance.now())})}:function(t){return window.setTimeout(t,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}),!function(){var t=document.createEvent("Event");return t.initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented}()){var e=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(e.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var n=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||n&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||n&&"function"!=typeof window.Event){var i=window.Event;window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,Boolean(e.bubbles),Boolean(e.cancelable)),n},window.Event.prototype=i.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(t){var e=t.flags,n=[],i=function(t){n.push(t)},o=function(){n.forEach(function(e){e(t)})};t.addModule=i,t.initializeModules=o,t.hasNative=Boolean(document.registerElement),t.isIE=/Trident/.test(navigator.userAgent),t.useNative=!e.register&&t.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(t){function e(t,e){n(t,function(t){return!!e(t)||void i(t,e)}),i(t,e)}function n(t,e,i){var o=t.firstElementChild;if(!o)for(o=t.firstChild;o&&o.nodeType!==Node.ELEMENT_NODE;)o=o.nextSibling;for(;o;)!0!==e(o,i)&&n(o,e,i),o=o.nextElementSibling;return null}function i(t,n){for(var i=t.shadowRoot;i;)e(i,n),i=i.olderShadowRoot}function o(t,e){r(t,e,[])}function r(t,e,n){if(t=window.wrap(t),!(n.indexOf(t)>=0)){n.push(t);for(var i,o=t.querySelectorAll("link[rel="+a+"]"),s=0,l=o.length;l>s&&(i=o[s]);s++)i["import"]&&r(i["import"],e,n);e(t)}}var a=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=o,t.forSubtree=e}),window.CustomElements.addModule(function(t){function e(t,e){return n(t,e)||i(t,e)}function n(e,n){return!!t.upgrade(e,n)||void(n&&a(e))}function i(t,e){b(t,function(t){return!!n(t,e)||void 0})}function o(t){_.push(t),x||(x=!0,setTimeout(r))}function r(){x=!1;for(var t,e=_,n=0,i=e.length;i>n&&(t=e[n]);n++)t();_=[]}function a(t){C?o(function(){s(t)}):s(t)}function s(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function l(t){c(t),b(t,function(t){c(t)})}function c(t){C?o(function(){u(t)}):u(t)}function u(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function d(t){for(var e=t,n=window.wrap(document);e;){if(e==n)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}function h(t){if(t.shadowRoot&&!t.shadowRoot.__watched){y.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)m(e),e=e.olderShadowRoot}}function f(t,n){if(y.dom){var i=n[0];if(i&&"childList"===i.type&&i.addedNodes&&i.addedNodes){for(var o=i.addedNodes[0];o&&o!==document&&!o.host;)o=o.parentNode;var r=o&&(o.URL||o._URL||o.host&&o.host.localName)||"";r=r.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,r||"")}var a=d(t);n.forEach(function(t){"childList"===t.type&&(k(t.addedNodes,function(t){t.localName&&e(t,a)}),k(t.removedNodes,function(t){t.localName&&l(t)}))}),y.dom&&console.groupEnd()}function p(t){for((t=window.wrap(t))||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(f(t,e.takeRecords()),r())}function m(t){if(!t.__observer){var e=new MutationObserver(f.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function g(t){t=window.wrap(t),y.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop()),e(t,t===window.wrap(document)),m(t),y.dom&&console.groupEnd()}function v(t){w(t,g)}var y=t.flags,b=t.forSubtree,w=t.forDocumentTree,C=window.MutationObserver._isPolyfilled&&y["throttle-attached"];t.hasPolyfillMutations=C,t.hasThrottledAttached=C;var x=!1,_=[],k=Array.prototype.forEach.call.bind(Array.prototype.forEach),T=Element.prototype.createShadowRoot;T&&(Element.prototype.createShadowRoot=function(){var t=T.call(this);return window.CustomElements.watchShadow(this),t}),t.watchShadow=h,t.upgradeDocumentTree=v,t.upgradeDocument=g,t.upgradeSubtree=i,t.upgradeAll=e,t.attached=a,t.takeRecords=p}),window.CustomElements.addModule(function(t){function e(e,i){if("template"===e.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e),!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var o=e.getAttribute("is"),r=t.getRegisteredDefinition(e.localName)||t.getRegisteredDefinition(o);if(r&&(o&&r.tag==e.localName||!o&&!r["extends"]))return n(e,r,i)}}function n(e,n,o){return a.upgrade&&console.group("upgrade:",e.localName),n.is&&e.setAttribute("is",n.is),i(e,n),e.__upgraded__=!0,r(e),o&&t.attached(e),t.upgradeSubtree(e,o),a.upgrade&&console.groupEnd(),e}function i(t,e){Object.__proto__?t.__proto__=e.prototype:(o(t,e.prototype,e.native),t.__proto__=e.prototype)}function o(t,e,n){for(var i={},o=e;o!==n&&o!==HTMLElement.prototype;){for(var r,a=Object.getOwnPropertyNames(o),s=0;r=a[s];s++)i[r]||(Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r)),i[r]=1);o=Object.getPrototypeOf(o)}}function r(t){t.createdCallback&&t.createdCallback()}var a=t.flags;t.upgrade=e,t.upgradeWithDefinition=n,t.implementPrototype=i}),window.CustomElements.addModule(function(t){function e(e,i){var l=i||{};if(!e)throw new Error("document.registerElement: first argument `name` must not be empty");if(e.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(e)+"'.");if(o(e))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(e)+"'. The type name is invalid.");if(c(e))throw new Error("DuplicateDefinitionError: a type with name '"+String(e)+"' is already registered");return l.prototype||(l.prototype=Object.create(HTMLElement.prototype)),l.__name=e.toLowerCase(),l["extends"]&&(l["extends"]=l["extends"].toLowerCase()),l.lifecycle=l.lifecycle||{},l.ancestry=r(l["extends"]),a(l),s(l),n(l.prototype),u(l.__name,l),l.ctor=d(l),l.ctor.prototype=l.prototype,l.prototype.constructor=l.ctor,t.ready&&g(document),l.ctor}function n(t){if(!t.setAttribute._polyfilled){var e=t.setAttribute;t.setAttribute=function(t,n){i.call(this,t,n,e)};var n=t.removeAttribute;t.removeAttribute=function(t){i.call(this,t,null,n)},t.setAttribute._polyfilled=!0}}function i(t,e,n){t=t.toLowerCase();var i=this.getAttribute(t);n.apply(this,arguments);var o=this.getAttribute(t);this.attributeChangedCallback&&o!==i&&this.attributeChangedCallback(t,i,o)}function o(t){for(var e=0;e<C.length;e++)if(t===C[e])return!0}function r(t){var e=c(t);return e?r(e["extends"]).concat([e]):[]}function a(t){for(var e,n=t["extends"],i=0;e=t.ancestry[i];i++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}function s(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var i,o=t.prototype,r=!1;o;)o==e&&(r=!0),(i=Object.getPrototypeOf(o))&&(o.__proto__=i),o=i;r||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t.native=e}}function l(t){return y(k(t.tag),t)}function c(t){return t?x[t.toLowerCase()]:void 0}function u(t,e){x[t]=e}function d(t){return function(){return l(t)}}function h(t,e,n){return t===_?f(e,n):T(t,e)}function f(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var n,i=c(e||t);if(i){if(t==i.tag&&e==i.is)return new i.ctor;if(!e&&!i.is)return new i.ctor}return e?((n=f(t)).setAttribute("is",e),n):(n=k(t),t.indexOf("-")>=0&&b(n,HTMLElement),n)}function p(t,e){var n=t[e];t[e]=function(){var t=n.apply(this,arguments);return v(t),t}}var m,g=(t.isIE,t.upgradeDocumentTree),v=t.upgradeAll,y=t.upgradeWithDefinition,b=t.implementPrototype,w=t.useNative,C=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],x={},_="http://www.w3.org/1999/xhtml",k=document.createElement.bind(document),T=document.createElementNS.bind(document);m=Object.__proto__||w?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var n=t;n;){if(n===e.prototype)return!0;n=n.__proto__}return!1},p(Node.prototype,"cloneNode"),p(document,"importNode"),document.registerElement=e,document.createElement=f,document.createElementNS=h,t.registry=x,t["instanceof"]=m,t.reservedTagList=C,t.getRegisteredDefinition=c,document.register=document.registerElement}),function(t){function e(){r(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(t){setTimeout(t,16)})(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=t.useNative,i=t.initializeModules;if(t.isIE,n){var o=function(){};t.watchShadow=o,t.upgrade=o,t.upgradeAll=o,t.upgradeDocumentTree=o,t.upgradeSubtree=o,t.takeRecords=o,t["instanceof"]=function(t,e){return t instanceof e}}else i();var r=t.upgradeDocumentTree,a=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t["import"]&&a(wrap(t["import"]))}),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,e)}else e()}(window.CustomElements),function(){}.call(this),function(){var t=this;(function(){(function(){this.Trix={VERSION:"0.11.1",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:"\xa0",OBJECT_REPLACEMENT_CHARACTER:"\ufffc",config:{}}}).call(this)}).call(t);var e=t.Trix;(function(){(function(){e.BasicObject=function(){function t(){}var e,n,i;return t.proxyMethod=function(t){var i,o,r,a,s;return r=n(t),i=r.name,a=r.toMethod,s=r.toProperty,o=r.optional,this.prototype[i]=function(){var t,n;return t=null!=a?o?"function"==typeof this[a]?this[a]():void 0:this[a]():null!=s?this[s]:void 0,o?null!=(n=null!=t?t[i]:void 0)?e.call(n,t,arguments):void 0:(n=t[i],e.call(n,t,arguments))}},n=function(t){var e,n;if(!(n=t.match(i)))throw new Error("can't parse @proxyMethod expression: "+t);return e={name:n[4]},null!=n[2]?e.toMethod=n[1]:e.toProperty=n[1],null!=n[3]&&(e.optional=!0),e},e=Function.prototype.apply,i=/^(.+?)(\(\))?(\?)?\.(.+?)$/,t}()}).call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Object=function(n){function i(){this.id=++o}var o;return t(i,n),o=0,i.fromJSONString=function(t){return this.fromJSON(JSON.parse(t))},i.prototype.hasSameConstructorAs=function(t){return this.constructor===(null!=t?t.constructor:void 0)},i.prototype.isEqualTo=function(t){return this===t},i.prototype.inspect=function(){var t,e,n;return t=function(){var t,i,o;for(e in o=[],i=null!=(t=this.contentsForInspection())?t:{})n=i[e],o.push(e+"="+n);return o}.call(this),"#<"+this.constructor.name+":"+this.id+(t.length?" "+t.join(", "):"")+">"},i.prototype.contentsForInspection=function(){},i.prototype.toJSONString=function(){return JSON.stringify(this)},i.prototype.toUTF16String=function(){return e.UTF16String.box(this)},i.prototype.getCacheKey=function(){return this.id.toString()},i}(e.BasicObject)}.call(this),function(){e.extend=function(t){var e,n;for(e in t)n=t[e],this[e]=n;return this}}.call(this),function(){e.extend({defer:function(t){return setTimeout(t,1)}})}.call(this),function(){var t,n;e.extend({normalizeSpaces:function(t){return t.replace(RegExp(""+e.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+e.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(t){return t.replace(/\r\n/g,"\n")},breakableWhitespacePattern:RegExp("[^\\S"+e.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(t){return t.replace(RegExp(""+e.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(t,i){var o,r,a,s;return t=e.UTF16String.box(t),(i=e.UTF16String.box(i)).length<t.length?(s=(r=n(t,i))[0],o=r[1]):(o=(a=n(i,t))[0],s=a[1]),{added:o,removed:s}}}),n=function(n,i){var o,r,a,s,l;return n.isEqualTo(i)?["",""]:(a=(s=(r=t(n,i)).utf16String.length)?(l=r.offset,o=n.codepoints.slice(0,l).concat(n.codepoints.slice(l+s)),t(i,e.UTF16String.fromCodepoints(o))):t(i,n),[r.utf16String.toString(),a.utf16String.toString()])},t=function(t,e){var n,i,o;for(n=0,i=t.length,o=e.length;i>n&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;i>n+1&&t.charAt(i-1).isEqualTo(e.charAt(o-1));)i--,o--;return{utf16String:t.slice(n,i),offset:n}}}.call(this),function(){e.extend({copyObject:function(t){var e,n,i;for(e in null==t&&(t={}),n={},t)i=t[e],n[e]=i;return n},objectsAreEqual:function(t,e){var n;if(null==t&&(t={}),null==e&&(e={}),Object.keys(t).length!==Object.keys(e).length)return!1;for(n in t)if(t[n]!==e[n])return!1;return!0}})}.call(this),function(){var t=[].slice;e.extend({arraysAreEqual:function(t,e){var n,i,o;if(null==t&&(t=[]),null==e&&(e=[]),t.length!==e.length)return!1;for(i=n=0,o=t.length;o>n;i=++n)if(t[i]!==e[i])return!1;return!0},arrayStartsWith:function(t,n){return null==t&&(t=[]),null==n&&(n=[]),e.arraysAreEqual(t.slice(0,n.length),n)},spliceArray:function(){var e,n,i;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],(i=n.slice(0)).splice.apply(i,e),i},summarizeArrayChange:function(t,e){var n,i,o,r,a,s,l,c,u,d,h;for(null==t&&(t=[]),null==e&&(e=[]),n=[],d=[],o=new Set,r=0,l=t.length;l>r;r++)h=t[r],o.add(h);for(i=new Set,a=0,c=e.length;c>a;a++)h=e[a],i.add(h),o.has(h)||n.push(h);for(s=0,u=t.length;u>s;s++)h=t[s],i.has(h)||d.push(h);return{added:n,removed:d}}})}.call(this),function(){var t,n,i,o;t=null,n=null,o=null,i=null,e.extend({getAllAttributeNames:function(){return null!=t?t:t=e.getTextAttributeNames().concat(e.getBlockAttributeNames())},getBlockConfig:function(t){return e.config.blockAttributes[t]},getBlockAttributeNames:function(){return null!=n?n:n=Object.keys(e.config.blockAttributes)},getTextConfig:function(t){return e.config.textAttributes[t]},getTextAttributeNames:function(){return null!=o?o:o=Object.keys(e.config.textAttributes)},getListAttributeNames:function(){var t,n;return null!=i?i:i=function(){var i,o;for(t in o=[],i=e.config.blockAttributes)null!=(n=i[t].listAttribute)&&o.push(n);return o}()}})}.call(this),function(){var t,n,i,o,r,a=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=document.documentElement,n=null!=(i=null!=(o=null!=(r=t.matchesSelector)?r:t.webkitMatchesSelector)?o:t.msMatchesSelector)?i:t.mozMatchesSelector,e.extend({handleEvent:function(n,i){var o,r,a,s,l,c,u,d,h,f,p;return l=(u=null!=i?i:{}).onElement,s=u.matchingSelector,p=u.withCallback,a=u.inPhase,c=u.preventDefault,h=u.times,o=null!=l?l:t,d=s,p,f="capturing"===a,(r=function(t){var n;return null!=h&&0==--h&&r.destroy(),null!=(n=e.findClosestElementFromNode(t.target,{matchingSelector:d}))&&(null!=p&&p.call(n,t,n),c)?t.preventDefault():void 0}).destroy=function(){return o.removeEventListener(n,r,f)},o.addEventListener(n,r,f),r},handleEventOnce:function(t,n){return null==n&&(n={}),n.times=1,e.handleEvent(t,n)},triggerEvent:function(n,i){var o,r,a,s,l,c,u;return c=(u=null!=i?i:{}).onElement,r=u.bubbles,a=u.cancelable,o=u.attributes,s=null!=c?c:t,r=!1!==r,a=!1!==a,(l=document.createEvent("Events")).initEvent(n,r,a),null!=o&&e.extend.call(l,o),s.dispatchEvent(l)},elementMatchesSelector:function(t,e){return 1===(null!=t?t.nodeType:void 0)?n.call(t,e):void 0},findClosestElementFromNode:function(t,n){var i,o,r;for(i=(o=null!=n?n:{}).matchingSelector,r=o.untilNode;null!=t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null!=t){if(null==i)return t;if(t.closest&&null==r)return t.closest(i);for(;t&&t!==r;){if(e.elementMatchesSelector(t,i))return t;t=t.parentNode}}},findInnerElement:function(t){for(;null!=t?t.firstElementChild:void 0;)t=t.firstElementChild;return t},innerElementIsActive:function(t){return document.activeElement!==t&&e.elementContainsNode(t,document.activeElement)},elementContainsNode:function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},findNodeFromContainerAndOffset:function(t,e){var n;if(t)return t.nodeType===Node.TEXT_NODE?t:0===e?null!=(n=t.firstChild)?n:t:t.childNodes.item(e-1)},findElementFromContainerAndOffset:function(t,n){var i;return i=e.findNodeFromContainerAndOffset(t,n),e.findClosestElementFromNode(i)},findChildIndexOfNode:function(t){var e;if(null!=t?t.parentNode:void 0){for(e=0;t=t.previousSibling;)e++;return e}},walkTree:function(t,e){var n,i,o,r,a;return i=(o=null!=e?e:{}).onlyNodesOfType,r=o.usingFilter,n=o.expandEntityReferences,a=function(){switch(i){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(t,a,null!=r?r:null,!0===n)},tagName:function(t){var e;return null!=t&&null!=(e=t.tagName)?e.toLowerCase():void 0},makeElement:function(t,e){var n,i,o,r,a,s,l,c,u,d;if(null==e&&(e={}),"object"==typeof t?t=(e=t).tagName:e={attributes:e},i=document.createElement(t),null!=e.editable&&(null==e.attributes&&(e.attributes={}),e.attributes.contenteditable=e.editable),e.attributes)for(r in s=e.attributes)d=s[r],i.setAttribute(r,d);if(e.style)for(r in l=e.style)d=l[r],i.style[r]=d;if(e.data)for(r in c=e.data)d=c[r],i.dataset[r]=d;if(e.className)for(o=0,a=(u=e.className.split(" ")).length;a>o;o++)n=u[o],i.classList.add(n);return e.textContent&&(i.textContent=e.textContent),i},getBlockTagNames:function(){var t,n;return null!=e.blockTagNames?e.blockTagNames:e.blockTagNames=function(){var i,o;for(t in o=[],i=e.config.blockAttributes)n=i[t],o.push(n.tagName);return o}()},nodeIsBlockContainer:function(t){return e.nodeIsBlockStartComment(null!=t?t.firstChild:void 0)},nodeProbablyIsBlockContainer:function(t){var n,i;return n=e.tagName(t),a.call(e.getBlockTagNames(),n)>=0&&(i=e.tagName(t.firstChild),a.call(e.getBlockTagNames(),i)<0)},nodeIsBlockStart:function(t,n){return(null!=n?n:{strict:!0}).strict?e.nodeIsBlockStartComment(t):e.nodeIsBlockStartComment(t)||!e.nodeIsBlockStartComment(t.firstChild)&&e.nodeProbablyIsBlockContainer(t)},nodeIsBlockStartComment:function(t){return e.nodeIsCommentNode(t)&&"block"===(null!=t?t.data:void 0)},nodeIsCommentNode:function(t){return(null!=t?t.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(t){return t?e.nodeIsTextNode(t)?t.data===e.ZERO_WIDTH_SPACE:e.nodeIsCursorTarget(t.firstChild):void 0},nodeIsAttachmentElement:function(t){return e.elementMatchesSelector(t,e.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(t){return e.nodeIsTextNode(t)&&""===(null!=t?t.data:void 0)},nodeIsTextNode:function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var t,n,i,o,r;t=e.copyObject,o=e.objectsAreEqual,e.extend({normalizeRange:i=function(t){var e;if(null!=t)return Array.isArray(t)||(t=[t,t]),[n(t[0]),n(null!=(e=t[1])?e:t[0])]},rangeIsCollapsed:function(t){var e,n,o;if(null!=t)return o=(n=i(t))[0],e=n[1],r(o,e)},rangesAreEqual:function(t,e){var n,o,a,s,l,c;if(null!=t&&null!=e)return o=(a=i(t))[0],n=a[1],c=(s=i(e))[0],l=s[1],r(o,c)&&r(n,l)}}),n=function(e){return"number"==typeof e?e:t(e)},r=function(t,e){return"number"==typeof t?t===e:o(t,e)}}.call(this),function(){var t,n,i,o;t={extendsTagName:"div",css:"%t { display: block; }"},e.registerElement=function(e,n){var r,a,s,l,c,u,d;return null==n&&(n={}),e=e.toLowerCase(),l=null!=(d=(c=o(n)).extendsTagName)?d:t.extendsTagName,delete c.extendsTagName,a=c.defaultCSS,delete c.defaultCSS,null!=a&&l===t.extendsTagName?a+="\n"+t.css:a=t.css,i(a,e),(s=Object.getPrototypeOf(document.createElement(l))).__super__=s,u=Object.create(s,c),r=document.registerElement(e,{prototype:u}),Object.defineProperty(u,"constructor",{value:r}),r},i=function(t,e){return n(e).textContent=t.replace(/%t/g,e)},n=function(t){var e;return(e=document.createElement("style")).setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase()),document.head.insertBefore(e,document.head.firstChild),e},o=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]="function"==typeof i?{value:i}:i;return n}}.call(this),function(){var t,n;e.extend({getDOMSelection:function(){var t;return(t=window.getSelection()).rangeCount>0?t:void 0},getDOMRange:function(){var n,i;return(n=null!=(i=e.getDOMSelection())?i.getRangeAt(0):void 0)&&!t(n)?n:void 0},setDOMRange:function(t){var n;return(n=window.getSelection()).removeAllRanges(),n.addRange(t),e.selectionChangeObserver.update()}}),t=function(t){return n(t.startContainer)||n(t.endContainer)},n=function(t){return!Object.getPrototypeOf(t)}}.call(this),function(){}.call(this),function(){var t,n=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=e.arraysAreEqual,e.Hash=function(i){function o(t){null==t&&(t={}),this.values=a(t),o.__super__.constructor.apply(this,arguments)}var r,a,s,l,c;return n(o,i),o.fromCommonAttributesOfObjects=function(t){var e,n,i,o,a,s;if(null==t&&(t=[]),!t.length)return new this;for(i=(e=r(t[0])).getKeys(),n=0,o=(s=t.slice(1)).length;o>n;n++)a=s[n],i=e.getKeysCommonToHash(r(a)),e=e.slice(i);return e},o.box=function(t){return r(t)},o.prototype.add=function(t,e){return this.merge(l(t,e))},o.prototype.remove=function(t){return new e.Hash(a(this.values,t))},o.prototype.get=function(t){return this.values[t]},o.prototype.has=function(t){return t in this.values},o.prototype.merge=function(t){return new e.Hash(s(this.values,c(t)))},o.prototype.slice=function(t){var n,i,o,r;for(r={},n=0,o=t.length;o>n;n++)i=t[n],this.has(i)&&(r[i]=this.values[i]);return new e.Hash(r)},o.prototype.getKeys=function(){return Object.keys(this.values)},o.prototype.getKeysCommonToHash=function(t){var e,n,i,o,a;for(t=r(t),a=[],e=0,i=(o=this.getKeys()).length;i>e;e++)n=o[e],this.values[n]===t.values[n]&&a.push(n);return a},o.prototype.isEqualTo=function(e){return t(this.toArray(),r(e).toArray())},o.prototype.isEmpty=function(){return 0===this.getKeys().length},o.prototype.toArray=function(){var t,e,n;return(null!=this.array?this.array:this.array=function(){var i;for(t in e=[],i=this.values)n=i[t],e.push(t,n);return e}.call(this)).slice(0)},o.prototype.toObject=function(){return a(this.values)},o.prototype.toJSON=function(){return this.toObject()},o.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},l=function(t,e){var n;return(n={})[t]=e,n},s=function(t,e){var n,i,o;for(n in i=a(t),e)o=e[n],i[n]=o;return i},a=function(t,e){var n,i,o,r,a;for(r={},n=0,o=(a=Object.keys(t).sort()).length;o>n;n++)(i=a[n])!==e&&(r[i]=t[i]);return r},r=function(t){return t instanceof e.Hash?t:new e.Hash(t)},c=function(t){return t instanceof e.Hash?t.values:t},o}(e.Object)}.call(this),function(){e.ObjectGroup=function(){function t(t,e){var n,i;this.objects=null!=t?t:[],i=e.depth,(n=e.asTree)&&(this.depth=i,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return t.groupObjects=function(t,e){var n,i,o,r,a,s,l,c,u;for(null==t&&(t=[]),o=(u=null!=e?e:{}).depth,(n=u.asTree)&&null==o&&(o=0),c=[],a=0,s=t.length;s>a;a++){if(l=t[a],r){if(("function"==typeof l.canBeGrouped?l.canBeGrouped(o):void 0)&&("function"==typeof(i=r[r.length-1]).canBeGroupedWith?i.canBeGroupedWith(l,o):void 0)){r.push(l);continue}c.push(new this(r,{depth:o,asTree:n})),r=null}("function"==typeof l.canBeGrouped?l.canBeGrouped(o):void 0)?r=[l]:c.push(l)}return r&&c.push(new this(r,{depth:o,asTree:n})),c},t.prototype.getObjects=function(){return this.objects},t.prototype.getDepth=function(){return this.depth},t.prototype.getCacheKey=function(){var t,e,n,i,o;for(e=["objectGroup"],t=0,n=(o=this.getObjects()).length;n>t;t++)i=o[t],e.push(i.getCacheKey());return e.join("/")},t}()}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ObjectMap=function(e){function n(t){var e,n,i,o,r;for(null==t&&(t=[]),this.objects={},i=0,o=t.length;o>i;i++)r=t[i],n=JSON.stringify(r),null==(e=this.objects)[n]&&(e[n]=r)}return t(n,e),n.prototype.find=function(t){var e;return e=JSON.stringify(t),this.objects[e]},n}(e.BasicObject)}.call(this),function(){e.ElementStore=function(){function t(t){this.reset(t)}var e;return t.prototype.add=function(t){var n;return n=e(t),this.elements[n]=t},t.prototype.remove=function(t){var n,i;return n=e(t),(i=this.elements[n])?(delete this.elements[n],i):void 0},t.prototype.reset=function(t){var e,n,i;for(null==t&&(t=[]),this.elements={},n=0,i=t.length;i>n;n++)e=t[n],this.add(e);return t},e=function(t){return t.dataset.trixStoreKey},t}()}.call(this),function(){}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Operation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPerforming=function(){return!0===this.performing},n.prototype.hasPerformed=function(){return!0===this.performed},n.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},n.prototype.hasFailed=function(){return this.performed&&!this.succeeded},n.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise((t=this,function(e,n){return t.performing=!0,t.perform(function(i,o){return t.succeeded=i,t.performing=!1,t.performed=!0,t.succeeded?e(o):n(o)})}));var t},n.prototype.perform=function(t){return t(!1)},n.prototype.release=function(){var t;return null!=(t=this.promise)&&"function"==typeof t.cancel&&t.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},n.proxyMethod("getPromise().then"),n.proxyMethod("getPromise().catch"),n}(e.BasicObject)}.call(this),function(){var t,n,i,o,r,a=function(t,e){function n(){
this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;e.UTF16String=function(t){function e(t,e){this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return a(e,t),e.box=function(t){return null==t&&(t=""),t instanceof this?t:this.fromUCS2String(null!=t?t.toString():void 0)},e.fromUCS2String=function(t){return new this(t,o(t))},e.fromCodepoints=function(t){return new this(r(t),t)},e.prototype.offsetToUCS2Offset=function(t){return r(this.codepoints.slice(0,Math.max(0,t))).length},e.prototype.offsetFromUCS2Offset=function(t){return o(this.ucs2String.slice(0,Math.max(0,t))).length},e.prototype.slice=function(){var t;return this.constructor.fromCodepoints((t=this.codepoints).slice.apply(t,arguments))},e.prototype.charAt=function(t){return this.slice(t,t+1)},e.prototype.isEqualTo=function(t){return this.constructor.box(t).ucs2String===this.ucs2String},e.prototype.toJSON=function(){return this.ucs2String},e.prototype.getCacheKey=function(){return this.ucs2String},e.prototype.toString=function(){return this.ucs2String},e}(e.BasicObject),t=1===("function"==typeof Array.from?Array.from("\ud83d\udc7c").length:void 0),n=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),i=" \ud83d\udc7c"===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),o=t&&n?function(t){return Array.from(t).map(function(t){return t.codePointAt(0)})}:function(t){var e,n,i,o,r;for(o=[],e=0,i=t.length;i>e;)(r=t.charCodeAt(e++))>=55296&&56319>=r&&i>e&&(56320==(64512&(n=t.charCodeAt(e++)))?r=((1023&r)<<10)+(1023&n)+65536:e--),o.push(r);return o},r=i?function(t){return String.fromCodePoint.apply(String,t)}:function(t){var e,n;return function(){var i,o,r;for(r=[],i=0,o=t.length;o>i;i++)n=t[i],e="",n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),r.push(e+String.fromCharCode(n));return r}().join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){e.config.lang={bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){e.config.css={attachment:"attachment",attachmentProgress:"attachment__progress",attachmentName:"attachment__name",attachmentSize:"attachment__size",attachmentRemove:"attachment__remove",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor"}}.call(this),function(){var t;e.config.blockAttributes=t={"default":{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(n){return e.tagName(n.parentNode)===t[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(n){return e.tagName(n.parentNode)===t[this.listAttribute].tagName}}}}.call(this),function(){var t,n;t=e.config.lang,n=[t.bytes,t.KB,t.MB,t.GB,t.TB,t.PB],e.config.fileSize={prefix:"IEC",precision:2,formatter:function(e){var i,o;switch(e){case 0:return"0 "+t.bytes;case 1:return"1 "+t.byte;default:return i=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),o=Math.floor(Math.log(e)/Math.log(i)),(e/Math.pow(i,o)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"")+" "+n[o]}}}}.call(this),function(){e.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(t){var e;return"bold"===(e=window.getComputedStyle(t)).fontWeight||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(t){return"italic"===window.getComputedStyle(t).fontStyle}},href:{groupTagName:"a",parser:function(t){var n,i;return i="a:not("+e.AttachmentView.attachmentSelector+")",(n=e.findClosestElementFromNode(t,{matchingSelector:i}))?n.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var t,n,i,o,r;r="[data-trix-serialize=false]",o=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],i="["+(n="data-trix-serialized-attributes")+"]",t=new RegExp("<!--block-->","g"),e.extend({serializers:{"application/json":function(t){var n;if(t instanceof e.Document)n=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");n=e.Document.fromHTML(t.innerHTML)}return n.toSerializableDocument().toJSONString()},"text/html":function(a){var s,l,c,u,d,h,f,p,m,g,v,y,b,w,C,x,_;if(a instanceof e.Document)u=e.DocumentView.render(a);else{if(!(a instanceof HTMLElement))throw new Error("unserializable object");u=a.cloneNode(!0)}for(d=0,m=(w=u.querySelectorAll(r)).length;m>d;d++)(c=w[d]).parentNode.removeChild(c);for(h=0,g=o.length;g>h;h++)for(s=o[h],f=0,v=(C=u.querySelectorAll("["+s+"]")).length;v>f;f++)(c=C[f]).removeAttribute(s);for(p=0,y=(x=u.querySelectorAll(i)).length;y>p;p++){c=x[p];try{for(b in l=JSON.parse(c.getAttribute(n)),c.removeAttribute(n),l)_=l[b],c.setAttribute(b,_)}catch(k){}}return u.innerHTML.replace(t,"")}},deserializers:{"application/json":function(t){return e.Document.fromJSONString(t)},"text/html":function(t){return e.Document.fromHTML(t)}},serializeToContentType:function(t,n){var i;if(i=e.serializers[n])return i(t);throw new Error("unknown content type: "+n)},deserializeFromContentType:function(t,n){var i;if(i=e.deserializers[n])return i(t);throw new Error("unknown content type: "+n)}})}.call(this),function(){var t;t=e.config.lang,e.config.toolbar={getDefaultHTML:function(){return'<div class="trix-button-row">\n  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="'+t.bold+'" tabindex="-1">'+t.bold+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="'+t.italic+'" tabindex="-1">'+t.italic+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="'+t.strike+'" tabindex="-1">'+t.strike+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+t.link+'" tabindex="-1">'+t.link+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="'+t.heading1+'" tabindex="-1">'+t.heading1+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="'+t.quote+'" tabindex="-1">'+t.quote+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="'+t.code+'" tabindex="-1">'+t.code+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="'+t.bullets+'" tabindex="-1">'+t.bullets+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="'+t.numbers+'" tabindex="-1">'+t.numbers+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="'+t.outdent+'" tabindex="-1">'+t.outdent+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="'+t.indent+'" tabindex="-1">'+t.indent+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="'+t.undo+'" tabindex="-1">'+t.undo+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="'+t.redo+'" tabindex="-1">'+t.redo+'</button>\n  </span>\n</div>\n\n<div class="trix-dialogs" data-trix-dialogs>\n  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">\n    <div class="trix-dialog__link-fields">\n      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="'+t.urlPlaceholder+'" required data-trix-input>\n      <div class="trix-button-group">\n        <input type="button" class="trix-button trix-button--dialog" value="'+t.link+'" data-trix-method="setAttribute">\n        <input type="button" class="trix-button trix-button--dialog" value="'+t.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>'}}}.call(this),function(){e.config.undoInterval=5e3}.call(this),function(){e.config.attachments={preview:{caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){}.call(this),function(){e.registerElement("trix-toolbar",{defaultCSS:"%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}",createdCallback:function(){return""===this.innerHTML?this.innerHTML=e.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty,i=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e.ObjectView=function(n){function o(t,e){this.object=t,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return t(o,n),o.prototype.getNodes=function(){var t,e,n,i,o;for(null==this.nodes&&(this.nodes=this.createNodes()),o=[],t=0,e=(i=this.nodes).length;e>t;t++)n=i[t],o.push(n.cloneNode(!0));return o},o.prototype.invalidate=function(){var t;return this.nodes=null,null!=(t=this.parentView)?t.invalidate():void 0},o.prototype.invalidateViewForObject=function(t){var e;return null!=(e=this.findViewForObject(t))?e.invalidate():void 0},o.prototype.findOrCreateCachedChildView=function(t,e){var n;return(n=this.getCachedViewForObject(e))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,e)),n},o.prototype.createChildView=function(t,n,i){var o;return null==i&&(i={}),n instanceof e.ObjectGroup&&(i.viewClass=t,t=e.ObjectGroupView),o=new t(n,i),this.recordChildView(o)},o.prototype.recordChildView=function(t){return t.parentView=this,t.rootView=this.rootView,i.call(this.childViews,t)<0&&this.childViews.push(t),t},o.prototype.getAllChildViews=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.childViews).length;n>e;e++)t=i[e],o.push(t),o=o.concat(t.getAllChildViews());return o},o.prototype.findElement=function(){return this.findElementForObject(this.object)},o.prototype.findElementForObject=function(t){var e;return(e=null!=t?t.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+e+"']"):void 0},o.prototype.findViewForObject=function(t){var e,n,i,o;for(e=0,n=(i=this.getAllChildViews()).length;n>e;e++)if((o=i[e]).object===t)return o},o.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},o.prototype.isViewCachingEnabled=function(){return!1!==this.shouldCacheViews},o.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},o.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},o.prototype.getCachedViewForObject=function(t){var e;return null!=(e=this.getViewCache())?e[t.getCacheKey()]:void 0},o.prototype.cacheViewForObject=function(t,e){var n;return null!=(n=this.getViewCache())?n[e.getCacheKey()]=t:void 0},o.prototype.garbageCollectCachedViews=function(){var t,e,n,o,r,a;if(t=this.getViewCache()){for(e in a=this.getAllChildViews().concat(this),n=function(){var t,e,n;for(n=[],t=0,e=a.length;e>t;t++)r=a[t],n.push(r.object.getCacheKey());return n}(),o=[],t)i.call(n,e)<0&&o.push(delete t[e]);return o}},o}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ObjectGroupView=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return t(n,e),n.prototype.getChildViews=function(){var t,e,n,i;if(!this.childViews.length)for(t=0,e=(i=this.objectGroup.getObjects()).length;e>t;t++)n=i[t],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},n.prototype.createNodes=function(){var t,e,n,i,o,r,a,s;for(t=this.createContainerElement(),e=0,i=(a=this.getChildViews()).length;i>e;e++)for(n=0,o=(s=a[e].getNodes()).length;o>n;n++)r=s[n],t.appendChild(r);return[t]},n.prototype.createContainerElement=function(t){return null==t&&(t=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(t)},n}(e.ObjectView)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Controller=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(e.BasicObject)}.call(this),function(){var t,n,i,o,r,a,s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.findClosestElementFromNode,i=e.nodeIsEmptyTextNode,n=e.nodeIsBlockStartComment,o=e.normalizeSpaces,r=e.summarizeStringChange,a=e.tagName,e.MutationObserver=function(e){function c(t){this.element=t,this.didMutate=s(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var d,h,f,p;return l(c,e),f="["+(h="data-trix-mutable")+"]",p={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},c.prototype.start=function(){return this.reset(),this.observer.observe(this.element,p)},c.prototype.stop=function(){return this.observer.disconnect()},c.prototype.didMutate=function(t){var e,n;return(e=this.mutations).push.apply(e,this.findSignificantMutations(t)),this.mutations.length?(null!=(n=this.delegate)&&"function"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},c.prototype.reset=function(){return this.mutations=[]},c.prototype.findSignificantMutations=function(t){var e,n,i,o;for(o=[],e=0,n=t.length;n>e;e++)i=t[e],this.mutationIsSignificant(i)&&o.push(i);return o},c.prototype.mutationIsSignificant=function(t){var e,n,i,o;for(e=0,n=(o=this.nodesModifiedByMutation(t)).length;n>e;e++)if(i=o[e],this.nodeIsSignificant(i))return!0;return!1},c.prototype.nodeIsSignificant=function(t){return t!==this.element&&!this.nodeIsMutable(t)&&!i(t)},c.prototype.nodeIsMutable=function(e){return t(e,{matchingSelector:f})},c.prototype.nodesModifiedByMutation=function(t){var e;switch(e=[],t.type){case"attributes":t.attributeName!==h&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push.apply(e,t.addedNodes),e.push.apply(e,t.removedNodes)}return e},c.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},c.prototype.getTextMutationSummary=function(){var t,e,n,i,o,r,a,s,l,c,d;for(n=(s=this.getTextChangesFromCharacterData()).additions,o=s.deletions,r=0,a=(l=(d=this.getTextChangesFromChildList()).additions).length;a>r;r++)e=l[r],u.call(n,e)<0&&n.push(e);return o.push.apply(o,d.deletions),c={},(t=n.join(""))&&(c.textAdded=t),(i=o.join(""))&&(c.textDeleted=i),c},c.prototype.getMutationsByType=function(t){var e,n,i,o,r;for(r=[],e=0,n=(o=this.mutations).length;n>e;e++)(i=o[e]).type===t&&r.push(i);return r},c.prototype.getTextChangesFromChildList=function(){var t,e,i,r,a,s,l,c,u,h;for(t=[],l=[],e=0,r=(s=this.getMutationsByType("childList")).length;r>e;e++)a=s[e],t.push.apply(t,a.addedNodes),l.push.apply(l,a.removedNodes);return 0===t.length&&1===l.length&&n(l[0])?(u=[],h=["\n"]):(u=d(t),h=d(l)),{additions:function(){var t,e,n;for(n=[],i=t=0,e=u.length;e>t;i=++t)(c=u[i])!==h[i]&&n.push(o(c));return n}(),deletions:function(){var t,e,n;for(n=[],i=t=0,e=h.length;e>t;i=++t)(c=h[i])!==u[i]&&n.push(o(c));return n}()}},c.prototype.getTextChangesFromCharacterData=function(){var t,e,n,i,a,s,l,c;return(e=this.getMutationsByType("characterData")).length&&(c=e[0],n=e[e.length-1],a=o(c.oldValue),i=o(n.target.data),t=(s=r(a,i)).added,l=s.removed),{additions:t?[t]:[],deletions:l?[l]:[]}},d=function(t){var e,n,i,o;for(null==t&&(t=[]),o=[],e=0,n=t.length;n>e;e++)switch(i=t[e],i.nodeType){case Node.TEXT_NODE:o.push(i.data);break;case Node.ELEMENT_NODE:"br"===a(i)?o.push("\n"):o.push.apply(o,d(i.childNodes))}return o},c}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.FileVerificationOperation=function(e){function n(t){this.file=t}return t(n,e),n.prototype.perform=function(t){var e,n;return(e=new FileReader).onerror=function(){return t(!1)},e.onload=(n=this,function(){e.onerror=null;try{e.abort()}catch(i){}return t(!0,n.file)}),e.readAsArrayBuffer(this.file)},n}(e.Operation)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.CompositionInput=function(e){function n(t){var e;this.inputController=t,e=this.inputController,this.responder=e.responder,this.delegate=e.delegate,this.inputSummary=e.inputSummary,this.data={}}return t(n,e),n.prototype.start=function(t){var e,n;return this.data.start=t,"keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(e=this.responder)&&e.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(n=this.responder)?n.getSelectedRange():void 0},n.prototype.update=function(t){var e;return this.data.update=t,(e=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=e):void 0},n.prototype.end=function(t){var e,n,i,o;return this.data.end=t,this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.setSelectedRange(this.range),null!=(i=this.responder)&&i.insertString(this.data.end),null!=(o=this.responder)?o.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0},n.prototype.getEndData=function(){return this.data.end},n.prototype.isEnded=function(){return null!=this.getEndData()},n.prototype.canApplyToDocument=function(){var t,e;return 0===(null!=(t=this.data.start)?t.length:void 0)&&(null!=(e=this.data.end)?e.length:void 0)>0&&null!=this.range},n.proxyMethod("inputController.setInputSummary"),n.proxyMethod("inputController.requestRender"),n.proxyMethod("inputController.requestReparse"),n.proxyMethod("responder?.selectionIsExpanded"),n.proxyMethod("responder?.insertPlaceholder"),n.proxyMethod("responder?.selectPlaceholder"),n.proxyMethod("responder?.forgetPlaceholder"),n}(e.BasicObject)}.call(this),function(){var t,n,i,o,r,a,s,l,c,u,d,h,f,p,m=function(t,e){function n(){this.constructor=t}for(var i in e)g.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty,v=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};o=e.handleEvent,u=e.makeElement,a=e.innerElementIsActive,d=e.objectsAreEqual,e.tagName,e.InputController=function(r){function p(t){var n;for(n in this.element=t,this.resetInputSummary(),this.mutationObserver=new e.MutationObserver(this.element),this.mutationObserver.delegate=this,this.events)o(n,{onElement:this.element,withCallback:this.handlerFor(n),inPhase:"capturing"})}var g;return m(p,r),g=0,p.keyNames={8:"backspace",9:"tab",13:"return",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},p.prototype.handlerFor=function(t){return e=this,function(n){return e.handleInput(function(){return a(this.element)?void 0:(this.eventName=t,this.events[t].call(this,n))})};var e},p.prototype.setInputSummary=function(t){var e,n;for(e in null==t&&(t={}),this.inputSummary.eventName=this.eventName,t)n=t[e],this.inputSummary[e]=n;return this.inputSummary},p.prototype.resetInputSummary=function(){return this.inputSummary={}},p.prototype.reset=function(){return this.resetInputSummary(),e.selectionChangeObserver.reset()},p.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},p.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},p.prototype.requestRender=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestRender?t.inputControllerDidRequestRender():void 0},p.prototype.requestReparse=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestReparse&&t.inputControllerDidRequestReparse(),this.requestRender()},p.prototype.elementDidMutate=function(t){var e;return this.isComposing()?null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})},p.prototype.mutationIsExpected=function(t){var e,n,i,o,r,a,s,l,c;return a=t.textAdded,s=t.textDeleted,!!this.inputSummary.preferDocument||(e=null!=a?a===this.inputSummary.textAdded:!this.inputSummary.textAdded,n=null!=s?this.inputSummary.didDelete:!this.inputSummary.didDelete,c="\n"===s&&!n,!!(((l=("\n"===a||" \n"===a)&&!e)&&!c||c&&!l)&&(o=this.getSelectedRange())&&(i=l?a.replace(/\n$/,"").length||-1:(null!=a?a.length:void 0)||1,null!=(r=this.responder)?r.positionIsBlockBreak(o[1]+i):void 0))||e&&n)},p.prototype.mutationIsSignificant=function(t){var e,n,i;return i=Object.keys(t).length>0,e=""===(null!=(n=this.compositionInput)?n.getEndData():void 0),i||!e},p.prototype.attachFiles=function(t){var n,i;return i=function(){var i,o,r;for(r=[],i=0,o=t.length;o>i;i++)n=t[i],r.push(new e.FileVerificationOperation(n));return r}(),Promise.all(i).then(function(t){return function(e){return t.handleInput(function(){var t,n;return null!=(t=this.delegate)&&t.inputControllerWillAttachFiles(),null!=(n=this.responder)&&n.insertFiles(e),this.requestRender()})}}(this))},p.prototype.events={keydown:function(t){var n,i,o,r,a,l,c,u,d;if(this.isComposing()||this.resetInputSummary(),r=this.constructor.keyNames[t.keyCode]){for(i=this.keys,o=0,l=(u=["ctrl","alt","shift","meta"]).length;l>o;o++)c=u[o],t[c+"Key"]&&("ctrl"===c&&(c="control"),i=null!=i?i[c]:void 0);null!=(null!=i?i[r]:void 0)&&(this.setInputSummary({keyName:r}),e.selectionChangeObserver.reset(),i[r].call(this,t))}return s(t)&&(n=String.fromCharCode(t.keyCode).toLowerCase())&&((a=function(){var e,n,i,o;for(o=[],e=0,n=(i=["alt","shift"]).length;n>e;e++)c=i[e],t[c+"Key"]&&o.push(c);return o}()).push(n),null!=(d=this.delegate)?d.inputControllerDidReceiveKeyboardCommand(a):void 0)?t.preventDefault():void 0},keypress:function(t){var e,n,i;if(null==this.inputSummary.eventName&&(!t.metaKey&&!t.ctrlKey||t.altKey)&&!c(t)&&!l(t))return(i=f(t))?(null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(i),this.setInputSummary({textAdded:i,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(t){var e,n,i,o;return e=t.data,(o=this.inputSummary.textAdded)&&o!==e&&o.toUpperCase()===e?(n=this.getSelectedRange(),this.setSelectedRange([n[0],n[1]+o.length]),null!=(i=this.responder)&&i.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(n)):void 0},dragenter:function(t){return t.preventDefault()},dragstart:function(t){var e;return t.target,this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidStartDrag?e.inputControllerDidStartDrag():void 0},dragover:function(t){var e,n;return!this.draggedRange&&!this.canAcceptDataTransfer(t.dataTransfer)||(t.preventDefault(),e={x:t.clientX,y:t.clientY},d(e,this.draggingPoint))?void 0:(this.draggingPoint=e,null!=(n=this.delegate)&&"function"==typeof n.inputControllerDidReceiveDragOverPoint?n.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidCancelDrag&&t.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(t){var n,i,o,r,a,s,l,c,u;return t.preventDefault(),o=null!=(a=t.dataTransfer)?a.files:void 0,r={x:t.clientX,y:t.clientY},null!=(s=this.responder)&&s.setLocationRangeFromPointRange(r),(null!=o?o.length:void 0)?this.attachFiles(o):this.draggedRange?(null!=(l=this.delegate)&&l.inputControllerWillMoveText(),null!=(c=this.responder)&&c.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(i=t.dataTransfer.getData("application/x-trix-document"))&&(n=e.Document.fromJSONString(i),null!=(u=this.responder)&&u.insertDocument(n),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(t){var e,n;return(null!=(e=this.responder)?e.selectionIsExpanded():void 0)&&(this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented)?this.requestRender():void 0},copy:function(t){var e;return(null!=(e=this.responder)?e.selectionIsExpanded():void 0)&&this.serializeSelectionToDataTransfer(t.clipboardData)?t.preventDefault():void 0},paste:function(n){var o,r,a,s,l,c,u,d,f,p,m,y,b,w,C,x,_,k,T,S,E,A;return o=null!=(d=n.clipboardData)?d:n.testClipboardData,u={clipboard:o},null==o||h(n)?void this.getPastedHTMLUsingHiddenElement(function(t){return function(e){var n,i,o;return u.type="text/html",u.html=e,null!=(n=t.delegate)&&n.inputControllerWillPaste(u),null!=(i=t.responder)&&i.insertHTML(u.html),t.requestRender(),null!=(o=t.delegate)?o.inputControllerDidPaste(u):void 0}}(this)):((s=o.getData("URL"))?(u.type="URL",u.href=s,u.string=(c=o.getData("public.url-name"))?e.squishBreakableWhitespace(c).trim():s,null!=(f=this.delegate)&&f.inputControllerWillPaste(u),this.setInputSummary({textAdded:u.string,didDelete:this.selectionIsExpanded()}),null!=(C=this.responder)&&C.insertText(e.Text.textForStringWithAttributes(u.string,{href:u.href})),this.requestRender(),null!=(x=this.delegate)&&x.inputControllerDidPaste(u)):t(o)?(u.type="text/plain",u.string=o.getData("text/plain"),null!=(_=this.delegate)&&_.inputControllerWillPaste(u),this.setInputSummary({textAdded:u.string,didDelete:this.selectionIsExpanded()}),null!=(k=this.responder)&&k.insertString(u.string),this.requestRender(),null!=(T=this.delegate)&&T.inputControllerDidPaste(u)):(l=o.getData("text/html"))?(u.type="text/html",u.html=l,null!=(S=this.delegate)&&S.inputControllerWillPaste(u),null!=(E=this.responder)&&E.insertHTML(u.html),this.requestRender(),null!=(A=this.delegate)&&A.inputControllerDidPaste(u)):v.call(o.types,"Files")>=0&&(a=null!=(p=o.items)&&null!=(m=p[0])&&"function"==typeof m.getAsFile?m.getAsFile():void 0)&&(!a.name&&(r=i(a))&&(a.name="pasted-file-"+ ++g+"."+r),u.type="File",u.file=a,null!=(y=this.delegate)&&y.inputControllerWillAttachFiles(),null!=(b=this.responder)&&b.insertFile(u.file),this.requestRender(),null!=(w=this.delegate)&&w.inputControllerDidPaste(u)),n.preventDefault())},compositionstart:function(t){return this.getCompositionInput().start(t.data)},compositionupdate:function(t){return this.getCompositionInput().update(t.data)},compositionend:function(t){return this.getCompositionInput().end(t.data)},input:function(t){return t.stopPropagation()}},p.prototype.keys={backspace:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},"delete":function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},"return":function(){var t,e;return this.setInputSummary({preferDocument:!0}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertLineBreak():void 0},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.increaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("backward"):void 0):void 0},right:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o:function(t){var e,n;return t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{"return":function(t){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n"),this.requestRender(),t.preventDefault()},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.decreaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}}},p.prototype.handleInput=function(t){var e,n;try{return null!=(e=this.delegate)&&e.inputControllerWillHandleInput(),t.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},p.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new e.CompositionInput(this)},p.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},p.prototype.deleteInDirection=function(t,e){var n;return!1!==(null!=(n=this.responder)?n.deleteInDirection(t):void 0)?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0},p.prototype.serializeSelectionToDataTransfer=function(t){var i,o;if(n(t))return i=null!=(o=this.responder)?o.getSelectedDocument().toSerializableDocument():void 0,t.setData("application/x-trix-document",JSON.stringify(i)),t.setData("text/html",e.DocumentView.render(i).innerHTML),
t.setData("text/plain",i.toString().replace(/\n$/,"")),!0},p.prototype.canAcceptDataTransfer=function(t){var e,n,i,o,r;for(r={},e=0,n=(o=null!=(i=null!=t?t.types:void 0)?i:[]).length;n>e;e++)r[o[e]]=!0;return r.Files||r["application/x-trix-document"]||r["text/html"]||r["text/plain"]},p.prototype.getPastedHTMLUsingHiddenElement=function(t){var e,n,i;return n=this.getSelectedRange(),i={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},e=u({style:i,tagName:"div",editable:!0}),document.body.appendChild(e),e.focus(),requestAnimationFrame(function(i){return function(){var o;return o=e.innerHTML,document.body.removeChild(e),i.setSelectedRange(n),t(o)}}(this))},p.proxyMethod("responder?.getSelectedRange"),p.proxyMethod("responder?.setSelectedRange"),p.proxyMethod("responder?.expandSelectionInDirection"),p.proxyMethod("responder?.selectionIsInCursorTarget"),p.proxyMethod("responder?.selectionIsExpanded"),p}(e.BasicObject),i=function(t){var e,n;return null!=(e=t.type)&&null!=(n=e.match(/\/(\w+)$/))?n[1]:void 0},r=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),f=function(t){var n;return t.key&&r&&t.key.codePointAt(0)===t.keyCode?t.key:(null===t.which?n=t.keyCode:0!==t.which&&0!==t.charCode&&(n=t.charCode),null!=n?e.UTF16String.fromCodepoints([n]).toString():void 0)},c=function(t){return t.metaKey&&t.altKey&&!t.shiftKey&&94===t.keyCode},l=function(t){return t.metaKey&&t.altKey&&t.shiftKey&&9674===t.keyCode},s=function(t){return/Mac|^iP/.test(navigator.platform)?t.metaKey:t.ctrlKey},h=function(t){var e,n,i,o,r,a,s,l,c;if(s=t.clipboardData){if(v.call(s.types,"text/html")>=0){for(i=0,a=(l=s.types).length;a>i;i++)if(c=l[i],e=/^CorePasteboardFlavorType/.test(c),n=/^dyn\./.test(c)&&s.getData(c),e||n)return!0;return!1}return o=v.call(s.types,"com.apple.webarchive")>=0,r=v.call(s.types,"com.apple.flat-rtfd")>=0,o||r}},t=function(t){var e,n,i;return i=t.getData("text/plain"),n=t.getData("text/html"),i&&n?((e=u("div")).innerHTML=n,e.textContent===i?!e.querySelector(":not(meta)"):void 0):null!=i?i.length:void 0},p={"application/x-trix-feature-detection":"test"},n=function(t){var e,n;if(null!=(null!=t?t.setData:void 0)){for(e in p)if(n=p[e],!function(){try{return t.setData(e,n),t.getData(e)===n}catch(i){}}())return;return!0}}}.call(this),function(){var t,n,i,o,r,a,s,l=function(t,e){return function(){return t.apply(e,arguments)}},c=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;n=e.handleEvent,r=e.makeElement,s=e.tagName,i=e.InputController.keyNames,a=e.config,o=a.lang,t=a.css,e.AttachmentEditorController=function(e){function a(t,e,n){this.attachmentPiece=t,this.element=e,this.container=n,this.didBlurCaption=l(this.didBlurCaption,this),this.didChangeCaption=l(this.didChangeCaption,this),this.didInputCaption=l(this.didInputCaption,this),this.didKeyDownCaption=l(this.didKeyDownCaption,this),this.didClickCaption=l(this.didClickCaption,this),this.didClickRemoveButton=l(this.didClickRemoveButton,this),this.attachment=this.attachmentPiece.attachment,"a"===s(this.element)&&(this.element=this.element.firstChild),this.install()}var u;return c(a,e),u=function(t){return function(){var e;return(e=t.apply(this,arguments))["do"](),null==this.undos&&(this.undos=[]),this.undos.push(e.undo)}},a.prototype.install=function(){return this.makeElementMutable(),this.attachment.isPreviewable()&&this.makeCaptionEditable(),this.addRemoveButton()},a.prototype.uninstall=function(){var t,e;for(this.savePendingCaption();e=this.undos.pop();)e();return null!=(t=this.delegate)?t.didUninstallAttachmentEditor(this):void 0},a.prototype.savePendingCaption=function(){var t,e,n;return null!=this.pendingCaption?(t=this.pendingCaption,this.pendingCaption=null,t?null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestUpdatingAttributesForAttachment?e.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:t},this.attachment):void 0:null!=(n=this.delegate)&&"function"==typeof n.attachmentEditorDidRequestRemovingAttributeForAttachment?n.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},a.prototype.makeElementMutable=u(function(){return{"do":(t=this,function(){return t.element.dataset.trixMutable=!0}),undo:function(t){return function(){return delete t.element.dataset.trixMutable}}(this)};var t}),a.prototype.makeCaptionEditable=u(function(){var t,e,i;return t=this.element.querySelector("figcaption"),e=null,{"do":(i=this,function(){return e=n("click",{onElement:t,withCallback:i.didClickCaption,inPhase:"capturing"})}),undo:function(){return e.destroy()}}}),a.prototype.addRemoveButton=u(function(){var e;return e=r({tagName:"button",textContent:o.remove,className:t.attachmentRemove+" "+t.attachmentRemove+"--icon",attributes:{type:"button",title:o.remove},data:{trixMutable:!0}}),n("click",{onElement:e,withCallback:this.didClickRemoveButton}),{"do":function(t){return function(){return t.element.appendChild(e)}}(this),undo:function(t){return function(){return t.element.removeChild(e)}}(this)}}),a.prototype.editCaption=u(function(){var e,i,a,s,l;return(s=r({tagName:"textarea",className:t.attachmentCaptionEditor,attributes:{placeholder:o.captionPlaceholder}})).value=this.attachmentPiece.getCaption(),(l=s.cloneNode()).classList.add("trix-autoresize-clone"),e=function(){return l.value=s.value,s.style.height=l.scrollHeight+"px"},n("keydown",{onElement:s,withCallback:this.didKeyDownCaption}),n("input",{onElement:s,withCallback:this.didInputCaption}),n("change",{onElement:s,withCallback:this.didChangeCaption}),n("blur",{onElement:s,withCallback:this.didBlurCaption}),a=this.element.querySelector("figcaption"),i=a.cloneNode(),{"do":function(){return a.style.display="none",i.appendChild(s),i.appendChild(l),i.classList.add(t.attachmentCaption+"--editing"),a.parentElement.insertBefore(i,a),e(),s.focus()},undo:function(){return i.parentNode.removeChild(i),a.style.display=null}}}),a.prototype.didClickRemoveButton=function(t){var e;return t.preventDefault(),t.stopPropagation(),null!=(e=this.delegate)?e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0},a.prototype.didClickCaption=function(t){return t.preventDefault(),this.editCaption()},a.prototype.didKeyDownCaption=function(t){var e;return"return"===i[t.keyCode]?(t.preventDefault(),this.savePendingCaption(),null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestDeselectingAttachment?e.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},a.prototype.didInputCaption=function(t){return this.pendingCaption=t.target.value.replace(/\s/g," ").trim()},a.prototype.didChangeCaption=function(){return this.savePendingCaption()},a.prototype.didBlurCaption=function(){return this.savePendingCaption()},a}(e.BasicObject)}.call(this),function(){var t,n,i,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;i=e.makeElement,t=e.config.css,e.AttachmentView=function(r){function a(){a.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var s;return o(a,r),a.attachmentSelector="[data-trix-attachment]",a.prototype.createContentNodes=function(){return[]},a.prototype.createNodes=function(){var e,n,o,r,a,l,c,u,d,h,f;if(r=i({tagName:"figure",className:this.getClassName()}),this.attachment.hasContent())r.innerHTML=this.attachment.getContent();else for(l=0,u=(h=this.createContentNodes()).length;u>l;l++)d=h[l],r.appendChild(d);for(c in r.appendChild(this.createCaptionElement()),n={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},(e=this.attachmentPiece.getAttributesForAttachment()).isEmpty()||(n.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(this.progressElement=i({tagName:"progress",attributes:{"class":t.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),r.appendChild(this.progressElement),n.trixSerialize=!1),(a=this.getHref())?(o=i("a",{href:a,tabindex:-1})).appendChild(r):o=r,n)f=n[c],o.dataset[c]=f;return o.setAttribute("contenteditable",!1),[s("left"),o,s("right")]},a.prototype.createCaptionElement=function(){var e,n,o,r,a,s,l;return o=i({tagName:"figcaption",className:t.attachmentCaption}),(e=this.attachmentPiece.getCaption())?(o.classList.add(t.attachmentCaption+"--edited"),o.textContent=e):((n=this.getCaptionConfig()).name&&(r=this.attachment.getFilename()),n.size&&(s=this.attachment.getFormattedFilesize()),r&&(a=i({tagName:"span",className:t.attachmentName,textContent:r}),o.appendChild(a)),s&&(r&&o.appendChild(document.createTextNode(" ")),l=i({tagName:"span",className:t.attachmentSize,textContent:s}),o.appendChild(l))),o},a.prototype.getClassName=function(){var e,n;return n=[t.attachment,t.attachment+"--"+this.attachment.getType()],(e=this.attachment.getExtension())&&n.push(t.attachment+"--"+e),n.join(" ")},a.prototype.getHref=function(){return n(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},a.prototype.getCaptionConfig=function(){var t,n,i;return i=this.attachment.getType(),t=e.copyObject(null!=(n=e.config.attachments[i])?n.caption:void 0),"file"===i&&(t.name=!0),t},a.prototype.findProgressElement=function(){var t;return null!=(t=this.findElement())?t.querySelector("progress"):void 0},s=function(t){return i({tagName:"span",textContent:e.ZERO_WIDTH_SPACE,data:{trixCursorTarget:t,trixSerialize:!1}})},a.prototype.attachmentDidChangeUploadProgress=function(){var t,e;return e=this.attachment.getUploadProgress(),null!=(t=this.findProgressElement())?t.value=e:void 0},a}(e.ObjectView),n=function(t,e){var n;return(n=i("div")).innerHTML=null!=t?t:"",n.querySelector(e)}}.call(this),function(){var t,n=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=e.makeElement,e.PreviewableAttachmentView=function(i){function o(){o.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return n(o,i),o.prototype.createContentNodes=function(){return this.image=t({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},o.prototype.createCaptionElement=function(){var t;return(t=o.__super__.createCaptionElement.apply(this,arguments)).textContent||t.setAttribute("data-trix-placeholder",e.config.lang.captionPlaceholder),t},o.prototype.refresh=function(t){var e;return null==t&&(t=null!=(e=this.findElement())?e.querySelector("img"):void 0),t?this.updateAttributesForImage(t):void 0},o.prototype.updateAttributesForImage=function(t){var e,n,i,o,r,a;return r=this.attachment.getURL(),n=this.attachment.getPreviewURL(),t.src=n||r,n===r?t.removeAttribute("data-trix-serialized-attributes"):(i=JSON.stringify({src:r}),t.setAttribute("data-trix-serialized-attributes",i)),a=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=a&&(t.width=a),null!=e&&(t.height=e),o=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/"),t.dataset.trixStoreKey=o},o.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},o}(e.AttachmentView)}.call(this),function(){var t,n,i,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;i=e.makeElement,t=e.findInnerElement,n=e.getTextConfig,e.PieceView=function(r){function a(){var t;a.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),t=this.options,this.textConfig=t.textConfig,this.context=t.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var s;return o(a,r),a.prototype.createNodes=function(){var e,n,i,o,r,a;if(a=this.attachment?this.createAttachmentNodes():this.createStringNodes(),e=this.createElement()){for(i=t(e),n=0,o=a.length;o>n;n++)r=a[n],i.appendChild(r);a=[e]}return a},a.prototype.createAttachmentNodes=function(){var t;return t=this.attachment.isPreviewable()?e.PreviewableAttachmentView:e.AttachmentView,this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()},a.prototype.createStringNodes=function(){var t,e,n,o,r,a,s,l,c;if(null!=(s=this.textConfig)?s.plaintext:void 0)return[document.createTextNode(this.string)];for(a=[],n=e=0,o=(l=this.string.split("\n")).length;o>e;n=++e)c=l[n],n>0&&(t=i("br"),a.push(t)),c.length&&(r=document.createTextNode(this.preserveSpaces(c)),a.push(r));return a},a.prototype.createElement=function(){var t,e,o,r,a,s,l,c,u;for(r in c={},s=this.attributes)if(u=s[r],(t=n(r))&&(t.tagName&&(a=i(t.tagName),o?(o.appendChild(a),o=a):e=o=a),t.styleProperty&&(c[t.styleProperty]=u),t.style))for(r in l=t.style)u=l[r],c[r]=u;if(Object.keys(c).length)for(r in null==e&&(e=i("span")),c)u=c[r],e.style[r]=u;return e},a.prototype.createContainerElement=function(){var t,e,o,r,a;for(o in r=this.attributes)if(a=r[o],(e=n(o))&&e.groupTagName)return(t={})[o]=a,i(e.groupTagName,t)},s=e.NON_BREAKING_SPACE,a.prototype.preserveSpaces=function(t){return this.context.isLast&&(t=t.replace(/\ $/,s)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 "+s+" $2").replace(/\ {2}/g,s+" ").replace(/\ {2}/g," "+s),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,s)),t},a}(e.ObjectView)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.TextView=function(n){function i(){i.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var o;return t(i,n),i.prototype.createNodes=function(){var t,n,i,r,a,s,l,c,u,d;for(s=[],r=(c=e.ObjectGroup.groupObjects(this.getPieces())).length-1,i=n=0,a=c.length;a>n;i=++n)l=c[i],t={},0===i&&(t.isFirst=!0),i===r&&(t.isLast=!0),o(u)&&(t.followsWhitespace=!0),d=this.findOrCreateCachedChildView(e.PieceView,l,{textConfig:this.textConfig,context:t}),s.push.apply(s,d.getNodes()),u=l;return s},i.prototype.getPieces=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.text.getPieces()).length;e>t;t++)(n=i[t]).hasAttribute("blockBreak")||o.push(n);return o},o=function(t){return/\s$/.test(null!=t?t.toString():void 0)},i}(e.ObjectView)}.call(this),function(){var t,n,i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=e.makeElement,t=e.getBlockConfig,e.BlockView=function(o){function r(){r.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return i(r,o),r.prototype.createNodes=function(){var i,o,r,a,s,l,c,u;if(s=[document.createComment("block")],this.block.isEmpty()?s.push(n("br")):(c=null!=(l=t(this.block.getLastAttribute()))?l.text:void 0,u=this.findOrCreateCachedChildView(e.TextView,this.block.text,{textConfig:c}),s.push.apply(s,u.getNodes()),this.shouldAddExtraNewlineElement()&&s.push(n("br"))),this.attributes.length)return s;for(i=n(e.config.blockAttributes["default"].tagName),o=0,r=s.length;r>o;o++)a=s[o],i.appendChild(a);return[i]},r.prototype.createContainerElement=function(e){var i,o;return i=this.attributes[e],o=t(i),n(o.tagName)},r.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},r}(e.ObjectView)}.call(this),function(){var t,n,i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;t=e.defer,n=e.makeElement,e.DocumentView=function(o){function r(){r.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new e.ElementStore,this.setDocument(this.object)}var a,s,l;return i(r,o),r.render=function(t){var e,i;return(i=new this(t,{element:e=n("div")})).render(),i.sync(),e},r.prototype.setDocument=function(t){return t.isEqualTo(this.document)?void 0:this.document=this.object=t},r.prototype.render=function(){var t,i,o,r,a,s,l;if(this.childViews=[],this.shadowElement=n("div"),!this.document.isEmpty()){for(s=[],t=0,i=(a=e.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0})).length;i>t;t++)r=a[t],l=this.findOrCreateCachedChildView(e.BlockView,r),s.push(function(){var t,e,n,i;for(i=[],t=0,e=(n=l.getNodes()).length;e>t;t++)o=n[t],i.push(this.shadowElement.appendChild(o));return i}.call(this));return s}},r.prototype.isSynced=function(){return a(this.shadowElement,this.element)},r.prototype.sync=function(){var t;for(t=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()},r.prototype.didSync=function(){return this.elementStore.reset(s(this.element)),t(function(t){return function(){return t.garbageCollectCachedViews()}}(this))},r.prototype.createDocumentFragmentForSync=function(){var t,e,n,i,o,r,a,l,c,u;for(e=document.createDocumentFragment(),n=0,o=(l=this.shadowElement.childNodes).length;o>n;n++)a=l[n],e.appendChild(a.cloneNode(!0));for(i=0,r=(c=s(e)).length;r>i;i++)t=c[i],(u=this.elementStore.remove(t))&&t.parentNode.replaceChild(u,t);return e},s=function(t){return t.querySelectorAll("[data-trix-store-key]")},a=function(t,e){return l(t.innerHTML)===l(e.innerHTML)},l=function(t){return t.replace(/&nbsp;/g," ")},r}(e.ObjectView)}.call(this),function(){var t,n,i,o,r=function(t,e){return function(){return t.apply(e,arguments)}},a=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=e.handleEvent,o=e.innerElementIsActive,n=e.defer,t=e.AttachmentView.attachmentSelector,e.CompositionController=function(s){function l(n,o){this.element=n,this.composition=o,this.didClickAttachment=r(this.didClickAttachment,this),this.didBlur=r(this.didBlur,this),this.didFocus=r(this.didFocus,this),this.documentView=new e.DocumentView(this.composition.document,{element:this.element}),i("focus",{onElement:this.element,withCallback:this.didFocus}),i("blur",{onElement:this.element,withCallback:this.didBlur}),i("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),i("mousedown",{onElement:this.element,matchingSelector:t,withCallback:this.didClickAttachment}),i("click",{onElement:this.element,matchingSelector:"a"+t,preventDefault:!0})}return a(l,s),l.prototype.didFocus=function(){var t,e,n;return t=function(t){return function(){var e;return t.focused?void 0:(t.focused=!0,null!=(e=t.delegate)&&"function"==typeof e.compositionControllerDidFocus?e.compositionControllerDidFocus():void 0)}}(this),null!=(e=null!=(n=this.blurPromise)?n.then(t):void 0)?e:t()},l.prototype.didBlur=function(){return this.blurPromise=new Promise((t=this,function(e){return n(function(){var n;return o(t.element)||(t.focused=null,null!=(n=t.delegate)&&"function"==typeof n.compositionControllerDidBlur&&n.compositionControllerDidBlur()),t.blurPromise=null,e()})}));var t},l.prototype.didClickAttachment=function(t,e){var n,i;return n=this.findAttachmentForElement(e),null!=(i=this.delegate)&&"function"==typeof i.compositionControllerDidSelectAttachment?i.compositionControllerDidSelectAttachment(n):void 0},l.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},l.prototype.render=function(){var t,e,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&(null!=(t=this.delegate)&&"function"==typeof t.compositionControllerWillSyncDocumentView&&t.compositionControllerWillSyncDocumentView(),this.documentView.sync(),null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidSyncDocumentView&&e.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&"function"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},l.prototype.rerenderViewForObject=function(t){return this.invalidateViewForObject(t),this.render()},l.prototype.invalidateViewForObject=function(t){return this.documentView.invalidateViewForObject(t)},l.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},l.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},l.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},l.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},l.prototype.isEditingAttachment=function(){return null!=this.attachmentEditor},l.prototype.installAttachmentEditorForAttachment=function(t){var n,i,o;if((null!=(o=this.attachmentEditor)?o.attachment:void 0)!==t&&(i=this.documentView.findElementForObject(t)))return this.uninstallAttachmentEditor(),n=this.composition.document.getAttachmentPieceForAttachment(t),this.attachmentEditor=new e.AttachmentEditorController(n,i,this.element),this.attachmentEditor.delegate=this},l.prototype.uninstallAttachmentEditor=function(){var t;return null!=(t=this.attachmentEditor)?t.uninstall():void 0},l.prototype.editAttachmentCaption=function(){var t;return null!=(t=this.attachmentEditor)?t.editCaption():void 0},l.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},l.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.updateAttributesForAttachment(t,e)},l.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.removeAttributeForAttachment(t,e)},l.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestRemovalOfAttachment?e.compositionControllerDidRequestRemovalOfAttachment(t):void 0},l.prototype.attachmentEditorDidRequestDeselectingAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestDeselectingAttachment?e.compositionControllerDidRequestDeselectingAttachment(t):void 0},l.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},l.prototype.findAttachmentForElement=function(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))},l}(e.BasicObject)}.call(this),function(){var t,n,i,o=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=e.handleEvent,i=e.triggerEvent,t=e.findClosestElementFromNode,e.ToolbarController=function(e){function a(t){this.element=t,this.didKeyDownDialogInput=o(this.didKeyDownDialogInput,this),this.didClickDialogButton=o(this.didClickDialogButton,this),this.didClickAttributeButton=o(this.didClickAttributeButton,this),this.didClickActionButton=o(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),n("mousedown",{onElement:this.element,matchingSelector:s,withCallback:this.didClickActionButton}),n("mousedown",{onElement:this.element,matchingSelector:c,withCallback:this.didClickAttributeButton}),n("click",{onElement:this.element,matchingSelector:v,preventDefault:!0}),n("click",{onElement:this.element,matchingSelector:u,withCallback:this.didClickDialogButton}),n("keydown",{onElement:this.element,matchingSelector:d,withCallback:this.didKeyDownDialogInput})}var s,l,c,u,d,h,f,p,m,g,v;return r(a,e),v=(c="[data-trix-attribute]")+", "+(s="[data-trix-action]"),l=(h="[data-trix-dialog]")+"[data-trix-active]",u=h+" [data-trix-method]",d=h+" [data-trix-input]",a.prototype.didClickActionButton=function(t,e){var n,i,o;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=f(e),this.getDialog(n)?this.toggleDialog(n):null!=(o=this.delegate)?o.toolbarDidInvokeAction(n):void 0},a.prototype.didClickAttributeButton=function(t,e){var n,i,o;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=p(e),this.getDialog(n)?this.toggleDialog(n):null!=(o=this.delegate)&&o.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},a.prototype.didClickDialogButton=function(e,n){var i;return i=t(n,{matchingSelector:h}),this[n.getAttribute("data-trix-method")].call(this,i)},a.prototype.didKeyDownDialogInput=function(t,e){var n,i;return 13===t.keyCode&&(t.preventDefault(),n=e.getAttribute("name"),i=this.getDialog(n),this.setAttribute(i)),27===t.keyCode?(t.preventDefault(),this.hideDialog()):void 0},a.prototype.updateActions=function(t){return this.actions=t,this.refreshActionButtons()},a.prototype.refreshActionButtons=function(){return this.eachActionButton((t=this,function(e,n){return e.disabled=!1===t.actions[n]}));var t},a.prototype.eachActionButton=function(t){var e,n,i,o,r;for(r=[],n=0,i=(o=this.element.querySelectorAll(s)).length;i>n;n++)e=o[n],r.push(t(e,f(e)));return r},a.prototype.updateAttributes=function(t){return this.attributes=t,this.refreshAttributeButtons()},a.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton((t=this,function(e,n){return e.disabled=!1===t.attributes[n],t.attributes[n]||t.dialogIsVisible(n)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))}));var t},a.prototype.eachAttributeButton=function(t){var e,n,i,o,r;for(r=[],n=0,i=(o=this.element.querySelectorAll(c)).length;i>n;n++)e=o[n],r.push(t(e,p(e)));return r},a.prototype.applyKeyboardCommand=function(t){var e,n,o,r,a,s;for(r=JSON.stringify(t.sort()),o=0,a=(s=this.element.querySelectorAll("[data-trix-key]")).length;a>o;o++)if(n=(e=s[o]).getAttribute("data-trix-key").split("+"),JSON.stringify(n.sort())===r)return i("mousedown",{onElement:e}),!0;return!1},a.prototype.dialogIsVisible=function(t){var e;return(e=this.getDialog(t))?e.hasAttribute("data-trix-active"):void 0},a.prototype.toggleDialog=function(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)},a.prototype.showDialog=function(t){var e,n,i,o,r,a,s,l,c;for(this.hideDialog(),null!=(a=this.delegate)&&a.toolbarWillShowDialog(),(n=this.getDialog(t)).setAttribute("data-trix-active",""),n.classList.add("trix-active"),i=0,r=(s=n.querySelectorAll("input[disabled]")).length;r>i;i++)s[i].removeAttribute("disabled");return(e=p(n))&&(o=g(n,t))&&(o.value=null!=(l=this.attributes[e])?l:"",o.select()),null!=(c=this.delegate)?c.toolbarDidShowDialog(t):void 0},a.prototype.setAttribute=function(t){var e,n,i;return e=p(t),(n=g(t,e)).willValidate&&!n.checkValidity()?(n.setAttribute("data-trix-validate",""),n.classList.add("trix-validate"),n.focus()):(null!=(i=this.delegate)&&i.toolbarDidUpdateAttribute(e,n.value),this.hideDialog())},a.prototype.removeAttribute=function(t){var e,n;return e=p(t),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(e),this.hideDialog()},a.prototype.hideDialog=function(){var t,e;return(t=this.element.querySelector(l))?(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),null!=(e=this.delegate)?e.toolbarDidHideDialog(m(t)):void 0):void 0},a.prototype.resetDialogInputs=function(){var t,e,n,i,o;for(o=[],t=0,n=(i=this.element.querySelectorAll(d)).length;n>t;t++)(e=i[t]).setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),o.push(e.classList.remove("trix-validate"));return o},a.prototype.getDialog=function(t){return this.element.querySelector("[data-trix-dialog="+t+"]")},g=function(t,e){return null==e&&(e=p(t)),t.querySelector("[data-trix-input][name='"+e+"']")},f=function(t){return t.getAttribute("data-trix-action")},p=function(t){var e;return null!=(e=t.getAttribute("data-trix-attribute"))?e:t.getAttribute("data-trix-dialog-attribute")},m=function(t){return t.getAttribute("data-trix-dialog")},a}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ImagePreloadOperation=function(e){function n(t){this.url=t}return t(n,e),n.prototype.perform=function(t){var e,n;return(e=new Image).onload=(n=this,function(){return e.width=n.width=e.naturalWidth,e.height=n.height=e.naturalHeight,t(!0,e)}),e.onerror=function(){return t(!1)},e.src=this.url},n}(e.Operation)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.Attachment=function(i){function o(n){null==n&&(n={}),this.releaseFile=t(this.releaseFile,this),o.__super__.constructor.apply(this,arguments),this.attributes=e.Hash.box(n),this.didChangeAttributes()}return n(o,i),o.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,o.attachmentForFile=function(t){var e;return(e=new this(this.attributesForFile(t))).setFile(t),e},o.attributesForFile=function(t){return new e.Hash({filename:t.name,filesize:t.size,contentType:t.type})},o.fromJSON=function(t){return new this(t)},o.prototype.getAttribute=function(t){return this.attributes.get(t)},o.prototype.hasAttribute=function(t){return this.attributes.has(t)},o.prototype.getAttributes=function(){return this.attributes.toObject()},o.prototype.setAttributes=function(t){var e,n,i;return null==t&&(t={}),e=this.attributes.merge(t),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(n=this.previewDelegate)&&"function"==typeof n.attachmentDidChangeAttributes&&n.attachmentDidChangeAttributes(this),null!=(i=this.delegate)&&"function"==typeof i.attachmentDidChangeAttributes?i.attachmentDidChangeAttributes(this):void 0)},o.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},o.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},o.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},o.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},o.prototype.getURL=function(){return this.attributes.get("url")},o.prototype.getHref=function(){return this.attributes.get("href")},o.prototype.getFilename=function(){var t;return null!=(t=this.attributes.get("filename"))?t:""},o.prototype.getFilesize=function(){return this.attributes.get("filesize")},o.prototype.getFormattedFilesize=function(){var t;return"number"==typeof(t=this.attributes.get("filesize"))?e.config.fileSize.formatter(t):""},o.prototype.getExtension=function(){var t;return null!=(t=this.getFilename().match(/\.(\w+)$/))?t[1].toLowerCase():void 0},o.prototype.getContentType=function(){return this.attributes.get("contentType")},o.prototype.hasContent=function(){return this.attributes.has("content")},o.prototype.getContent=function(){return this.attributes.get("content")},o.prototype.getWidth=function(){return this.attributes.get("width")},o.prototype.getHeight=function(){return this.attributes.get("height")},o.prototype.getFile=function(){return this.file},o.prototype.setFile=function(t){return this.file=t,this.isPreviewable()?this.preloadFile():void 0},o.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},o.prototype.getUploadProgress=function(){var t;return null!=(t=this.uploadProgress)?t:0},o.prototype.setUploadProgress=function(t){var e;return this.uploadProgress!==t?(this.uploadProgress=t,
null!=(e=this.uploadProgressDelegate)&&"function"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},o.prototype.toJSON=function(){return this.getAttributes()},o.prototype.getCacheKey=function(){return[o.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},o.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},o.prototype.setPreviewURL=function(t){var e,n;return t!==this.getPreviewURL()?(this.previewURL=t,null!=(e=this.previewDelegate)&&"function"==typeof e.attachmentDidChangeAttributes&&e.attachmentDidChangeAttributes(this),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangePreviewURL?n.attachmentDidChangePreviewURL(this):void 0):void 0},o.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},o.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},o.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},o.prototype.preload=function(t,n){return t&&t!==this.getPreviewURL()?(this.preloadingURL=t,new e.ImagePreloadOperation(t).then(function(e){return function(i){var o,r;return r=i.width,o=i.height,e.setAttributes({width:r,height:o}),e.preloadingURL=null,e.setPreviewURL(t),"function"==typeof n?n():void 0}}(this))):void 0},o}(e.Object)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Piece=function(n){function i(t,n){null==n&&(n={}),i.__super__.constructor.apply(this,arguments),this.attributes=e.Hash.box(n)}return t(i,n),i.types={},i.registerType=function(t,e){return e.type=t,this.types[t]=e},i.fromJSON=function(t){var e;return(e=this.types[t.type])?e.fromJSON(t):void 0},i.prototype.copyWithAttributes=function(t){return new this.constructor(this.getValue(),t)},i.prototype.copyWithAdditionalAttributes=function(t){return this.copyWithAttributes(this.attributes.merge(t))},i.prototype.copyWithoutAttribute=function(t){return this.copyWithAttributes(this.attributes.remove(t))},i.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},i.prototype.getAttribute=function(t){return this.attributes.get(t)},i.prototype.getAttributesHash=function(){return this.attributes},i.prototype.getAttributes=function(){return this.attributes.toObject()},i.prototype.getCommonAttributes=function(){var t,e,n;return(n=pieceList.getPieceAtIndex(0))?(t=n.attributes,e=t.getKeys(),pieceList.eachPiece(function(n){return e=t.getKeysCommonToHash(n.attributes),t=t.slice(e)}),t.toObject()):{}},i.prototype.hasAttribute=function(t){return this.attributes.has(t)},i.prototype.hasSameStringValueAsPiece=function(t){return null!=t&&this.toString()===t.toString()},i.prototype.hasSameAttributesAsPiece=function(t){return null!=t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))},i.prototype.isBlockBreak=function(){return!1},i.prototype.isEqualTo=function(t){return i.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isSerializable=function(){return!0},i.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},i.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},i.prototype.canBeGrouped=function(){return this.hasAttribute("href")},i.prototype.canBeGroupedWith=function(t){return this.getAttribute("href")===t.getAttribute("href")},i.prototype.getLength=function(){return this.length},i.prototype.canBeConsolidatedWith=function(){return!1},i}(e.Object)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Piece.registerType("attachment",e.AttachmentPiece=function(n){function i(t){this.attachment=t,i.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href")}return t(i,n),i.fromJSON=function(t){return new this(e.Attachment.fromJSON(t.attachment),t.attributes)},i.prototype.ensureAttachmentExclusivelyHasAttribute=function(t){return this.hasAttribute(t)&&this.attachment.hasAttribute(t)?this.attributes=this.attributes.remove(t):void 0},i.prototype.getValue=function(){return this.attachment},i.prototype.isSerializable=function(){return!this.attachment.isPending()},i.prototype.getCaption=function(){var t;return null!=(t=this.attributes.get("caption"))?t:""},i.prototype.getAttributesForAttachment=function(){return this.attributes.slice(["caption"])},i.prototype.canBeGrouped=function(){return i.__super__.canBeGrouped.apply(this,arguments)&&!this.attachment.hasAttribute("href")},i.prototype.isEqualTo=function(t){var e;return i.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=t&&null!=(e=t.attachment)?e.id:void 0)},i.prototype.toString=function(){return e.OBJECT_REPLACEMENT_CHARACTER},i.prototype.toJSON=function(){var t;return(t=i.__super__.toJSON.apply(this,arguments)).attachment=this.attachment,t},i.prototype.getCacheKey=function(){return[i.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},i.prototype.toConsole=function(){return JSON.stringify(this.toString())},i}(e.Piece))}.call(this),function(){var t,n=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=e.normalizeNewlines,e.Piece.registerType("string",e.StringPiece=function(e){function i(e){i.__super__.constructor.apply(this,arguments),this.string=t(e),this.length=this.string.length}return n(i,e),i.fromJSON=function(t){return new this(t.string,t.attributes)},i.prototype.getValue=function(){return this.string},i.prototype.toString=function(){return this.string.toString()},i.prototype.isBlockBreak=function(){return"\n"===this.toString()&&!0===this.getAttribute("blockBreak")},i.prototype.toJSON=function(){var t;return(t=i.__super__.toJSON.apply(this,arguments)).string=this.string,t},i.prototype.canBeConsolidatedWith=function(t){return null!=t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)},i.prototype.consolidateWith=function(t){return new this.constructor(this.toString()+t.toString(),this.attributes)},i.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.length?(e=this,n=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),n=new this.constructor(this.string.slice(t),this.attributes)),[e,n]},i.prototype.toConsole=function(){var t;return(t=this.string).length>15&&(t=t.slice(0,14)+"\u2026"),JSON.stringify(t.toString())},i}(e.Piece))}.call(this),function(){var t,n=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,o=[].slice;t=e.spliceArray,e.SplittableList=function(e){function i(t){null==t&&(t=[]),i.__super__.constructor.apply(this,arguments),this.objects=t.slice(0),this.length=this.objects.length}var r,a,s;return n(i,e),i.box=function(t){return t instanceof this?t:new this(t)},i.prototype.indexOf=function(t){return this.objects.indexOf(t)},i.prototype.splice=function(){var e;return e=1<=arguments.length?o.call(arguments,0):[],new this.constructor(t.apply(null,[this.objects].concat(o.call(e))))},i.prototype.eachObject=function(t){var e,n,i,o,r,a;for(a=[],n=e=0,i=(r=this.objects).length;i>e;n=++e)o=r[n],a.push(t(o,n));return a},i.prototype.insertObjectAtIndex=function(t,e){return this.splice(e,0,t)},i.prototype.insertSplittableListAtIndex=function(t,e){return this.splice.apply(this,[e,0].concat(o.call(t.objects)))},i.prototype.insertSplittableListAtPosition=function(t,e){var n,i,o;return i=(o=this.splitObjectAtPosition(e))[0],n=o[1],new this.constructor(i).insertSplittableListAtIndex(t,n)},i.prototype.editObjectAtIndex=function(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)},i.prototype.replaceObjectAtIndex=function(t,e){return this.splice(e,1,t)},i.prototype.removeObjectAtIndex=function(t){return this.splice(t,1)},i.prototype.getObjectAtIndex=function(t){return this.objects[t]},i.prototype.getSplittableListInRange=function(t){var e,n,i,o;return n=(i=this.splitObjectsAtRange(t))[0],e=i[1],o=i[2],new this.constructor(n.slice(e,o+1))},i.prototype.selectSplittableList=function(t){var e,n;return n=function(){var n,i,o,r;for(r=[],n=0,i=(o=this.objects).length;i>n;n++)e=o[n],t(e)&&r.push(e);return r}.call(this),new this.constructor(n)},i.prototype.removeObjectsInRange=function(t){var e,n,i,o;return n=(i=this.splitObjectsAtRange(t))[0],e=i[1],o=i[2],new this.constructor(n).splice(e,o-e+1)},i.prototype.transformObjectsInRange=function(t,e){var n,i,o,r,a,s,l;return a=this.splitObjectsAtRange(t),r=a[0],i=a[1],s=a[2],l=function(){var t,a,l;for(l=[],n=t=0,a=r.length;a>t;n=++t)o=r[n],l.push(n>=i&&s>=n?e(o):o);return l}(),new this.constructor(l)},i.prototype.splitObjectsAtRange=function(t){var e,n,i,o,a;return n=(o=this.splitObjectAtPosition(s(t)))[0],e=o[1],i=o[2],[n=(a=new this.constructor(n).splitObjectAtPosition(r(t)+i))[0],e,a[1]-1]},i.prototype.getObjectAtPosition=function(t){var e,n;return e=(n=this.findIndexAndOffsetAtPosition(t)).index,n.offset,this.objects[e]},i.prototype.splitObjectAtPosition=function(t){var e,n,i,o,r,a,s,l,c;return e=(r=this.findIndexAndOffsetAtPosition(t)).index,o=r.offset,i=this.objects.slice(0),null!=e?0===o?(l=e,c=0):(n=(a=this.getObjectAtIndex(e).splitAtOffset(o))[0],s=a[1],i.splice(e,1,n,s),l=e+1,c=n.getLength()-o):(l=i.length,c=0),[i,l,c]},i.prototype.consolidate=function(){var t,e,n,i,o,r;for(i=[],o=this.objects[0],t=0,e=(r=this.objects.slice(1)).length;e>t;t++)n=r[t],("function"==typeof o.canBeConsolidatedWith?o.canBeConsolidatedWith(n):void 0)?o=o.consolidateWith(n):(i.push(o),o=n);return null!=o&&i.push(o),new this.constructor(i)},i.prototype.consolidateFromIndexToIndex=function(t,e){var n,i;return i=this.objects.slice(0).slice(t,e+1),n=new this.constructor(i).consolidate().toArray(),this.splice.apply(this,[t,i.length].concat(o.call(n)))},i.prototype.findIndexAndOffsetAtPosition=function(t){var e,n,i,o,r,a;for(e=0,i=n=0,o=(a=this.objects).length;o>n;i=++n){if(r=e+a[i].getLength(),t>=e&&r>t)return{index:i,offset:t-e};e=r}return{index:null,offset:null}},i.prototype.findPositionAtIndexAndOffset=function(t,e){var n,i,o,r,a,s;for(a=0,n=i=0,o=(s=this.objects).length;o>i;n=++i)if(r=s[n],t>n)a+=r.getLength();else if(n===t){a+=e;break}return a},i.prototype.getEndPosition=function(){var t,e;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var n,i,o;for(e=0,n=0,i=(o=this.objects).length;i>n;n++)t=o[n],e+=t.getLength();return e}.call(this)},i.prototype.toString=function(){return this.objects.join("")},i.prototype.toArray=function(){return this.objects.slice(0)},i.prototype.toJSON=function(){return this.toArray()},i.prototype.isEqualTo=function(t){return i.__super__.isEqualTo.apply(this,arguments)||a(this.objects,null!=t?t.objects:void 0)},a=function(t,e){var n,i,o,r,a;if(null==e&&(e=[]),t.length!==e.length)return!1;for(a=!0,i=n=0,o=t.length;o>n;i=++n)r=t[i],a&&!r.isEqualTo(e[i])&&(a=!1);return a},i.prototype.contentsForInspection=function(){var t;return{objects:"["+function(){var e,n,i,o;for(o=[],e=0,n=(i=this.objects).length;n>e;e++)t=i[e],o.push(t.inspect());return o}.call(this).join(", ")+"]"}},s=function(t){return t[0]},r=function(t){return t[1]},i}(e.Object)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Text=function(n){function i(t){var n;null==t&&(t=[]),i.__super__.constructor.apply(this,arguments),this.pieceList=new e.SplittableList(function(){var e,i,o;for(o=[],e=0,i=t.length;i>e;e++)(n=t[e]).isEmpty()||o.push(n);return o}())}return t(i,n),i.textForAttachmentWithAttributes=function(t,n){return new this([new e.AttachmentPiece(t,n)])},i.textForStringWithAttributes=function(t,n){return new this([new e.StringPiece(t,n)])},i.fromJSON=function(t){var n;return new this(function(){var i,o,r;for(r=[],i=0,o=t.length;o>i;i++)n=t[i],r.push(e.Piece.fromJSON(n));return r}())},i.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},i.prototype.copyWithPieceList=function(t){return new this.constructor(t.consolidate().toArray())},i.prototype.copyUsingObjectMap=function(t){var e,n;return n=function(){var n,i,o,r,a;for(a=[],n=0,i=(o=this.getPieces()).length;i>n;n++)e=o[n],a.push(null!=(r=t.find(e))?r:e);return a}.call(this),new this.constructor(n)},i.prototype.appendText=function(t){return this.insertTextAtPosition(t,this.getLength())},i.prototype.insertTextAtPosition=function(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))},i.prototype.removeTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))},i.prototype.replaceTextAtRange=function(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])},i.prototype.moveTextFromRangeToPosition=function(t,e){var n,i;if(!(t[0]<=e&&e<=t[1]))return n=(i=this.getTextAtRange(t)).getLength(),t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(i,e)},i.prototype.addAttributeAtRange=function(t,e,n){var i;return(i={})[t]=e,this.addAttributesAtRange(i,n)},i.prototype.addAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithAdditionalAttributes(t)}))},i.prototype.removeAttributeAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithoutAttribute(t)}))},i.prototype.setAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithAttributes(t)}))},i.prototype.getAttributesAtPosition=function(t){var e,n;return null!=(e=null!=(n=this.pieceList.getObjectAtPosition(t))?n.getAttributes():void 0)?e:{}},i.prototype.getCommonAttributes=function(){var t,n;return t=function(){var t,e,i,o;for(o=[],t=0,e=(i=this.pieceList.toArray()).length;e>t;t++)n=i[t],o.push(n.getAttributes());return o}.call(this),e.Hash.fromCommonAttributesOfObjects(t).toObject()},i.prototype.getCommonAttributesAtRange=function(t){var e;return null!=(e=this.getTextAtRange(t).getCommonAttributes())?e:{}},i.prototype.getExpandedRangeForAttributeAtOffset=function(t,e){var n,i,o;for(n=o=e,i=this.getLength();n>0&&this.getCommonAttributesAtRange([n-1,o])[t];)n--;for(;i>o&&this.getCommonAttributesAtRange([e,o+1])[t];)o++;return[n,o]},i.prototype.getTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))},i.prototype.getStringAtRange=function(t){return this.pieceList.getSplittableListInRange(t).toString()},i.prototype.getStringAtPosition=function(t){return this.getStringAtRange([t,t+1])},i.prototype.startsWithString=function(t){return this.getStringAtRange([0,t.length])===t},i.prototype.endsWithString=function(t){var e;return e=this.getLength(),this.getStringAtRange([e-t.length,e])===t},i.prototype.getAttachmentPieces=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.pieceList.toArray()).length;e>t;t++)null!=(n=i[t]).attachment&&o.push(n);return o},i.prototype.getAttachments=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.getAttachmentPieces()).length;e>t;t++)n=i[t],o.push(n.attachment);return o},i.prototype.getAttachmentAndPositionById=function(t){var e,n,i,o,r,a;for(o=0,e=0,n=(r=this.pieceList.toArray()).length;n>e;e++){if((null!=(a=(i=r[e]).attachment)?a.id:void 0)===t)return{attachment:i.attachment,position:o};o+=i.length}return{attachment:null,position:null}},i.prototype.getAttachmentById=function(t){var e,n;return e=(n=this.getAttachmentAndPositionById(t)).attachment,n.position,e},i.prototype.getRangeOfAttachment=function(t){var e,n;return t=(n=this.getAttachmentAndPositionById(t.id)).attachment,e=n.position,null!=t?[e,e+1]:void 0},i.prototype.updateAttributesForAttachment=function(t,e){var n;return(n=this.getRangeOfAttachment(e))?this.addAttributesAtRange(t,n):this},i.prototype.getLength=function(){return this.pieceList.getEndPosition()},i.prototype.isEmpty=function(){return 0===this.getLength()},i.prototype.isEqualTo=function(t){var e;return i.__super__.isEqualTo.apply(this,arguments)||(null!=t&&null!=(e=t.pieceList)?e.isEqualTo(this.pieceList):void 0)},i.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},i.prototype.eachPiece=function(t){return this.pieceList.eachObject(t)},i.prototype.getPieces=function(){return this.pieceList.toArray()},i.prototype.getPieceAtPosition=function(t){return this.pieceList.getObjectAtPosition(t)},i.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},i.prototype.toSerializableText=function(){var t;return t=this.pieceList.selectSplittableList(function(t){return t.isSerializable()}),this.copyWithPieceList(t)},i.prototype.toString=function(){return this.pieceList.toString()},i.prototype.toJSON=function(){return this.pieceList.toJSON()},i.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,i,o;for(o=[],e=0,n=(i=this.pieceList.toArray()).length;n>e;e++)t=i[e],o.push(JSON.parse(t.toConsole()));return o}.call(this))},i}(e.Object)}.call(this),function(){var t,n,i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,s=[].slice,l=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.arraysAreEqual,o=e.spliceArray,n=e.getBlockConfig,e.getBlockAttributeNames,i=e.getListAttributeNames,e.Block=function(a){function c(t,n){null==t&&(t=new e.Text),null==n&&(n=[]),c.__super__.constructor.apply(this,arguments),this.text=d(t),this.attributes=n}var u,d,h,f,p,m,g,v,y;return r(c,a),c.fromJSON=function(t){return new this(e.Text.fromJSON(t.text),t.attributes)},c.prototype.isEmpty=function(){return this.text.isBlockBreak()},c.prototype.isEqualTo=function(e){return c.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=e?e.text:void 0)&&t(this.attributes,null!=e?e.attributes:void 0)},c.prototype.copyWithText=function(t){return new this.constructor(t,this.attributes)},c.prototype.copyWithoutText=function(){return this.copyWithText(null)},c.prototype.copyWithAttributes=function(t){return new this.constructor(this.text,t)},c.prototype.copyUsingObjectMap=function(t){var e;return this.copyWithText((e=t.find(this.text))?e:this.text.copyUsingObjectMap(t))},c.prototype.addAttribute=function(t){var e;return e=this.attributes.concat(f(t)),this.copyWithAttributes(e)},c.prototype.removeAttribute=function(t){var e,i;return i=n(t).listAttribute,e=m(m(this.attributes,t),i),this.copyWithAttributes(e)},c.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},c.prototype.getLastAttribute=function(){return p(this.attributes)},c.prototype.getAttributes=function(){return this.attributes.slice(0)},c.prototype.getAttributeLevel=function(){return this.attributes.length},c.prototype.getAttributeAtLevel=function(t){return this.attributes[t-1]},c.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},c.prototype.getLastNestableAttribute=function(){return p(this.getNestableAttributes())},c.prototype.getNestableAttributes=function(){var t,e,i,o,r;for(r=[],e=0,i=(o=this.attributes).length;i>e;e++)t=o[e],n(t).nestable&&r.push(t);return r},c.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},c.prototype.decreaseNestingLevel=function(){var t;return(t=this.getLastNestableAttribute())?this.removeAttribute(t):this},c.prototype.increaseNestingLevel=function(){var t,e,n;return(t=this.getLastNestableAttribute())?(n=this.attributes.lastIndexOf(t),e=o.apply(null,[this.attributes,n+1,0].concat(s.call(f(t)))),this.copyWithAttributes(e)):this},c.prototype.getListItemAttributes=function(){var t,e,i,o,r;for(r=[],e=0,i=(o=this.attributes).length;i>e;e++)t=o[e],n(t).listAttribute&&r.push(t);return r},c.prototype.isListItem=function(){var t;return null!=(t=n(this.getLastAttribute()))?t.listAttribute:void 0},c.prototype.isTerminalBlock=function(){var t;return null!=(t=n(this.getLastAttribute()))?t.terminal:void 0},c.prototype.breaksOnReturn=function(){var t;return null!=(t=n(this.getLastAttribute()))?t.breakOnReturn:void 0},c.prototype.findLineBreakInDirectionFromPosition=function(t,e){var n,i;return i=this.toString(),-1!==(n=function(){switch(t){case"forward":return i.indexOf("\n",e);case"backward":return i.slice(0,e).lastIndexOf("\n")}}())?n:void 0},c.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},c.prototype.toString=function(){return this.text.toString()},c.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},c.prototype.getLength=function(){return this.text.getLength()},c.prototype.canBeConsolidatedWith=function(t){return!this.hasAttributes()&&!t.hasAttributes()},c.prototype.consolidateWith=function(t){var n,i;return n=e.Text.textForStringWithAttributes("\n"),i=this.getTextWithoutBlockBreak().appendText(n),this.copyWithText(i.appendText(t.text))},c.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.getLength()?(e=this,n=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),n=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,n]},c.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},c.prototype.getTextWithoutBlockBreak=function(){return g(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},c.prototype.canBeGrouped=function(t){return this.attributes[t]},c.prototype.canBeGroupedWith=function(t,e){var o,r,a,s;return r=(a=t.getAttributes())[e],(o=this.attributes[e])===r&&!(!1===n(o).group&&(s=a[e+1],l.call(i(),s)<0))},d=function(t){return t=y(t),u(t)},y=function(t){var n,i,o,r,a,l;return r=!1,l=t.getPieces(),i=2<=l.length?s.call(l,0,n=l.length-1):(n=0,[]),null==(o=l[n++])?t:(i=function(){var t,e,n;for(n=[],t=0,e=i.length;e>t;t++)(a=i[t]).isBlockBreak()?(r=!0,n.push(v(a))):n.push(a);return n}(),r?new e.Text(s.call(i).concat([o])):t)},h=e.Text.textForStringWithAttributes("\n",{blockBreak:!0}),u=function(t){return g(t)?t:t.appendText(h)},g=function(t){var e;return 0!==(e=t.getLength())&&t.getTextAtRange([e-1,e]).isBlockBreak()},v=function(t){return t.copyWithoutAttribute("blockBreak")},f=function(t){var e;return null!=(e=n(t).listAttribute)?[e,t]:[t]},p=function(t){return t.slice(-1)[0]},m=function(t,e){var n;return-1===(n=t.lastIndexOf(e))?t:o(t,n,1)},c}(e.Object)}.call(this),function(){var t,n,i,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,a=[].slice,s=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};n=e.tagName,i=e.walkTree,t=e.nodeIsAttachmentElement,e.HTMLSanitizer=function(e){function r(t,e){this.allowedAttributes=(null!=e?e:{}).allowedAttributes,null==this.allowedAttributes&&(this.allowedAttributes=l),this.body=c(t)}var l,c,u;return o(r,e),l="style href src width height class".split(" "),r.sanitize=function(t,e){var n;return(n=new this(t,e)).sanitize(),n},r.prototype.sanitize=function(){return this.sanitizeElements()},r.prototype.getHTML=function(){return this.body.innerHTML},r.prototype.getBody=function(){return this.body},r.prototype.sanitizeElements=function(){var t,e,n,o,r;for(r=i(this.body),o=[];r.nextNode();)switch(n=r.currentNode,n.nodeType){case Node.ELEMENT_NODE:u(n)?o.push(n):this.sanitizeElement(n);break;case Node.COMMENT_NODE:o.push(n)}for(t=0,e=o.length;e>t;t++)(n=o[t]).parentNode.removeChild(n);return this.body},r.prototype.sanitizeElement=function(t){var e,n,i,o;for(e=0,n=(o=a.call(t.attributes)).length;n>e;e++)i=o[e].name,s.call(this.allowedAttributes,i)>=0||0===i.indexOf("data-trix")||t.removeAttribute(i);return t},u=function(e){return(null!=e?e.nodeType:void 0)!==Node.ELEMENT_NODE||t(e)?void 0:"script"===n(e)||"false"===e.getAttribute("data-trix-serialize")},c=function(t){var e,n,i,o,r;for(null==t&&(t=""),t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>"),(e=document.implementation.createHTMLDocument("")).documentElement.innerHTML=t,i=0,o=(r=e.head.querySelectorAll("style")).length;o>i;i++)n=r[i],e.body.appendChild(n);return e.body},r}(e.BasicObject)}.call(this),function(){var t,n,i,o,r,a,s,l,c,u,d,h=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty,p=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.arraysAreEqual,a=e.makeElement,u=e.tagName,r=e.getBlockTagNames,d=e.walkTree,o=e.findClosestElementFromNode,i=e.elementContainsNode,s=e.nodeIsAttachmentElement,l=e.normalizeSpaces,n=e.breakableWhitespacePattern,c=e.squishBreakableWhitespace,e.HTMLParser=function(f){function m(t,e){this.html=t,this.referenceElement=(null!=e?e:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var g,v,y,b,w,C,x,_,k,T,S,E;return h(m,f),m.parse=function(t,e){var n;return(n=new this(t,e)).parse(),n},m.prototype.getDocument=function(){return e.Document.fromJSON(this.blocks)},m.prototype.parse=function(){var t,n;try{for(this.createHiddenContainer(),t=e.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=t,n=d(this.containerElement,{usingFilter:_});n.nextNode();)this.processNode(n.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},m.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=a({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},m.prototype.removeHiddenContainer=function(){return this.containerElement.parentNode.removeChild(this.containerElement)},_=function(t){return"style"===u(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},m.prototype.processNode=function(t){switch(t.nodeType){case Node.TEXT_NODE:return this.processTextNode(t);case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}},m.prototype.appendBlockForElement=function(e){var n,o,r,a;if(r=this.isBlockElement(e),o=i(this.currentBlockElement,e),r&&!this.isBlockElement(e.firstChild)){if(!(this.isInsignificantTextNode(e.firstChild)&&this.isBlockElement(e.firstElementChild)||(n=this.getBlockAttributes(e),o&&t(n,this.currentBlock.attributes))))return this.currentBlock=this.appendBlockForAttributesWithElement(n,e),this.currentBlockElement=e}else if(this.currentBlockElement&&!o&&!r)return(a=this.findParentBlockElement(e))?this.appendBlockForElement(a):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},m.prototype.findParentBlockElement=function(t){var e;for(e=t.parentElement;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&p.call(this.blockElements,e)>=0)return e;e=e.parentElement}return null},m.prototype.processTextNode=function(t){var e,n;return this.isInsignificantTextNode(t)?void 0:(n=t.data,v(t.parentNode)||(n=c(n),S(null!=(e=t.previousSibling)?e.textContent:void 0)&&(n=C(n))),this.appendStringWithAttributes(n,this.getTextAttributes(t.parentNode)))},m.prototype.processElement=function(t){var e,n,i,o,r;if(s(t))return e=y(t),Object.keys(e).length&&(o=this.getTextAttributes(t),this.appendAttachmentWithAttributes(e,o),t.innerHTML=""),this.processedElements.push(t);switch(u(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(t)),this.processedElements.push(t);case"img":for(n in e={url:t.getAttribute("src"),contentType:"image"},i=w(t))r=i[n],e[n]=r;return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes("\n");break;case"td":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(" | ")}},m.prototype.appendBlockForAttributesWithElement=function(t,e){var n;return this.blockElements.push(e),n=g(t),this.blocks.push(n),n},m.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},m.prototype.appendStringWithAttributes=function(t,e){return this.appendPiece(T(t,e))},m.prototype.appendAttachmentWithAttributes=function(t,e){return this.appendPiece(k(t,e))},m.prototype.appendPiece=function(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)},m.prototype.appendStringToTextAtIndex=function(t,e){var n,i;return"string"===(null!=(n=(i=this.blocks[e].text)[i.length-1])?n.type:void 0)?n.string+=t:i.push(T(t))},m.prototype.prependStringToTextAtIndex=function(t,e){var n,i;return"string"===(null!=(n=(i=this.blocks[e].text)[0])?n.type:void 0)?n.string=t+n.string:i.unshift(T(t))},T=function(t,e){var n;return null==e&&(e={}),n="string",{string:t=l(t),attributes:e,type:n}},k=function(t,e){return null==e&&(e={}),{attachment:t,attributes:e,type:"attachment"}},g=function(t){return null==t&&(t={}),{text:[],attributes:t}},m.prototype.getTextAttributes=function(t){var n,i,r,a,l,c,u,d,h,f,p,m,g;for(n in r={},f=e.config.textAttributes)if((l=f[n]).tagName&&o(t,{matchingSelector:l.tagName,untilNode:this.containerElement}))r[n]=!0;else if(l.parser){if(g=l.parser(t)){for(i=!1,c=0,h=(p=this.findBlockElementAncestors(t)).length;h>c;c++)if(a=p[c],l.parser(a)===g){i=!0;break}i||(r[n]=g)}}else l.styleProperty&&(g=t.style[l.styleProperty])&&(r[n]=g);if(s(t)&&(u=t.getAttribute("data-trix-attributes")))for(d in m=JSON.parse(u))g=m[d],r[d]=g;return r},m.prototype.getBlockAttributes=function(t){var n,i,o,r;for(i=[];t&&t!==this.containerElement;){for(n in r=e.config.blockAttributes)!1!==(o=r[n]).parse&&u(t)===o.tagName&&(("function"==typeof o.test?o.test(t):void 0)||!o.test)&&(i.push(n),o.listAttribute&&i.push(o.listAttribute));t=t.parentNode}return i.reverse()},m.prototype.findBlockElementAncestors=function(t){var e,n;for(e=[];t&&t!==this.containerElement;)n=u(t),p.call(r(),n)>=0&&e.push(t),t=t.parentNode;return e},y=function(t){return JSON.parse(t.getAttribute("data-trix-attachment"))},w=function(t){var e,n,i;return i=t.getAttribute("width"),n=t.getAttribute("height"),e={},i&&(e.width=parseInt(i,10)),n&&(e.height=parseInt(n,10)),e},m.prototype.isBlockElement=function(t){var e;if((null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&!o(t,{matchingSelector:"td",untilNode:this.containerElement}))return e=u(t),p.call(r(),e)>=0||"block"===window.getComputedStyle(t).display},m.prototype.isInsignificantTextNode=function(t){var e,n,i;if((null!=t?t.nodeType:void 0)===Node.TEXT_NODE&&E(t.data)&&(n=t.parentNode,i=t.previousSibling,e=t.nextSibling,(!x(n.previousSibling)||this.isBlockElement(n.previousSibling))&&!v(n)))return!i||this.isBlockElement(i)||!e||this.isBlockElement(e)},m.prototype.isExtraBR=function(t){return"br"===u(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t},v=function(t){var e;return"pre"===(e=window.getComputedStyle(t).whiteSpace)||"pre-wrap"===e||"pre-line"===e},x=function(t){return t&&!S(t.textContent)},m.prototype.translateBlockElementMarginsToNewlines=function(){var t,e,n,i,o,r,a;for(t=this.getMarginOfDefaultBlockElement(),a=[],n=e=0,i=(r=this.blocks).length;i>e;n=++e)r[n],(o=this.getMarginOfBlockElementAtIndex(n))&&(o.top>2*t.top&&this.prependStringToTextAtIndex("\n",n),a.push(o.bottom>2*t.bottom?this.appendStringToTextAtIndex("\n",n):void 0));return a},m.prototype.getMarginOfBlockElementAtIndex=function(t){var e,n;return!(e=this.blockElements[t])||!e.textContent||(n=u(e),
p.call(r(),n)>=0||p.call(this.processedElements,e)>=0)?void 0:b(e)},m.prototype.getMarginOfDefaultBlockElement=function(){var t;return t=a(e.config.blockAttributes["default"].tagName),this.containerElement.appendChild(t),b(t)},b=function(t){var e;return"block"===(e=window.getComputedStyle(t)).display?{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}:void 0},C=function(t){return t.replace(RegExp("^"+n.source+"+"),"")},E=function(t){return RegExp("^"+n.source+"*$").test(t)},S=function(t){return/\s$/.test(t)},m}(e.BasicObject)}.call(this),function(){var t,n,i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,s=[].slice,l=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.arraysAreEqual,i=e.normalizeRange,o=e.rangeIsCollapsed,n=e.getBlockConfig,e.Document=function(a){function c(t){null==t&&(t=[]),c.__super__.constructor.apply(this,arguments),0===t.length&&(t=[new e.Block]),this.blockList=e.SplittableList.box(t)}var u;return r(c,a),c.fromJSON=function(t){var n;return new this(function(){var i,o,r;for(r=[],i=0,o=t.length;o>i;i++)n=t[i],r.push(e.Block.fromJSON(n));return r}())},c.fromHTML=function(t,n){return e.HTMLParser.parse(t,n).getDocument()},c.fromString=function(t,n){var i;return i=e.Text.textForStringWithAttributes(t,n),new this([new e.Block(i)])},c.prototype.isEmpty=function(){var t;return 1===this.blockList.length&&((t=this.getBlockAtIndex(0)).isEmpty()&&!t.hasAttributes())},c.prototype.copy=function(t){var e;return null==t&&(t={}),e=t.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(e)},c.prototype.copyUsingObjectsFromDocument=function(t){var n;return n=new e.ObjectMap(t.getObjects()),this.copyUsingObjectMap(n)},c.prototype.copyUsingObjectMap=function(t){var e,n,i;return n=function(){var n,o,r,a;for(a=[],n=0,o=(r=this.getBlocks()).length;o>n;n++)e=r[n],a.push((i=t.find(e))?i:e.copyUsingObjectMap(t));return a}.call(this),new this.constructor(n)},c.prototype.copyWithBaseBlockAttributes=function(t){var e,n,i;return null==t&&(t=[]),i=function(){var i,o,r,a;for(a=[],i=0,o=(r=this.getBlocks()).length;o>i;i++)n=r[i],e=t.concat(n.getAttributes()),a.push(n.copyWithAttributes(e));return a}.call(this),new this.constructor(i)},c.prototype.replaceBlock=function(t,e){var n;return-1===(n=this.blockList.indexOf(t))?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,n))},c.prototype.insertDocumentAtRange=function(t,e){var n,r,a,s,l,c,u;return r=t.blockList,l=(e=i(e))[0],a=(c=this.locationFromPosition(l)).index,s=c.offset,u=this,n=this.getBlockAtPosition(l),o(e)&&n.isEmpty()&&!n.hasAttributes()?u=new this.constructor(u.blockList.removeObjectAtIndex(a)):n.getBlockBreakPosition()===s&&l++,u=u.removeTextAtRange(e),new this.constructor(u.blockList.insertSplittableListAtPosition(r,l))},c.prototype.mergeDocumentAtRange=function(e,n){var o,r,a,s,l,c,u,d,h,f,p,m;return p=(n=i(n))[0],f=this.locationFromPosition(p),r=this.getBlockAtIndex(f.index).getAttributes(),o=e.getBaseBlockAttributes(),m=r.slice(-o.length),t(o,m)?(u=r.slice(0,-o.length),c=e.copyWithBaseBlockAttributes(u)):c=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(r),a=c.getBlockCount(),s=c.getBlockAtIndex(0),t(r,s.getAttributes())?(l=s.getTextWithoutBlockBreak(),h=this.insertTextAtRange(l,n),a>1&&(c=new this.constructor(c.getBlocks().slice(1)),d=p+l.getLength(),h=h.insertDocumentAtRange(c,d))):h=this.insertDocumentAtRange(c,n),h},c.prototype.insertTextAtRange=function(t,e){var n,o,r,a,s;return s=(e=i(e))[0],o=(a=this.locationFromPosition(s)).index,r=a.offset,n=this.removeTextAtRange(e),new this.constructor(n.blockList.editObjectAtIndex(o,function(e){return e.copyWithText(e.text.insertTextAtPosition(t,r))}))},c.prototype.removeTextAtRange=function(t){var e,n,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,w;return u=(h=t=i(t))[0],y=h[1],o(t)?this:(l=(f=this.locationRangeFromRange(t))[0],g=f[1],s=l.index,c=l.offset,a=this.getBlockAtIndex(s),m=g.index,v=g.offset,p=this.getBlockAtIndex(m),y-u==1&&a.getBlockBreakPosition()===c&&p.getBlockBreakPosition()!==v&&"\n"===p.text.getStringAtPosition(v)?r=this.blockList.editObjectAtIndex(m,function(t){return t.copyWithText(t.text.removeTextAtRange([v,v+1]))}):(d=a.text.getTextAtRange([0,c]),b=p.text.getTextAtRange([v,p.getLength()]),w=d.appendText(b),n=s!==m&&0===c&&a.getAttributeLevel()>=p.getAttributeLevel()?p.copyWithText(w):a.copyWithText(w),e=m+1-s,r=this.blockList.splice(s,e,n)),new this.constructor(r))},c.prototype.moveTextFromRangeToPosition=function(t,e){var n,o,r,a,l,c,u,d,h,f;if(h=(c=t=i(t))[0],r=c[1],e>=h&&r>=e)return this;if(o=this.getDocumentAtRange(t),d=this.removeTextAtRange(t),(l=e>h)&&(e-=o.getLength()),!d.firstBlockInRangeIsEntirelySelected(t)){if(a=(u=o.getBlocks())[0],0===(n=2<=u.length?s.call(u,1):[]).length?(f=a.getTextWithoutBlockBreak(),l&&(e+=1)):f=a.text,d=d.insertTextAtRange(f,e),0===n.length)return d;o=new this.constructor(n),e+=f.getLength()}return d.insertDocumentAtRange(o,e)},c.prototype.addAttributeAtRange=function(t,e,i){var o;return o=this.blockList,this.eachBlockAtRange(i,function(i,r,a){return o=o.editObjectAtIndex(a,function(){return n(t)?i.addAttribute(t,e):r[0]===r[1]?i:i.copyWithText(i.text.addAttributeAtRange(t,e,r))})}),new this.constructor(o)},c.prototype.addAttribute=function(t,e){var n;return n=this.blockList,this.eachBlock(function(i,o){return n=n.editObjectAtIndex(o,function(){return i.addAttribute(t,e)})}),new this.constructor(n)},c.prototype.removeAttributeAtRange=function(t,e){var i;return i=this.blockList,this.eachBlockAtRange(e,function(e,o,r){return n(t)?i=i.editObjectAtIndex(r,function(){return e.removeAttribute(t)}):o[0]!==o[1]?i=i.editObjectAtIndex(r,function(){return e.copyWithText(e.text.removeAttributeAtRange(t,o))}):void 0}),new this.constructor(i)},c.prototype.updateAttributesForAttachment=function(t,e){var n,i,o;return i=this.getRangeOfAttachment(e)[0],n=this.locationFromPosition(i).index,o=this.getTextAtIndex(n),new this.constructor(this.blockList.editObjectAtIndex(n,function(n){return n.copyWithText(o.updateAttributesForAttachment(t,e))}))},c.prototype.removeAttributeForAttachment=function(t,e){var n;return n=this.getRangeOfAttachment(e),this.removeAttributeAtRange(t,n)},c.prototype.insertBlockBreakAtRange=function(t){var n,o,r,a;return a=(t=i(t))[0],r=this.locationFromPosition(a).offset,o=this.removeTextAtRange(t),0===r&&(n=[new e.Block]),new this.constructor(o.blockList.insertSplittableListAtPosition(new e.SplittableList(n),a))},c.prototype.applyBlockAttributeAtRange=function(t,e,i){var o,r,a,s;return r=(a=this.expandRangeToLineBreaksAndSplitBlocks(i)).document,i=a.range,(o=n(t)).listAttribute?(r=(s=(r=r.removeLastListAttributeAtRange(i,{exceptAttributeName:t})).convertLineBreaksToBlockBreaksInRange(i)).document,i=s.range):r=o.terminal?r.removeLastTerminalAttributeAtRange(i):r.consolidateBlocksAtRange(i),r.addAttributeAtRange(t,e,i)},c.prototype.removeLastListAttributeAtRange=function(t,e){var i;return null==e&&(e={}),i=this.blockList,this.eachBlockAtRange(t,function(t,o,r){var a;if((a=t.getLastAttribute())&&n(a).listAttribute&&a!==e.exceptAttributeName)return i=i.editObjectAtIndex(r,function(){return t.removeAttribute(a)})}),new this.constructor(i)},c.prototype.removeLastTerminalAttributeAtRange=function(t){var e;return e=this.blockList,this.eachBlockAtRange(t,function(t,i,o){var r;if((r=t.getLastAttribute())&&n(r).terminal)return e=e.editObjectAtIndex(o,function(){return t.removeAttribute(r)})}),new this.constructor(e)},c.prototype.firstBlockInRangeIsEntirelySelected=function(t){var e,n,o,r,a,s;return s=(r=t=i(t))[0],e=r[1],n=this.locationFromPosition(s),a=this.locationFromPosition(e),0===n.offset&&n.index<a.index||n.index===a.index&&(o=this.getBlockAtIndex(n.index).getLength(),0===n.offset&&a.offset===o)},c.prototype.expandRangeToLineBreaksAndSplitBlocks=function(t){var e,n,o,r,a,s,l,c,u;return u=(s=t=i(t))[0],r=s[1],c=this.locationFromPosition(u),o=this.locationFromPosition(r),l=(e=this).getBlockAtIndex(c.index),null!=(c.offset=l.findLineBreakInDirectionFromPosition("backward",c.offset))&&(a=e.positionFromLocation(c),e=e.insertBlockBreakAtRange([a,a+1]),o.index+=1,o.offset-=e.getBlockAtIndex(c.index).getLength(),c.index+=1),c.offset=0,0===o.offset&&o.index>c.index?(o.index-=1,o.offset=e.getBlockAtIndex(o.index).getBlockBreakPosition()):("\n"===(n=e.getBlockAtIndex(o.index)).text.getStringAtRange([o.offset-1,o.offset])?o.offset-=1:o.offset=n.findLineBreakInDirectionFromPosition("forward",o.offset),o.offset!==n.getBlockBreakPosition()&&(a=e.positionFromLocation(o),e=e.insertBlockBreakAtRange([a,a+1]))),u=e.positionFromLocation(c),r=e.positionFromLocation(o),{document:e,range:t=i([u,r])}},c.prototype.convertLineBreaksToBlockBreaksInRange=function(t){var e,n,o;return n=(t=i(t))[0],o=this.getStringAtRange(t).slice(0,-1),e=this,o.replace(/.*?\n/g,function(t){return n+=t.length,e=e.insertBlockBreakAtRange([n-1,n])}),{document:e,range:t}},c.prototype.consolidateBlocksAtRange=function(t){var e,n,o,r,a;return a=(o=t=i(t))[0],n=o[1],r=this.locationFromPosition(a).index,e=this.locationFromPosition(n).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(r,e))},c.prototype.getDocumentAtRange=function(t){var e;return t=i(t),e=this.blockList.getSplittableListInRange(t).toArray(),new this.constructor(e)},c.prototype.getStringAtRange=function(t){var e,n;return(n=t=i(t))[n.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)},c.prototype.getBlockAtIndex=function(t){return this.blockList.getObjectAtIndex(t)},c.prototype.getBlockAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getBlockAtIndex(e)},c.prototype.getTextAtIndex=function(t){var e;return null!=(e=this.getBlockAtIndex(t))?e.text:void 0},c.prototype.getTextAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getTextAtIndex(e)},c.prototype.getPieceAtPosition=function(t){var e,n,i;return e=(i=this.locationFromPosition(t)).index,n=i.offset,this.getTextAtIndex(e).getPieceAtPosition(n)},c.prototype.getCharacterAtPosition=function(t){var e,n,i;return e=(i=this.locationFromPosition(t)).index,n=i.offset,this.getTextAtIndex(e).getStringAtRange([n,n+1])},c.prototype.getLength=function(){return this.blockList.getEndPosition()},c.prototype.getBlocks=function(){return this.blockList.toArray()},c.prototype.getBlockCount=function(){return this.blockList.length},c.prototype.getEditCount=function(){return this.editCount},c.prototype.eachBlock=function(t){return this.blockList.eachObject(t)},c.prototype.eachBlockAtRange=function(t,e){var n,o,r,a,s,l,c,u,d,h,f,p;if(f=(l=t=i(t))[0],r=l[1],h=this.locationFromPosition(f),o=this.locationFromPosition(r),h.index===o.index)return n=this.getBlockAtIndex(h.index),p=[h.offset,o.offset],e(n,p,h.index);for(d=[],s=a=c=h.index,u=o.index;u>=c?u>=a:a>=u;s=u>=c?++a:--a)(n=this.getBlockAtIndex(s))?(p=function(){switch(s){case h.index:return[h.offset,n.text.getLength()];case o.index:return[0,o.offset];default:return[0,n.text.getLength()]}}(),d.push(e(n,p,s))):d.push(void 0);return d},c.prototype.getCommonAttributesAtRange=function(t){var n,r,a;return r=(t=i(t))[0],o(t)?this.getCommonAttributesAtPosition(r):(a=[],n=[],this.eachBlockAtRange(t,function(t,e){return e[0]!==e[1]?(a.push(t.text.getCommonAttributesAtRange(e)),n.push(u(t))):void 0}),e.Hash.fromCommonAttributesOfObjects(a).merge(e.Hash.fromCommonAttributesOfObjects(n)).toObject())},c.prototype.getCommonAttributesAtPosition=function(t){var n,i,o,r,a,s,c,d,h,f;if(a=(h=this.locationFromPosition(t)).index,d=h.offset,!(o=this.getBlockAtIndex(a)))return{};for(c in r=u(o),n=o.text.getAttributesAtPosition(d),i=o.text.getAttributesAtPosition(d-1),s=function(){var t,n;for(c in n=[],t=e.config.textAttributes)(f=t[c]).inheritable&&n.push(c);return n}(),i)((f=i[c])===n[c]||l.call(s,c)>=0)&&(r[c]=f);return r},c.prototype.getRangeOfCommonAttributeAtPosition=function(t,e){var n,o,r,a,s,l,c,u;return r=(s=this.locationFromPosition(e)).index,a=s.offset,u=(l=this.getTextAtIndex(r).getExpandedRangeForAttributeAtOffset(t,a))[0],o=l[1],c=this.positionFromLocation({index:r,offset:u}),n=this.positionFromLocation({index:r,offset:o}),i([c,n])},c.prototype.getBaseBlockAttributes=function(){var t,e,n,i,o,r,a;for(t=this.getBlockAtIndex(0).getAttributes(),n=i=1,a=this.getBlockCount();a>=1?a>i:i>a;n=a>=1?++i:--i)e=this.getBlockAtIndex(n).getAttributes(),r=Math.min(t.length,e.length),t=function(){var n,i,a;for(a=[],o=n=0,i=r;(i>=0?i>n:n>i)&&e[o]===t[o];o=i>=0?++n:--n)a.push(e[o]);return a}();return t},u=function(t){var e,n;return n={},(e=t.getLastAttribute())&&(n[e]=!0),n},c.prototype.getAttachmentById=function(t){var e,n,i,o;for(n=0,i=(o=this.getAttachments()).length;i>n;n++)if((e=o[n]).id===t)return e},c.prototype.getAttachmentPieces=function(){var t;return t=[],this.blockList.eachObject(function(e){var n;return n=e.text,t=t.concat(n.getAttachmentPieces())}),t},c.prototype.getAttachments=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.getAttachmentPieces()).length;e>t;t++)n=i[t],o.push(n.attachment);return o},c.prototype.getRangeOfAttachment=function(t){var e,n,o,r,a,s,l;for(r=0,n=e=0,o=(a=this.blockList.toArray()).length;o>e;n=++e){if(l=(s=a[n].text).getRangeOfAttachment(t))return i([r+l[0],r+l[1]]);r+=s.getLength()}},c.prototype.getLocationRangeOfAttachment=function(t){var e;return e=this.getRangeOfAttachment(t),this.locationRangeFromRange(e)},c.prototype.getAttachmentPieceForAttachment=function(t){var e,n,i,o;for(e=0,n=(o=this.getAttachmentPieces()).length;n>e;e++)if((i=o[e]).attachment===t)return i},c.prototype.findRangesForTextAttribute=function(t,e){var n,i,o,r,a,s,l,c,u,d;for(d=(null!=e?e:{}).withValue,s=0,l=[],c=[],r=function(e){return null!=d?e.getAttribute(t)===d:e.hasAttribute(t)},n=0,i=(u=this.getPieces()).length;i>n;n++)o=(a=u[n]).getLength(),r(a)&&(l[1]===s?l[1]=s+o:c.push(l=[s,s+o])),s+=o;return c},c.prototype.locationFromPosition=function(t){var e,n;return null!=(n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t))).index?n:{index:(e=this.getBlocks()).length-1,offset:e[e.length-1].getLength()}},c.prototype.positionFromLocation=function(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)},c.prototype.locationRangeFromPosition=function(t){return i(this.locationFromPosition(t))},c.prototype.locationRangeFromRange=function(t){var e,n,o,r;if(t=i(t))return r=t[0],n=t[1],o=this.locationFromPosition(r),e=this.locationFromPosition(n),i([o,e])},c.prototype.rangeFromLocationRange=function(t){var e,n;return t=i(t),e=this.positionFromLocation(t[0]),o(t)||(n=this.positionFromLocation(t[1])),i([e,n])},c.prototype.isEqualTo=function(t){return this.blockList.isEqualTo(null!=t?t.blockList:void 0)},c.prototype.getTexts=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.getBlocks()).length;n>e;e++)t=i[e],o.push(t.text);return o},c.prototype.getPieces=function(){var t,e,n,i,o;for(n=[],t=0,e=(i=this.getTexts()).length;e>t;t++)o=i[t],n.push.apply(n,o.getPieces());return n},c.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},c.prototype.toSerializableDocument=function(){var t;return t=[],this.blockList.eachObject(function(e){return t.push(e.copyWithText(e.text.toSerializableText()))}),new this.constructor(t)},c.prototype.toString=function(){return this.blockList.toString()},c.prototype.toJSON=function(){return this.blockList.toJSON()},c.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,i,o;for(o=[],e=0,n=(i=this.blockList.toArray()).length;n>e;e++)t=i[e],o.push(JSON.parse(t.text.toConsole()));return o}.call(this))},c}(e.Object)}.call(this),function(){e.LineBreakInsertion=function(){function t(t){var e;this.composition=t,this.document=this.composition.document,e=this.composition.getSelectedRange(),this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return t.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter},t.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)},t.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},t.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},t.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},t}()}.call(this),function(){var t,n,i,o,r,a,s,l,c,u,d=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;a=e.normalizeRange,c=e.rangesAreEqual,l=e.rangeIsCollapsed,s=e.objectsAreEqual,t=e.arrayStartsWith,u=e.summarizeArrayChange,i=e.getAllAttributeNames,o=e.getBlockConfig,r=e.getTextConfig,n=e.extend,e.Composition=function(h){function f(){this.document=new e.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var p;return d(f,h),f.prototype.setDocument=function(t){var e;return t.isEqualTo(this.document)?void 0:(this.document=t,this.refreshAttachments(),this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeDocument?e.compositionDidChangeDocument(t):void 0)},f.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},f.prototype.loadSnapshot=function(t){var n,i,o,r;return n=t.document,r=t.selectedRange,null!=(i=this.delegate)&&"function"==typeof i.compositionWillLoadSnapshot&&i.compositionWillLoadSnapshot(),this.setDocument(null!=n?n:new e.Document),this.setSelection(null!=r?r:[0,0]),null!=(o=this.delegate)&&"function"==typeof o.compositionDidLoadSnapshot?o.compositionDidLoadSnapshot():void 0},f.prototype.insertText=function(t,e){var n,i,o,r;return r=(null!=e?e:{updatePosition:!0}).updatePosition,i=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(t,i)),n=(o=i[0])+t.getLength(),r&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([o,n])},f.prototype.insertBlock=function(t){var n;return null==t&&(t=new e.Block),n=new e.Document([t]),this.insertDocument(n)},f.prototype.insertDocument=function(t){var n,i,o;return null==t&&(t=new e.Document),i=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(t,i)),n=(o=i[0])+t.getLength(),this.setSelection(n),this.notifyDelegateOfInsertionAtRange([o,n])},f.prototype.insertString=function(t,n){var i,o;return i=this.getCurrentTextAttributes(),o=e.Text.textForStringWithAttributes(t,i),this.insertText(o,n)},f.prototype.insertBlockBreak=function(){var t,e,n;return e=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(e)),t=(n=e[0])+1,this.setSelection(t),this.notifyDelegateOfInsertionAtRange([n,t])},f.prototype.insertLineBreak=function(){var t,n;return(n=new e.LineBreakInsertion(this)).shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(n.startPosition)):n.shouldPrependListItem()?(t=new e.Document([n.block.copyWithoutText()]),this.insertDocument(t)):n.shouldInsertBlockBreak()?this.insertBlockBreak():n.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():n.shouldBreakFormattedBlock()?this.breakFormattedBlock(n):this.insertString("\n")},f.prototype.insertHTML=function(t){var n,i,o,r;return n=e.Document.fromHTML(t),o=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(n,o)),i=(r=o[0])+n.getLength()-1,this.setSelection(i),this.notifyDelegateOfInsertionAtRange([r,i])},f.prototype.replaceHTML=function(t){var n,i,o;return n=e.Document.fromHTML(t).copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),o=this.document.rangeFromLocationRange(i),this.setDocument(n),this.setSelection(o)},f.prototype.insertFile=function(t){var n,i;return(null!=(i=this.delegate)?i.compositionShouldAcceptFile(t):void 0)?(n=e.Attachment.attachmentForFile(t),this.insertAttachment(n)):void 0},f.prototype.insertFiles=function(t){var n,i,o,r,a,s,l;for(l=new e.Text,r=0,a=t.length;a>r;r++)o=t[r],(null!=(s=this.delegate)?s.compositionShouldAcceptFile(o):void 0)&&(n=e.Attachment.attachmentForFile(o),i=e.Text.textForAttachmentWithAttributes(n,this.currentAttributes),l=l.appendText(i));return this.insertText(l)},f.prototype.insertAttachment=function(t){var n;return n=e.Text.textForAttachmentWithAttributes(t,this.currentAttributes),this.insertText(n)},f.prototype.deleteInDirection=function(t){var e,n,i,o,r,a,s;return o=this.getLocationRange(),r=this.getSelectedRange(),(a=l(r))?i="backward"===t&&0===o[0].offset:s=o[0].index!==o[1].index,!(i&&this.canDecreaseBlockAttributeLevel()&&(n=this.getBlock(),n.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(r[0]),n.isEmpty()))&&(a&&(r=this.getExpandedRangeInDirection(t),"backward"===t&&(e=this.getAttachmentAtRange(r))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(r)),this.setSelection(r[0]),!i&&!s&&void 0))},f.prototype.moveTextFromRange=function(t){var e;return e=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)},f.prototype.removeAttachment=function(t){var e;return(e=this.document.getRangeOfAttachment(t))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])):void 0},f.prototype.removeLastBlockAttribute=function(){var t,e,n,i;return i=(n=this.getSelectedRange())[0],e=n[1],t=this.document.getBlockAtPosition(e),this.removeCurrentAttribute(t.getLastAttribute()),this.setSelection(i)},p=" ",f.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(p)},f.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+p.length]),this.getSelectedRange()):void 0},f.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},f.prototype.hasCurrentAttribute=function(t){var e;return null!=(e=this.currentAttributes[t])&&!1!==e},f.prototype.toggleCurrentAttribute=function(t){var e;return(e=!this.currentAttributes[t])?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)},f.prototype.canSetCurrentAttribute=function(t){return o(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)},f.prototype.canSetCurrentTextAttribute=function(t){switch(t){case"href":return!this.selectionContainsAttachmentWithAttribute(t);default:return!0}},f.prototype.canSetCurrentBlockAttribute=function(){var t;if(t=this.getBlock())return!t.isTerminalBlock()},f.prototype.setCurrentAttribute=function(t,e){return o(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())},f.prototype.setTextAttribute=function(t,n){var i,o;if(i=this.getSelectedRange())return i[0]!==i[1]?this.setDocument(this.document.addAttributeAtRange(t,n,i)):"href"===t?(o=e.Text.textForStringWithAttributes(n,{href:n}),this.insertText(o)):void 0},f.prototype.setBlockAttribute=function(t,e){var n;if(n=this.getSelectedRange())return this.canSetCurrentAttribute(t)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(t,e,n)),this.setSelection(n)):void 0},f.prototype.removeCurrentAttribute=function(t){return o(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())},f.prototype.removeTextAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},f.prototype.removeBlockAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},f.prototype.canDecreaseNestingLevel=function(){var t;return(null!=(t=this.getBlock())?t.getNestingLevel():void 0)>0},f.prototype.canIncreaseNestingLevel=function(){var e,n,i;if(e=this.getBlock())return null!=(i=o(e.getLastNestableAttribute()))&&i.listAttribute?(n=this.getPreviousBlock())?t(n.getListItemAttributes(),e.getListItemAttributes()):void 0:e.getNestingLevel()>0},f.prototype.decreaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))},f.prototype.increaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))},f.prototype.canDecreaseBlockAttributeLevel=function(){var t;return(null!=(t=this.getBlock())?t.getAttributeLevel():void 0)>0},f.prototype.decreaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.removeCurrentAttribute(t):void 0},f.prototype.decreaseListLevel=function(){var t,e,n,i,o,r;for(r=this.getSelectedRange()[0],n=o=this.document.locationFromPosition(r).index,t=this.getBlock().getAttributeLevel();(e=this.document.getBlockAtIndex(n+1))&&e.isListItem()&&e.getAttributeLevel()>t;)n++;return r=this.document.positionFromLocation({index:o,offset:0}),i=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([r,i]))},f.prototype.updateCurrentAttributes=function(){var t,e,n,o,r,a;if(a=this.getSelectedRange({ignoreLock:!0})){for(e=this.document.getCommonAttributesAtRange(a),n=0,o=(r=i()).length;o>n;n++)e[t=r[n]]||this.canSetCurrentAttribute(t)||(e[t]=!1);if(!s(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}},f.prototype.getCurrentAttributes=function(){return n.call({},this.currentAttributes)},f.prototype.getCurrentTextAttributes=function(){var t,e,n,i;for(e in t={},n=this.currentAttributes)i=n[e],r(e)&&(t[e]=i);return t},f.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},f.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},f.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},f.proxyMethod("getSelectionManager().getPointRange"),f.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),f.proxyMethod("getSelectionManager().locationIsCursorTarget"),f.proxyMethod("getSelectionManager().selectionIsExpanded"),f.proxyMethod("delegate?.getSelectionManager"),f.prototype.setSelection=function(t){var e,n;return e=this.document.locationRangeFromRange(t),null!=(n=this.delegate)?n.compositionDidRequestChangingSelectionToLocationRange(e):void 0},f.prototype.getSelectedRange=function(){var t;return(t=this.getLocationRange())?this.document.rangeFromLocationRange(t):void 0},f.prototype.setSelectedRange=function(t){var e;return e=this.document.locationRangeFromRange(t),this.getSelectionManager().setLocationRange(e)},f.prototype.getPosition=function(){var t;return(t=this.getLocationRange())?this.document.positionFromLocation(t[0]):void 0},f.prototype.getLocationRange=function(t){var e;return null!=(e=this.getSelectionManager().getLocationRange(t))?e:a({index:0,offset:0})},f.prototype.getExpandedRangeInDirection=function(t){var e,n,i;return i=(n=this.getSelectedRange())[0],e=n[1],"backward"===t?i=this.translateUTF16PositionFromOffset(i,-1):e=this.translateUTF16PositionFromOffset(e,1),a([i,e])},f.prototype.moveCursorInDirection=function(t){var e,n,i,o;return this.editingAttachment?i=this.document.getRangeOfAttachment(this.editingAttachment):(o=this.getSelectedRange(),i=this.getExpandedRangeInDirection(t),n=!c(o,i)),this.setSelectedRange("backward"===t?i[0]:i[1]),n&&(e=this.getAttachmentAtRange(i))?this.editAttachment(e):void 0},f.prototype.expandSelectionInDirection=function(t){var e;return e=this.getExpandedRangeInDirection(t),this.setSelectedRange(e)},f.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},f.prototype.expandSelectionAroundCommonAttribute=function(t){var e,n;return e=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(t,e),this.setSelectedRange(n)},f.prototype.selectionContainsAttachmentWithAttribute=function(t){var e,n,i,o;if(o=this.getSelectedRange()){for(e=0,n=(i=this.document.getDocumentAtRange(o).getAttachments()).length;n>e;e++)if(i[e].hasAttribute(t))return!0;return!1}},f.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},f.prototype.positionIsCursorTarget=function(t){var e;return(e=this.document.locationFromPosition(t))?this.locationIsCursorTarget(e):void 0},f.prototype.positionIsBlockBreak=function(t){var e;return null!=(e=this.document.getPieceAtPosition(t))?e.isBlockBreak():void 0},f.prototype.getSelectedDocument=function(){var t;return(t=this.getSelectedRange())?this.document.getDocumentAtRange(t):void 0},f.prototype.getAttachments=function(){return this.attachments.slice(0)},f.prototype.refreshAttachments=function(){var t,e,n,i,o,r,a,s,l,c,d,h;for(n=this.document.getAttachments(),t=(s=u(this.attachments,n)).added,d=s.removed,this.attachments=n,i=0,r=d.length;r>i;i++)(e=d[i]).delegate=null,null!=(l=this.delegate)&&"function"==typeof l.compositionDidRemoveAttachment&&l.compositionDidRemoveAttachment(e);for(h=[],o=0,a=t.length;a>o;o++)(e=t[o]).delegate=this,h.push(null!=(c=this.delegate)&&"function"==typeof c.compositionDidAddAttachment?c.compositionDidAddAttachment(e):void 0);return h},f.prototype.attachmentDidChangeAttributes=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidEditAttachment?e.compositionDidEditAttachment(t):void 0},f.prototype.attachmentDidChangePreviewURL=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeAttachmentPreviewURL?e.compositionDidChangeAttachmentPreviewURL(t):void 0},f.prototype.editAttachment=function(t){var e;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,null!=(e=this.delegate)&&"function"==typeof e.compositionDidStartEditingAttachment?e.compositionDidStartEditingAttachment(this.editingAttachment):void 0},f.prototype.stopEditingAttachment=function(){var t;if(this.editingAttachment)return null!=(t=this.delegate)&&"function"==typeof t.compositionDidStopEditingAttachment&&t.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},f.prototype.canEditAttachmentCaption=function(){var t;return null!=(t=this.editingAttachment)?t.isPreviewable():void 0},f.prototype.updateAttributesForAttachment=function(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))},f.prototype.removeAttributeForAttachment=function(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))},f.prototype.breakFormattedBlock=function(t){var n,i,o,r,a;return i=t.document,n=t.block,a=[(r=t.startPosition)-1,r],n.getBlockBreakPosition()===t.startLocation.offset?(n.breaksOnReturn()&&"\n"===t.nextCharacter?r+=1:i=i.removeTextAtRange(a),a=[r,r]):"\n"===t.nextCharacter?"\n"===t.previousCharacter?a=[r-1,r+1]:(a=[r,r+1],r+=1):t.startLocation.offset-1!=0&&(r+=1),o=new e.Document([n.removeLastAttribute().copyWithoutText()]),this.setDocument(i.insertDocumentAtRange(o,a)),this.setSelection(r)},f.prototype.getPreviousBlock=function(){var t,e;return(e=this.getLocationRange())&&(t=e[0].index)>0?this.document.getBlockAtIndex(t-1):void 0},f.prototype.getBlock=function(){var t;return(t=this.getLocationRange())?this.document.getBlockAtIndex(t[0].index):void 0},f.prototype.getAttachmentAtRange=function(t){var n;return(n=this.document.getDocumentAtRange(t)).toString()===e.OBJECT_REPLACEMENT_CHARACTER+"\n"?n.getAttachments()[0]:void 0},f.prototype.notifyDelegateOfCurrentAttributesChange=function(){var t
;return null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeCurrentAttributes?t.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},f.prototype.notifyDelegateOfInsertionAtRange=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionDidPerformInsertionAtRange?e.compositionDidPerformInsertionAtRange(t):void 0},f.prototype.translateUTF16PositionFromOffset=function(t,e){var n,i;return n=(i=this.document.toUTF16String()).offsetFromUCS2Offset(t),i.offsetToUCS2Offset(n+e)},f}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.UndoManager=function(e){function n(t){this.composition=t,this.undoEntries=[],this.redoEntries=[]}var i;return t(n,e),n.prototype.recordUndoEntry=function(t,e){var n,o,r,a,s;return o=(a=null!=e?e:{}).context,n=a.consolidatable,r=this.undoEntries.slice(-1)[0],n&&i(r,t,o)?void 0:(s=this.createEntry({description:t,context:o}),this.undoEntries.push(s),this.redoEntries=[])},n.prototype.undo=function(){var t,e;return(e=this.undoEntries.pop())?(t=this.createEntry(e),this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},n.prototype.redo=function(){var t,e;return(t=this.redoEntries.pop())?(e=this.createEntry(t),this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},n.prototype.canUndo=function(){return this.undoEntries.length>0},n.prototype.canRedo=function(){return this.redoEntries.length>0},n.prototype.createEntry=function(t){var e,n,i;return n=(i=null!=t?t:{}).description,e=i.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},i=function(t,e,n){return(null!=t?t.description:void 0)===(null!=e?e.toString():void 0)&&(null!=t?t.context:void 0)===JSON.stringify(n)},n}(e.BasicObject)}.call(this),function(){e.Editor=function(){function t(t,n,i){this.composition=t,this.selectionManager=n,this.element=i,this.undoManager=new e.UndoManager(this.composition)}return t.prototype.loadDocument=function(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})},t.prototype.loadHTML=function(t){return null==t&&(t=""),this.loadDocument(e.Document.fromHTML(t,{referenceElement:this.element}))},t.prototype.loadJSON=function(t){var n,i;return n=t.document,i=t.selectedRange,n=e.Document.fromJSON(n),this.loadSnapshot({document:n,selectedRange:i})},t.prototype.loadSnapshot=function(t){return this.undoManager=new e.UndoManager(this.composition),this.composition.loadSnapshot(t)},t.prototype.getDocument=function(){return this.composition.document},t.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},t.prototype.getSnapshot=function(){return this.composition.getSnapshot()},t.prototype.toJSON=function(){return this.getSnapshot()},t.prototype.deleteInDirection=function(t){return this.composition.deleteInDirection(t)},t.prototype.insertAttachment=function(t){return this.composition.insertAttachment(t)},t.prototype.insertDocument=function(t){return this.composition.insertDocument(t)},t.prototype.insertFile=function(t){return this.composition.insertFile(t)},t.prototype.insertHTML=function(t){return this.composition.insertHTML(t)},t.prototype.insertString=function(t){return this.composition.insertString(t)},t.prototype.insertText=function(t){return this.composition.insertText(t)},t.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},t.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},t.prototype.getPosition=function(){return this.composition.getPosition()},t.prototype.getClientRectAtPosition=function(t){var e;return e=this.getDocument().locationRangeFromRange([t,t+1]),this.selectionManager.getClientRectAtLocationRange(e)},t.prototype.expandSelectionInDirection=function(t){return this.composition.expandSelectionInDirection(t)},t.prototype.moveCursorInDirection=function(t){return this.composition.moveCursorInDirection(t)},t.prototype.setSelectedRange=function(t){return this.composition.setSelectedRange(t)},t.prototype.activateAttribute=function(t,e){return null==e&&(e=!0),this.composition.setCurrentAttribute(t,e)},t.prototype.attributeIsActive=function(t){return this.composition.hasCurrentAttribute(t)},t.prototype.canActivateAttribute=function(t){return this.composition.canSetCurrentAttribute(t)},t.prototype.deactivateAttribute=function(t){return this.composition.removeCurrentAttribute(t)},t.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},t.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},t.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},t.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},t.prototype.canDecreaseIndentationLevel=function(){return this.canDecreaseNestingLevel()},t.prototype.canIncreaseIndentationLevel=function(){return this.canIncreaseNestingLevel()},t.prototype.decreaseIndentationLevel=function(){return this.decreaseNestingLevel()},t.prototype.increaseIndentationLevel=function(){return this.increaseNestingLevel()},t.prototype.canRedo=function(){return this.undoManager.canRedo()},t.prototype.canUndo=function(){return this.undoManager.canUndo()},t.prototype.recordUndoEntry=function(t,e){var n,i,o;return i=(o=null!=e?e:{}).context,n=o.consolidatable,this.undoManager.recordUndoEntry(t,{context:i,consolidatable:n})},t.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},t.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},t}()}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ManagedAttachment=function(e){function n(t,e){var n;this.attachmentManager=t,this.attachment=e,n=this.attachment,this.id=n.id,this.file=n.file}return t(n,e),n.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},n.proxyMethod("attachment.getAttribute"),n.proxyMethod("attachment.hasAttribute"),n.proxyMethod("attachment.setAttribute"),n.proxyMethod("attachment.getAttributes"),n.proxyMethod("attachment.setAttributes"),n.proxyMethod("attachment.isPending"),n.proxyMethod("attachment.isPreviewable"),n.proxyMethod("attachment.getURL"),n.proxyMethod("attachment.getHref"),n.proxyMethod("attachment.getFilename"),n.proxyMethod("attachment.getFilesize"),n.proxyMethod("attachment.getFormattedFilesize"),n.proxyMethod("attachment.getExtension"),n.proxyMethod("attachment.getContentType"),n.proxyMethod("attachment.getFile"),n.proxyMethod("attachment.setFile"),n.proxyMethod("attachment.releaseFile"),n.proxyMethod("attachment.getUploadProgress"),n.proxyMethod("attachment.setUploadProgress"),n}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.AttachmentManager=function(n){function i(t){var e,n,i;for(null==t&&(t=[]),this.managedAttachments={},n=0,i=t.length;i>n;n++)e=t[n],this.manageAttachment(e)}return t(i,n),i.prototype.getAttachments=function(){var t,e,n,i;for(e in i=[],n=this.managedAttachments)t=n[e],i.push(t);return i},i.prototype.manageAttachment=function(t){var n,i;return null!=(n=this.managedAttachments)[i=t.id]?n[i]:n[i]=new e.ManagedAttachment(this,t)},i.prototype.attachmentIsManaged=function(t){return t.id in this.managedAttachments},i.prototype.requestRemovalOfAttachment=function(t){var e;return this.attachmentIsManaged(t)&&null!=(e=this.delegate)&&"function"==typeof e.attachmentManagerDidRequestRemovalOfAttachment?e.attachmentManagerDidRequestRemovalOfAttachment(t):void 0},i.prototype.unmanageAttachment=function(t){var e;return e=this.managedAttachments[t.id],delete this.managedAttachments[t.id],e},i}(e.BasicObject)}.call(this),function(){var t,n,i,o,r,a,s,l,c,u,d;t=e.elementContainsNode,n=e.findChildIndexOfNode,r=e.nodeIsBlockStart,a=e.nodeIsBlockStartComment,o=e.nodeIsBlockContainer,s=e.nodeIsCursorTarget,l=e.nodeIsEmptyTextNode,c=e.nodeIsTextNode,i=e.nodeIsAttachmentElement,u=e.tagName,d=e.walkTree,e.LocationMapper=function(){function e(t){this.element=t}var h,f,p,m;return e.prototype.findLocationFromContainerAndOffset=function(e,i,o){var a,l,u,h,m,g,v;for(g=(null!=o?o:{strict:!0}).strict,l=0,u=!1,h={index:0,offset:0},(a=this.findAttachmentElementParentForNode(e))&&(e=a.parentNode,i=n(a)),v=d(this.element,{usingFilter:p});v.nextNode();){if((m=v.currentNode)===e&&c(e)){s(m)||(h.offset+=i);break}if(m.parentNode===e){if(l++===i)break}else if(!t(e,m)&&l>0)break;r(m,{strict:g})?(u&&h.index++,h.offset=0,u=!0):h.offset+=f(m)}return h},e.prototype.findContainerAndOffsetFromLocation=function(t){var e,i,a,s,l;if(0===t.index&&0===t.offset){for(e=this.element,s=0;e.firstChild;)if(e=e.firstChild,o(e)){s=1;break}return[e,s]}if(i=(l=this.findNodeAndOffsetFromLocation(t))[0],a=l[1],i){if(c(i))e=i,i.textContent,s=t.offset-a;else{if(e=i.parentNode,!r(i.previousSibling)&&!o(e))for(;i===e.lastChild&&(i=e,e=e.parentNode,!o(e)););s=n(i),0!==t.offset&&s++}return[e,s]}},e.prototype.findNodeAndOffsetFromLocation=function(t){var e,n,i,o,r,a,l,u;for(l=0,n=0,i=(u=this.getSignificantNodesForIndex(t.index)).length;i>n;n++){if(e=u[n],o=f(e),t.offset<=l+o)if(c(e)){if(r=e,a=l,t.offset===a&&s(r))break}else r||(r=e,a=l);if((l+=o)>t.offset)break}return[r,a]},e.prototype.findAttachmentElementParentForNode=function(t){for(;t&&t!==this.element;){if(i(t))return t;t=t.parentNode}},e.prototype.getSignificantNodesForIndex=function(t){var e,n,i,o,r;for(i=[],r=d(this.element,{usingFilter:h}),o=!1;r.nextNode();)if(n=r.currentNode,a(n)){if(null!=e?e++:e=0,e===t)o=!0;else if(o)break}else o&&i.push(n);return i},f=function(t){return t.nodeType===Node.TEXT_NODE?s(t)?0:t.textContent.length:"br"===u(t)||i(t)?1:0},h=function(t){return m(t)===NodeFilter.FILTER_ACCEPT?p(t):NodeFilter.FILTER_REJECT},m=function(t){return l(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},p=function(t){return i(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},e}()}.call(this),function(){var t,n,i=[].slice;t=e.getDOMRange,n=e.setDOMRange,e.PointMapper=function(){function e(){}return e.prototype.createDOMRangeFromPoint=function(e){var i,o,r,a,s,l,c,u;if(c=e.x,u=e.y,document.caretPositionFromPoint)return r=(s=document.caretPositionFromPoint(c,u)).offsetNode,o=s.offset,(i=document.createRange()).setStart(r,o),i;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(c,u);if(document.body.createTextRange){a=t();try{(l=document.body.createTextRange()).moveToPoint(c,u),l.select()}catch(d){}return i=t(),n(a),i}},e.prototype.getClientRectsForDOMRange=function(t){var e;return[(e=i.call(t.getClientRects()))[0],e[e.length-1]]},e}()}.call(this),function(){var t,n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,r=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.getDOMRange,e.SelectionChangeObserver=function(e){function o(){this.run=n(this.run,this),this.update=n(this.update,this),this.selectionManagers=[]}var a;return i(o,e),o.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},o.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},o.prototype.registerSelectionManager=function(t){return r.call(this.selectionManagers,t)<0?(this.selectionManagers.push(t),this.start()):void 0},o.prototype.unregisterSelectionManager=function(t){var e;return this.selectionManagers=function(){var n,i,o,r;for(r=[],n=0,i=(o=this.selectionManagers).length;i>n;n++)(e=o[n])!==t&&r.push(e);return r}.call(this),0===this.selectionManagers.length?this.stop():void 0},o.prototype.notifySelectionManagersOfSelectionChange=function(){var t,e,n,i,o;for(i=[],t=0,e=(n=this.selectionManagers).length;e>t;t++)o=n[t],i.push(o.selectionDidChange());return i},o.prototype.update=function(){var e;return e=t(),a(e,this.domRange)?void 0:(this.domRange=e,this.notifySelectionManagersOfSelectionChange())},o.prototype.reset=function(){return this.domRange=null,this.update()},o.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},a=function(t,e){return(null!=t?t.startContainer:void 0)===(null!=e?e.startContainer:void 0)&&(null!=t?t.startOffset:void 0)===(null!=e?e.startOffset:void 0)&&(null!=t?t.endContainer:void 0)===(null!=e?e.endContainer:void 0)&&(null!=t?t.endOffset:void 0)===(null!=e?e.endOffset:void 0)},o}(e.BasicObject),null==e.selectionChangeObserver&&(e.selectionChangeObserver=new e.SelectionChangeObserver)}.call(this),function(){var t,n,i,o,r,a,s,l,c,u,d=function(t,e){return function(){return t.apply(e,arguments)}},h=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;i=e.getDOMSelection,n=e.getDOMRange,u=e.setDOMRange,t=e.elementContainsNode,a=e.nodeIsCursorTarget,r=e.innerElementIsActive,o=e.handleEvent,s=e.normalizeRange,l=e.rangeIsCollapsed,c=e.rangesAreEqual,e.SelectionManager=function(f){function p(t){this.element=t,this.selectionDidChange=d(this.selectionDidChange,this),this.didMouseDown=d(this.didMouseDown,this),this.locationMapper=new e.LocationMapper(this.element),this.pointMapper=new e.PointMapper,this.lockCount=0,o("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return h(p,f),p.prototype.getLocationRange=function(t){var e;return null==t&&(t={}),!1===t.strict?this.createLocationRangeFromDOMRange(n(),{strict:!1}):t.ignoreLock?this.currentLocationRange:null!=(e=this.lockedLocationRange)?e:this.currentLocationRange},p.prototype.setLocationRange=function(t){var e;if(!this.lockedLocationRange)return t=s(t),(e=this.createDOMRangeFromLocationRange(t))?(u(e),this.updateCurrentLocationRange(t)):void 0},p.prototype.setLocationRangeFromPointRange=function(t){var e,n;return t=s(t),n=this.getLocationAtPoint(t[0]),e=this.getLocationAtPoint(t[1]),this.setLocationRange([n,e])},p.prototype.getClientRectAtLocationRange=function(t){var e;return(e=this.createDOMRangeFromLocationRange(t))?this.getClientRectsForDOMRange(e)[1]:void 0},p.prototype.locationIsCursorTarget=function(t){var e,n;return e=(n=this.findNodeAndOffsetFromLocation(t))[0],n[1],a(e)},p.prototype.lock=function(){return 0==this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},p.prototype.unlock=function(){var t;return 0==--this.lockCount&&(t=this.lockedLocationRange,this.lockedLocationRange=null,null!=t)?this.setLocationRange(t):void 0},p.prototype.clearSelection=function(){var t;return null!=(t=i())?t.removeAllRanges():void 0},p.prototype.selectionIsCollapsed=function(){var t;return!0===(null!=(t=n())?t.collapsed:void 0)},p.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},p.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),p.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),p.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),p.proxyMethod("pointMapper.createDOMRangeFromPoint"),p.proxyMethod("pointMapper.getClientRectsForDOMRange"),p.prototype.didMouseDown=function(){return this.pauseTemporarily()},p.prototype.pauseTemporarily=function(){var e,n,i,r;return this.paused=!0,n=function(e){return function(){var n,o;for(e.paused=!1,clearTimeout(r),n=0,o=i.length;o>n;n++)i[n].destroy();return t(document,e.element)?e.selectionDidChange():void 0}}(this),r=setTimeout(n,200),i=function(){var t,i,r,a;for(a=[],t=0,i=(r=["mousemove","keydown"]).length;i>t;t++)e=r[t],a.push(o(e,{onElement:document,withCallback:n}));return a}()},p.prototype.selectionDidChange=function(){return this.paused||r(this.element)?void 0:this.updateCurrentLocationRange()},p.prototype.updateCurrentLocationRange=function(t){var e;return(null!=t?t:t=this.createLocationRangeFromDOMRange(n()))&&!c(t,this.currentLocationRange)?(this.currentLocationRange=t,null!=(e=this.delegate)&&"function"==typeof e.locationRangeDidChange?e.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},p.prototype.createDOMRangeFromLocationRange=function(t){var e,n,i,o;return i=this.findContainerAndOffsetFromLocation(t[0]),n=l(t)?i:null!=(o=this.findContainerAndOffsetFromLocation(t[1]))?o:i,null!=i&&null!=n?((e=document.createRange()).setStart.apply(e,i),e.setEnd.apply(e,n),e):void 0},p.prototype.createLocationRangeFromDOMRange=function(t,e){var n,i;if(null!=t&&this.domRangeWithinElement(t)&&(i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e)))return t.collapsed||(n=this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e)),s([i,n])},p.prototype.getLocationAtPoint=function(t){var e,n;return(e=this.createDOMRangeFromPoint(t))&&null!=(n=this.createLocationRangeFromDOMRange(e))?n[0]:void 0},p.prototype.domRangeWithinElement=function(e){return e.collapsed?t(this.element,e.startContainer):t(this.element,e.startContainer)&&t(this.element,e.endContainer)},p}(e.BasicObject)}.call(this),function(){var t,n,i,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,a=[].slice;n=e.rangeIsCollapsed,i=e.rangesAreEqual,t=e.objectsAreEqual,e.EditorController=function(r){function s(t){var n,i;this.editorElement=t.editorElement,n=t.document,i=t.html,this.selectionManager=new e.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new e.Composition,this.composition.delegate=this,this.attachmentManager=new e.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new e.InputController(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new e.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new e.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new e.Editor(this.composition,this.selectionManager,this.editorElement),null!=n?this.editor.loadDocument(n):this.editor.loadHTML(i)}return o(s,r),s.prototype.registerSelectionManager=function(){return e.selectionChangeObserver.registerSelectionManager(this.selectionManager)},s.prototype.unregisterSelectionManager=function(){return e.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},s.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},s.prototype.compositionDidChangeCurrentAttributes=function(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},s.prototype.compositionDidPerformInsertionAtRange=function(t){return this.pasting?this.pastedRange=t:void 0},s.prototype.compositionShouldAcceptFile=function(t){return this.notifyEditorElement("file-accept",{file:t})},s.prototype.compositionDidAddAttachment=function(t){var e;return e=this.attachmentManager.manageAttachment(t),this.notifyEditorElement("attachment-add",{attachment:e})},s.prototype.compositionDidEditAttachment=function(t){var e;return this.compositionController.rerenderViewForObject(t),e=this.attachmentManager.manageAttachment(t),this.notifyEditorElement("attachment-edit",{attachment:e}),this.notifyEditorElement("change")},s.prototype.compositionDidChangeAttachmentPreviewURL=function(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")},s.prototype.compositionDidRemoveAttachment=function(t){var e;return e=this.attachmentManager.unmanageAttachment(t),this.notifyEditorElement("attachment-remove",{attachment:e})},s.prototype.compositionDidStartEditingAttachment=function(t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t),this.selectionManager.setLocationRange(this.attachmentLocationRange)},s.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},s.prototype.compositionDidRequestChangingSelectionToLocationRange=function(t){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},s.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},s.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},s.prototype.getSelectionManager=function(){return this.selectionManager},s.proxyMethod("getSelectionManager().setLocationRange"),s.proxyMethod("getSelectionManager().getLocationRange"),s.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},s.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},s.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},s.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},s.prototype.compositionControllerDidFocus=function(){return this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},s.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},s.prototype.compositionControllerDidSelectAttachment=function(t){return this.composition.editAttachment(t)},s.prototype.compositionControllerDidRequestDeselectingAttachment=function(t){var e,n;return e=null!=(n=this.attachmentLocationRange)?n:this.composition.document.getLocationRangeOfAttachment(t),this.selectionManager.setLocationRange(e[1])},s.prototype.compositionControllerWillUpdateAttachment=function(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})},s.prototype.compositionControllerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},s.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},s.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},s.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},s.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},s.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},s.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},s.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},s.prototype.inputControllerWillPaste=function(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})},s.prototype.inputControllerDidPaste=function(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})},s.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},s.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},s.prototype.inputControllerDidReceiveKeyboardCommand=function(t){return this.toolbarController.applyKeyboardCommand(t)},s.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},s.prototype.inputControllerDidReceiveDragOverPoint=function(t){return this.selectionManager.setLocationRangeFromPointRange(t)},s.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},s.prototype.locationRangeDidChange=function(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!i(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},s.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},s.prototype.toolbarDidInvokeAction=function(t){return this.invokeAction(t)},s.prototype.toolbarDidToggleAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.toggleCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},s.prototype.toolbarDidUpdateAttribute=function(t,e){return this.recordFormattingUndoEntry(),this.composition.setCurrentAttribute(t,e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},s.prototype.toolbarDidRemoveAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.removeCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},s.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},s.prototype.toolbarDidShowDialog=function(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})},s.prototype.toolbarDidHideDialog=function(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})},s.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},s.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},s.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},increaseBlockLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseBlockLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}}},s.prototype.canInvokeAction=function(t){var e,n;return!!this.actionIsExternal(t)||!!(null!=(e=this.actions[t])&&null!=(n=e.test)?n.call(this):void 0)},s.prototype.invokeAction=function(t){var e,n;return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t}):null!=(e=this.actions[t])&&null!=(n=e.perform)?n.call(this):void 0},s.prototype.actionIsExternal=function(t){return/^x-./.test(t)},s.prototype.getCurrentActions=function(){var t,e;for(t in e={},this.actions)e[t]=this.canInvokeAction(t);return e},s.prototype.updateCurrentActions=function(){var e;return e=this.getCurrentActions(),t(e,this.currentActions)?void 0:(this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},s.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},s.prototype.render=function(){return this.compositionController.render()},s.prototype.updateInputElement=function(){var t,n;return t=this.compositionController.getSerializableElement(),n=e.serializeToContentType(t,"text/html"),this.editorElement.setInputElementValue(n)},s.prototype.notifyEditorElement=function(t,e){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,e)},s.prototype.removeAttachment=function(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()},s.prototype.recordFormattingUndoEntry=function(){var t;return t=this.selectionManager.getLocationRange(),n(t)?void 0:this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})},s.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},s.prototype.getUndoContext=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(a.call(t))},s.prototype.getLocationContext=function(){var t;return t=this.selectionManager.getLocationRange(),n(t)?t[0].index:t},s.prototype.getTimeContext=function(){return e.config.undoInterval>0?Math.floor((new Date).getTime()/e.config.undoInterval):0},s.prototype.isFocused=function(){var t;return this.editorElement===(null!=(t=this.editorElement.ownerDocument)?t.activeElement:void 0)},s}(e.Controller)}.call(this),function(){var t,n,i,o,r,a,s,l,c,u,d,h,f;o=e.makeElement,r=e.triggerEvent,n=e.handleEvent,i=e.handleEventOnce,t=e.AttachmentView.attachmentSelector,e.registerElement("trix-editor",(d=0,a=function(t){return!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t?t.focus():void 0},h=function(t){return t.hasAttribute("contenteditable")?void 0:(t.setAttribute("contenteditable",""),i("focus",{onElement:t,withCallback:function(){return l(t)}}))},l=function(t){return u(t),f(t)},u=function(t){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),n("mscontrolselect",{onElement:t,preventDefault:!0})):void 0},f=function(){var t;return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)&&("div"===(t=e.config.blockAttributes["default"].tagName)||"p"===t)?document.execCommand("DefaultParagraphSeparator",!1,t):void 0},s=/Trident.*rv:11/.test(navigator.userAgent),{defaultCSS:"%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+t+" figcaption textarea {\n  resize: none;\n}\n\n%t "+t+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+t+" figcaption[data-trix-placeholder]:empty::before {\n  content: attr(data-trix-placeholder);\n  color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n  display: "+(c=s?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"
}).display+" !important;\n  width: "+c.width+" !important;\n  padding: 0 !important;\n  margin: 0 !important;\n  border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n  vertical-align: top !important;\n  margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n  vertical-align: bottom !important;\n  margin-right: -1px !important;\n}",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++d),this.trixId)}},toolbarElement:{get:function(){var t,e,n;return this.hasAttribute("toolbar")?null!=(e=this.ownerDocument)?e.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(n="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",n),t=o("trix-toolbar",{id:n}),this.parentNode.insertBefore(t,this),t):void 0}},inputElement:{get:function(){var t,e,n;return this.hasAttribute("input")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute("input")):void 0:this.parentNode?(e="trix-input-"+this.trixId,this.setAttribute("input",e),t=o("input",{type:"hidden",id:e}),this.parentNode.insertBefore(t,this.nextElementSibling),t):void 0}},editor:{get:function(){var t;return null!=(t=this.editorController)?t.editor:void 0}},name:{get:function(){var t;return null!=(t=this.inputElement)?t.name:void 0}},value:{get:function(){var t;return null!=(t=this.inputElement)?t.value:void 0},set:function(t){var e;return this.defaultValue=t,null!=(e=this.editor)?e.loadHTML(this.defaultValue):void 0}},notify:function(t,e){return this.editorController?r("trix-"+t,{onElement:this,attributes:e}):void 0},setInputElementValue:function(t){var e;return null!=(e=this.inputElement)?e.value=t:void 0},createdCallback:function(){return h(this)},attachedCallback:function(){return this.hasAttribute("data-trix-internal")?void 0:(null==this.editorController&&(this.editorController=new e.EditorController({editorElement:this,html:this.defaultValue=this.value})),this.editorController.registerSelectionManager(),this.registerResetListener(),a(this),requestAnimationFrame((t=this,function(){return t.notify("initialize")})));var t},detachedCallback:function(){var t;return null!=(t=this.editorController)&&t.unregisterSelectionManager(),this.unregisterResetListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},resetBubbled:function(t){var e;return t.target!==(null!=(e=this.inputElement)?e.form:void 0)||t.defaultPrevented?void 0:this.reset()},reset:function(){return this.value=this.defaultValue}}))}.call(this),function(){}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),
/**
 * jquery.Jcrop.js v0.9.12
 * jQuery Image Cropping Plugin - released under MIT License 
 * Author: Kelly Hallman <khallman@gmail.com>
 * http://github.com/tapmodo/Jcrop
 * Copyright (c) 2008-2013 Tapmodo Interactive LLC {{{
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 *
 * }}}
 */
function(t){t.Jcrop=function(e,n){function i(t){return Math.round(t)+"px"}function o(t){return L.baseClass+"-"+t}function r(){return t.fx.step.hasOwnProperty("backgroundColor")}function a(e){var n=t(e).offset();return[n.left,n.top]}function s(t){return[t.pageX-I[0],t.pageY-I[1]]}function l(e){"object"!=typeof e&&(e={}),L=t.extend(L,e),t.each(["onChange","onSelect","onRelease","onDblClick"],function(t,e){"function"!=typeof L[e]&&(L[e]=function(){})})}function c(t,e,n){if(I=a(W),ft.setCursor("move"===t?t:t+"-resize"),"move"===t)return ft.activateHandlers(d(e),g,n);var i=ut.getFixed(),o=h(t),r=ut.getCorner(h(o));ut.setPressed(ut.getCorner(o)),ut.setCurrent(r),ft.activateHandlers(u(t,i),g,n)}function u(t,e){return function(n){if(L.aspectRatio)switch(t){case"e":case"w":n[1]=e.y+1;break;case"n":case"s":n[0]=e.x+1}else switch(t){case"e":case"w":n[1]=e.y2;break;case"n":case"s":n[0]=e.x2}ut.setCurrent(n),ht.update()}}function d(t){var e=t;return pt.watchKeys(),function(t){ut.moveOffset([t[0]-e[0],t[1]-e[1]]),e=t,ht.update()}}function h(t){switch(t){case"n":return"sw";case"s":case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function f(t){return function(e){return!L.disabled&&(!("move"===t&&!L.allowMove)&&(I=a(W),it=!0,c(t,s(e)),e.stopPropagation(),e.preventDefault(),!1))}}function p(t,e,n){var i=t.width(),o=t.height();i>e&&e>0&&(i=e,o=e/t.width()*t.height()),o>n&&n>0&&(o=n,i=n/t.height()*t.width()),et=t.width()/i,nt=t.height()/o,t.width(i).height(o)}function m(t){return{x:t.x*et,y:t.y*nt,x2:t.x2*et,y2:t.y2*nt,w:t.w*et,h:t.h*nt}}function g(){var t=ut.getFixed();t.w>L.minSelect[0]&&t.h>L.minSelect[1]?(ht.enableHandles(),ht.done()):ht.release(),ft.setCursor(L.allowSelect?"crosshair":"default")}function v(t){if(L.disabled)return!1;if(!L.allowSelect)return!1;it=!0,I=a(W),ht.disableHandles(),ft.setCursor("crosshair");var e=s(t);return ut.setPressed(e),ht.update(),ft.activateHandlers(y,g,"touch"===t.type.substring(0,5)),pt.watchKeys(),t.stopPropagation(),t.preventDefault(),!1}function y(t){ut.setCurrent(t),ht.update()}function b(){var e=t("<div></div>").addClass(o("tracker"));return M&&e.css({opacity:0,backgroundColor:"white"}),e}function w(t){V.removeClass().addClass(o("holder")).addClass(t)}function C(t,e){function n(){window.setTimeout(y,d)}var i=t[0]/et,o=t[1]/nt,r=t[2]/et,a=t[3]/nt;if(!ot){var s=ut.flipCoords(i,o,r,a),l=ut.getFixed(),c=[l.x,l.y,l.x2,l.y2],u=c,d=L.animationDelay,h=s[0]-c[0],f=s[1]-c[1],p=s[2]-c[2],m=s[3]-c[3],g=0,v=L.swingSpeed;i=u[0],o=u[1],r=u[2],a=u[3],ht.animMode(!0);var y=function(){g+=(100-g)/v,u[0]=Math.round(i+g/100*h),u[1]=Math.round(o+g/100*f),u[2]=Math.round(r+g/100*p),u[3]=Math.round(a+g/100*m),g>=99.8&&(g=100),g<100?(_(u),n()):(ht.done(),ht.animMode(!1),"function"==typeof e&&e.call(mt))};n()}}function x(t){_([t[0]/et,t[1]/nt,t[2]/et,t[3]/nt]),L.onSelect.call(mt,m(ut.getFixed())),ht.enableHandles()}function _(t){ut.setPressed([t[0],t[1]]),ut.setCurrent([t[2],t[3]]),ht.update()}function k(){return m(ut.getFixed())}function T(){return ut.getFixed()}function S(t){l(t),P()}function E(){L.disabled=!0,ht.disableHandles(),ht.setCursor("default"),ft.setCursor("default")}function A(){L.disabled=!1,P()}function $(){ht.done(),ft.activateHandlers(null,null)}function D(){V.remove(),F.show(),F.css("visibility","visible"),t(e).removeData("Jcrop")}function N(t,e){ht.release(),E();var n=new Image;n.onload=function(){var i=n.width,o=n.height,r=L.boxWidth,a=L.boxHeight;W.width(i).height(o),W.attr("src",t),X.attr("src",t),p(W,r,a),U=W.width(),q=W.height(),X.width(U).height(q),at.width(U+2*rt).height(q+2*rt),V.width(U).height(q),dt.resize(U,q),A(),"function"==typeof e&&e.call(mt)},n.src=t}function R(t,e,n){var i=e||L.bgColor;L.bgFade&&r()&&L.fadeTime&&!n?t.animate({backgroundColor:i},{queue:!1,duration:L.fadeTime}):t.css("backgroundColor",i)}function P(t){L.allowResize?t?ht.enableOnly():ht.enableHandles():ht.disableHandles(),ft.setCursor(L.allowSelect?"crosshair":"default"),ht.setCursor(L.allowMove?"move":"default"),L.hasOwnProperty("trueSize")&&(et=L.trueSize[0]/U,nt=L.trueSize[1]/q),L.hasOwnProperty("setSelect")&&(x(L.setSelect),ht.done(),delete L.setSelect),dt.refresh(),L.bgColor!=st&&(R(L.shade?dt.getShades():V,L.shade&&L.shadeColor||L.bgColor),st=L.bgColor),lt!=L.bgOpacity&&(lt=L.bgOpacity,L.shade?dt.refresh():ht.setBgOpacity(lt)),K=L.maxSize[0]||0,Q=L.maxSize[1]||0,Z=L.minSize[0]||0,tt=L.minSize[1]||0,L.hasOwnProperty("outerImage")&&(W.attr("src",L.outerImage),delete L.outerImage),ht.refresh()}var I,L=t.extend({},t.Jcrop.defaults),O=navigator.userAgent.toLowerCase(),M=/msie/.test(O),B=/msie [1-6]\./.test(O);"object"!=typeof e&&(e=t(e)[0]),"object"!=typeof n&&(n={}),l(n);var H={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},F=t(e),z=!0;if("IMG"==e.tagName){if(0!=F[0].width&&0!=F[0].height)F.width(F[0].width),F.height(F[0].height);else{var j=new Image;j.src=F[0].src,F.width(j.width),F.height(j.height)}var W=F.clone().removeAttr("id").css(H).show();W.width(F.width()),W.height(F.height()),F.after(W).hide()}else W=F.css(H).show(),z=!1,null===L.shade&&(L.shade=!0);p(W,L.boxWidth,L.boxHeight);var U=W.width(),q=W.height(),V=t("<div />").width(U).height(q).addClass(o("holder")).css({position:"relative",backgroundColor:L.bgColor}).insertAfter(F).append(W);L.addClass&&V.addClass(L.addClass);var X=t("<div />"),Y=t("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),G=t("<div />").width("100%").height("100%").css("zIndex",320),J=t("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var t=ut.getFixed();L.onDblClick.call(mt,t)}).insertBefore(W).append(Y,G);z&&(X=t("<img />").attr("src",W.attr("src")).css(H).width(U).height(q),Y.append(X)),B&&J.css({overflowY:"hidden"});var K,Q,Z,tt,et,nt,it,ot,rt=L.boundary,at=b().width(U+2*rt).height(q+2*rt).css({position:"absolute",top:i(-rt),left:i(-rt),zIndex:290}).mousedown(v),st=L.bgColor,lt=L.bgOpacity;I=a(W);var ct=function(){function t(){var t,e={},n=["touchstart","touchmove","touchend"],i=document.createElement("div");try{for(t=0;t<n.length;t++){var o=n[t],r=(o="on"+o)in i;r||(i.setAttribute(o,"return;"),r="function"==typeof i[o]),e[n[t]]=r}return e.touchstart&&e.touchend&&e.touchmove}catch(a){return!1}}function e(){return!0===L.touchSupport||!1===L.touchSupport?L.touchSupport:t()}return{createDragger:function(t){return function(e){return!L.disabled&&(!("move"===t&&!L.allowMove)&&(I=a(W),it=!0,c(t,s(ct.cfilter(e)),!0),e.stopPropagation(),e.preventDefault(),!1))}},newSelection:function(t){return v(ct.cfilter(t))},cfilter:function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t},isSupported:t,support:e()}}(),ut=function(){function t(t){t=a(t),p=h=t[0],m=f=t[1]}function e(t){t=a(t),u=t[0]-p,d=t[1]-m,p=t[0],m=t[1]}function n(){return[u,d]}function i(t){var e=t[0],n=t[1];0>h+e&&(e-=e+h),0>f+n&&(n-=n+f),q<m+n&&(n+=q-(m+n)),U<p+e&&(e+=U-(p+e)),h+=e,p+=e,f+=n,m+=n}function o(t){var e=r();switch(t){case"ne":return[e.x2,e.y];case"nw":return[e.x,e.y];case"se":return[e.x2,e.y2];case"sw":return[e.x,e.y2]}}function r(){if(!L.aspectRatio)return l();var t,e,n,i,o=L.aspectRatio,r=L.minSize[0]/et,a=L.maxSize[0]/et,u=L.maxSize[1]/nt,d=p-h,g=m-f,v=Math.abs(d),y=Math.abs(g);return 0===a&&(a=10*U),0===u&&(u=10*q),v/y<o?(e=m,n=y*o,(t=d<0?h-n:n+h)<0?(t=0,i=Math.abs((t-h)/o),e=g<0?f-i:i+f):t>U&&(t=U,i=Math.abs((t-h)/o),e=g<0?f-i:i+f)):(t=p,i=v/o,(e=g<0?f-i:f+i)<0?(e=0,n=Math.abs((e-f)*o),t=d<0?h-n:n+h):e>q&&(e=q,n=Math.abs(e-f)*o,t=d<0?h-n:n+h)),t>h?(t-h<r?t=h+r:t-h>a&&(t=h+a),e=e>f?f+(t-h)/o:f-(t-h)/o):t<h&&(h-t<r?t=h-r:h-t>a&&(t=h-a),e=e>f?f+(h-t)/o:f-(h-t)/o),t<0?(h-=t,t=0):t>U&&(h-=t-U,t=U),e<0?(f-=e,e=0):e>q&&(f-=e-q,e=q),c(s(h,f,t,e))}function a(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t[0]>U&&(t[0]=U),t[1]>q&&(t[1]=q),[Math.round(t[0]),Math.round(t[1])]}function s(t,e,n,i){var o=t,r=n,a=e,s=i;return n<t&&(o=n,r=t),i<e&&(a=i,s=e),[o,a,r,s]}function l(){var t,e=p-h,n=m-f;return K&&Math.abs(e)>K&&(p=e>0?h+K:h-K),Q&&Math.abs(n)>Q&&(m=n>0?f+Q:f-Q),tt/nt&&Math.abs(n)<tt/nt&&(m=n>0?f+tt/nt:f-tt/nt),Z/et&&Math.abs(e)<Z/et&&(p=e>0?h+Z/et:h-Z/et),h<0&&(p-=h,h-=h),f<0&&(m-=f,f-=f),p<0&&(h-=p,p-=p),m<0&&(f-=m,m-=m),p>U&&(h-=t=p-U,p-=t),m>q&&(f-=t=m-q,m-=t),h>U&&(m-=t=h-q,f-=t),f>q&&(m-=t=f-q,f-=t),c(s(h,f,p,m))}function c(t){return{x:t[0],y:t[1],x2:t[2],y2:t[3],w:t[2]-t[0],h:t[3]-t[1]}}var u,d,h=0,f=0,p=0,m=0;return{flipCoords:s,setPressed:t,setCurrent:e,getOffset:n,moveOffset:i,getCorner:o,getFixed:r}}(),dt=function(){function e(t,e){p.left.css({height:i(e)}),p.right.css({height:i(e)})}function n(){return o(ut.getFixed())}function o(t){p.top.css({left:i(t.x),width:i(t.w),height:i(t.y)}),p.bottom.css({top:i(t.y2),left:i(t.x),width:i(t.w),height:i(q-t.y2)}),p.right.css({left:i(t.x2),width:i(U-t.x2)}),p.left.css({width:i(t.x)})}function r(){return t("<div />").css({position:"absolute",backgroundColor:L.shadeColor||L.bgColor}).appendTo(f)}function a(){h||(h=!0,f.insertBefore(W),n(),ht.setBgOpacity(1,0,1),X.hide(),s(L.shadeColor||L.bgColor,1),ht.isAwake()?c(L.bgOpacity,1):c(1,1))}function s(t,e){R(d(),t,e)}function l(){h&&(f.remove(),X.show(),h=!1,ht.isAwake()?ht.setBgOpacity(L.bgOpacity,1,1):(ht.setBgOpacity(1,1,1),ht.disableHandles()),R(V,0,1))}function c(t,e){h&&(L.bgFade&&!e?f.animate({opacity:1-t},{queue:!1,duration:L.fadeTime}):f.css({opacity:1-t}))}function u(){L.shade?a():l(),ht.isAwake()&&c(L.bgOpacity)}function d(){return f.children()}var h=!1,f=t("<div />").css({position:"absolute",zIndex:240,opacity:0}),p={top:r(),left:r().height(q),right:r().height(q),bottom:r()};return{update:n,updateRaw:o,getShades:d,setBgColor:s,enable:a,disable:l,resize:e,refresh:u,opacity:c}}(),ht=function(){function e(e){var n=t("<div />").css({position:"absolute",opacity:L.borderOpacity}).addClass(o(e));return Y.append(n),n}function n(e,n){var i=t("<div />").mousedown(f(e)).css({cursor:e+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+e);return ct.support&&i.bind("touchstart.jcrop",ct.createDragger(e)),G.append(i),i}function r(t){var e=L.handleSize,i=n(t,E++).css({opacity:L.handleOpacity}).addClass(o("handle"));return e&&i.width(e).height(e),i}function a(t){return n(t,E++).addClass("jcrop-dragbar")}function s(t){var e;for(e=0;e<t.length;e++)D[t[e]]=a(t[e])}function l(t){var n,i;for(i=0;i<t.length;i++){switch(t[i]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}A[t[i]]=e(n)}}function c(t){var e;for(e=0;e<t.length;e++)$[t[e]]=r(t[e])}function u(t,e){L.shade||X.css({top:i(-e),left:i(-t)}),J.css({top:i(e),left:i(t)})}function d(t,e){J.width(Math.round(t)).height(Math.round(e))}function h(){var t=ut.getFixed();ut.setPressed([t.x,t.y]),ut.setCurrent([t.x2,t.y2]),p()}function p(t){if(S)return g(t)}function g(t){var e=ut.getFixed();d(e.w,e.h),u(e.x,e.y),L.shade&&dt.updateRaw(e),S||y(),t?L.onSelect.call(mt,m(e)):L.onChange.call(mt,m(e))}function v(t,e,n){(S||e)&&(L.bgFade&&!n?W.animate({opacity:t},{queue:!1,duration:L.fadeTime}):W.css("opacity",t))}function y(){J.show(),L.shade?dt.opacity(lt):v(lt,!0),S=!0}function w(){_(),J.hide(),L.shade?dt.opacity(1):v(1),S=!1,L.onRelease.call(mt)}function C(){N&&G.show()}function x(){if(N=!0,L.allowResize)return G.show(),!0}function _(){N=!1,G.hide()}function k(t){t?(ot=!0,_()):(ot=!1,x())}function T(){k(!1),h()}var S,E=370,A={},$={},D={},N=!1;L.dragEdges&&t.isArray(L.createDragbars)&&s(L.createDragbars),t.isArray(L.createHandles)&&c(L.createHandles),L.drawBorders&&t.isArray(L.createBorders)&&l(L.createBorders),t(document).bind("touchstart.jcrop-ios",function(e){t(e.currentTarget).hasClass("jcrop-tracker")&&e.stopPropagation()});var R=b().mousedown(f("move")).css({cursor:"move",position:"absolute",zIndex:360});return ct.support&&R.bind("touchstart.jcrop",ct.createDragger("move")),Y.append(R),_(),{updateVisible:p,update:g,release:w,refresh:h,isAwake:function(){return S},setCursor:function(t){R.css("cursor",t)},enableHandles:x,enableOnly:function(){N=!0},showHandles:C,disableHandles:_,animMode:k,setBgOpacity:v,done:T}}(),ft=function(){function e(e){at.css({zIndex:450}),e?t(document).bind("touchmove.jcrop",a).bind("touchend.jcrop",l):h&&t(document).bind("mousemove.jcrop",i).bind("mouseup.jcrop",o)}function n(){at.css({zIndex:290}),t(document).unbind(".jcrop")}function i(t){return u(s(t)),!1}function o(t){return t.preventDefault(),t.stopPropagation(),it&&(it=!1,d(s(t)),ht.isAwake()&&L.onSelect.call(mt,m(ut.getFixed())),n(),u=function(){},d=function(){}),!1}function r(t,n,i){return it=!0,u=t,d=n,e(i),!1}function a(t){return u(s(ct.cfilter(t))),!1}function l(t){return o(ct.cfilter(t))}function c(t){at.css("cursor",t)}var u=function(){},d=function(){},h=L.trackDocument;return h||at.mousemove(i).mouseup(o).mouseout(o),W.before(at),{activateHandlers:r,setCursor:c}}(),pt=function(){function e(){L.keySupport&&(r.show(),r.focus())}function n(){r.hide()}function i(t,e,n){L.allowMove&&(ut.moveOffset([e,n]),ht.updateVisible(!0)),t.preventDefault(),t.stopPropagation()}function o(t){if(t.ctrlKey||t.metaKey)return!0;var e=!!t.shiftKey?10:1;switch(t.keyCode){case 37:i(t,-e,0);break;case 39:i(t,e,0);break;case 38:i(t,0,-e);break;case 40:i(t,0,e);break;case 27:L.allowSelect&&ht.release();break;case 9:return!0}return!1}var r=t('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),a=t("<div />").css({position:"absolute",overflow:"hidden"}).append(r);return L.keySupport&&(r.keydown(o).blur(n),B||!L.fixedSupport?(r.css({position:"absolute",left:"-20px"}),a.append(r).insertBefore(W)):r.insertBefore(W)),{watchKeys:e}}();ct.support&&at.bind("touchstart.jcrop",ct.newSelection),G.hide(),P(!0);var mt={setImage:N,animateTo:C,setSelect:x,setOptions:S,tellSelect:k,tellScaled:T,setClass:w,disable:E,enable:A,cancel:$,release:ht.release,destroy:D,focus:pt.watchKeys,getBounds:function(){return[U*et,q*nt]},getWidgetSize:function(){return[U,q]},getScaleFactor:function(){return[et,nt]},getOptions:function(){return L},ui:{holder:V,selection:J}};return M&&V.bind("selectstart",function(){return!1}),F.data("Jcrop",mt),mt},t.fn.Jcrop=function(e,n){var i;return this.each(function(){if(t(this).data("Jcrop")){if("api"===e)return t(this).data("Jcrop");t(this).data("Jcrop").setOptions(e)}else"IMG"==this.tagName?t.Jcrop.Loader(this,function(){t(this).css({display:"block",visibility:"hidden"}),i=t.Jcrop(this,e),t.isFunction(n)&&n.call(i)}):(t(this).css({display:"block",visibility:"hidden"}),i=t.Jcrop(this,e),t.isFunction(n)&&n.call(i))}),this},t.Jcrop.Loader=function(e,n,i){function o(){a.complete?(r.unbind(".jcloader"),t.isFunction(n)&&n.call(a)):window.setTimeout(o,50)}var r=t(e),a=r[0];r.bind("load.jcloader",o).bind("error.jcloader",function(){r.unbind(".jcloader"),t.isFunction(i)&&i.call(a)}),a.complete&&t.isFunction(n)&&(r.unbind(".jcloader"),n.call(a))},t.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),function(){$(function(){var t,e,n,i,o,r,a;return $(document).on("click",".js-cv-download-file",function(){if(!JSON.parse(sessionStorage.getItem("UserBindModalShow")))return showBindOfficalAccount(4e3),sessionStorage.setItem("UserBindModalShow",!0)}),$(document).on("click",".btns-ignore",function(t){return t.preventDefault(),$(this).closest(".resume-advice-item").show()}),$(document).on("click",".copy-link",function(){return $(".copy-link-item").select(),$(".copy-link-item").focus(),document.execCommand("copy")?$.notify("\u5df2\u590d\u5236","success"):$.notify("\u590d\u5236\u5931\u8d25","warn")}),$(document).on("mouseover",".scan-share-button",function(){return $(".qr-code").removeClass("hide")}),i="highlight-rule",$(document).on("click",".section-amount-issue",function(a){var s;return a.preventDefault(),r(),s=$(this).data("section"),$("#"+s).addClass(i),"unprofessinal_email"===s?n():"has_template"===s?e():"oneline"===s?t():"wordcount"!==s&&0===$("#"+s).length?o():$("#"+s).length>0?$("html, body").animate({scrollTop:$("#"+s).offset().top},1e3):void 0}),n=function(){return $("#jobmail-modal").modal("show")},t=function(){return $('[data-need-online="true"] .tag-second-line').addClass(i),$("html, body").animate({scrollTop:$('div[data-need-online="true"]').offset().top},1e3)},e=function(){return $('div[data-has-template="true"]').addClass(i),$("html, body").animate({scrollTop:$('div[data-has-template="true"]').offset().top},1e3)},o=function(){return isMobileDevice()?$(".cv-add-module-btn").click():($("#cv-add-modal .selector-list").removeClass("hide"),$("html, body").animate({scrollTop:0},1e3))},r=function(){return $("."+i).each(function(){return $(this).removeClass(i)})},$(document).on("click","#js-profile-use-jobmail",function(t){var e,n;return t.preventDefault(),n=$(".use-jobmail-modal .current-jobmail").data("email"),e={cv_id:$(".use-jobmail-modal").data("cv-token"),email:n},(new UpdateProfileEmail).post(e),$(".use-jobmail-modal").modal("hide"),$('[data-rule="unprofessinal_email"]').remove(),$.notify("\u66f4\u65b0\u6210\u529f\uff01","success")}),$(document).on("click",".switch-other-contact .on",function(){var t;return t=$(".contact-cell"),$(this).hide(),$(this).next().show(),$(".other-contacts").show(),t.data("select",!0),t.css("cursor","pointer")}),$(document).on("click",".switch-other-contact .off",function(){var t;return t=$(".contact-cell"),$(this).hide(),$(this).prev().show(),$(".other-contacts").hide(),t.data("select",!1),t.css("cursor","auto")}),$(document).on("click",".contact-cell",function(){var t,e;return"persisted"===$(this).data("asso-status")?$.ajax({url:$(this).data("url"),type:"POST"}):(e=$(this).get(0).outerHTML,t=$(".contact-cell.using").get(0).outerHTML,$(".contact-cell.using").replaceWith(e),$(this).replaceWith(t),$(".contacts .contact-cell").addClass("using"),$(".other-contacts .contact-cell").removeClass("using"),$(".other-contacts").hide(),$(".switch-other-contact .off").click(),$(".contact-cell.using .check").removeClass("hidden"),a($(this)),(new ContactTextVerticalLine).inserted())}),a=function(t){return $('input[name*="contact_id"]').val(t.data("contact-id"))}}),this.ContactTextVerticalLine=function(){function t(){}var e;return e=function(t,e){var n,i;if(n=(i=$(e)).text(),t>0&&n.length>0&&-1===n.indexOf("|"))return i.text(" | "+n)},t.prototype.inserted=function(){return $(".contact-cell .primary-line").each(function(t,n){return $(n).find("span:not(.contact-status)").each(e)}),$(".contact-cell .secondary-line").each(function(t,n){return $(n).find("span:not(.contact-status)").each(e)})},t}(),$(function(){return(new ContactTextVerticalLine).inserted()})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;$(function(){var n;return n=function(){function t(){}var e,n,i,o;return t.prototype.count=function(t){var e,n,i,o;if(t=t.trim(),this.empty_str(t))return 0;for(i="",o=0,n=t.length;n--;)e=t.charAt(n),("function"==typeof this.han?this.han(e):void 0)?(o++,i="han"):("function"==typeof this.word_segment?this.word_segment(e):void 0)?i="word_seg":("other_type"!==i&&o++,i="other_type");return o},t.prototype.empty_str=function(t){return null==t||0===t.length},t.prototype.han=function(t){return t.match(/[\u4E00-\u9FFF]|[\u3400-\u4DBF]/)},t.prototype.word_segment=function(t){return t.match("[\\s"+e+i+o+n+"]")},o="\u2010-\u2027\u2030-\u2043\u2045-\u205e",e="!-@[-`{-~"+String.fromCharCode(161,167,171,182,183,187,191),n="\u3001-\u3003\u3008-\u3011\u3014-\u301f\u3030\u303d",i="\uff01-\uff03\uff05-\uff0a\uff0c-\uff0f\uff1a-\uff1b\uff1f-\uff20\uff3b-\uff3d\uff3f\uff5b\uff5d\uff5f-\uff65",t}(),new(function(){function i(e){this.update_cv_words_by_observer=t(this.update_cv_words_by_observer,this),this.on_cv_page(e)&&(this.cv_id=e,this.update_cv_words_count(),this.monitor_cv_changes())}return e(i,n),i.prototype.on_cv_page=function(t){return null!=t&&null!=document.getElementById(t)},i.prototype.monitor_cv_changes=function(){return this.observe_cv_content(),this.monitor_input_event(),this.monitor_description_events()},i.prototype.observe_cv_content=function(){var t,e;return e=document.querySelector("#"+this.cv_id),t={subtree:!0,childList:!0,characterData:!0},new MutationObserver(this.update_cv_words_by_observer).observe(e,t),console.debug("[counter]"+this.cv_id+" observer launched")},i.prototype.update_cv_words_by_observer=function(){return console.debug("[counter]update by observer"),this.update_cv_words_count()},i.prototype.monitor_input_event=function(){return $(document).on("input change","#"+this.cv_id,(t=this,function(){return console.debug("[counter]@cv_id input/change updating..."),t.update_cv_words_count()}));var t},i.prototype.monitor_description_events=function(){return tinymce.on("AddEditor",(t=this,function(e){return console.debug("[counter]new editor added "+e.editor.id),e.editor.on("Change Undo Redo",function(){return t.update_cv_words_count(),t.monitor_description_input()})}));var t},i.prototype.monitor_description_input=function(){var t,e;return t=document.querySelector("#"+this.cv_id+" iframe").contentDocument,$(t).on("input","body",(e=this,function(){return console.debug("[counter]iframe input updating desp..."),e.update_cv_words_count()}))},i.prototype.update_cv_words_count=function(){return $(".word-counter").text(this.count(this.cv_content()))},i.prototype.cv_content=function(){var t,e,n;return t=document.querySelector("#"+this.cv_id).innerText,$("#"+this.cv_id+" input[type='text']").filter(":visible").each(function(){return t+=" "+$(this).val()}),null!=(n=document.querySelector("#"+this.cv_id+" iframe"))&&(e=n.contentDocument.querySelector("body").innerText,t+=" "+e,console.debug("[counter]description="+e)),console.debug("[counter]cv content="+t.replace(/\s+/g," ")),t},i}())("cv-content")})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.ProfileAvatarCropper=function(){function e(e){this.opt=null!=e?e:this.default_crop_setting(),this.updatePreview=t(this.updatePreview,this),this.update=t(this.update,this),$("#"+this.opt.model+"_avatar_cropbox").Jcrop({aspectRatio:this.opt.width/this.opt.height,setSelect:[0,0,this.opt.width*this.opt.multiple,this.opt.height*this.opt.multiple],boxWidth:3*this.opt.width,boxHeight:3*this.opt.height,minSize:[this.opt.width*this.opt.multiple,this.opt.height*this.opt.multiple],trueSize:[this.opt.actual.width,this.opt.actual.height],onSelect:this.update,onChange:this.update})}return e.prototype.default_crop_setting=function(){var t;return(t=JSON.parse("{:width=>80, :height=>96, :multiple=>1}")).actual={width:0,height:0},t.model="profile",t},e.prototype.update=function(t){return $("#"+this.opt.model+"_avatar_crop_x").val(t.x),$("#"+this.opt.model+"_avatar_crop_y").val(t.y),$("#"+this.opt.model+"_avatar_crop_w").val(t.w),$("#"+this.opt.model+"_avatar_crop_h").val(t.h)},e.prototype.updatePreview=function(t){return $("#"+this.opt.model+"_avatar_previewbox").css({width:Math.round(100/t.w*$("#"+this.opt.model+"_avatar_cropbox").width())+"px",height:Math.round(100/t.h*$("#"+this.opt.model+"_avatar_cropbox").height())+"px",marginLeft:"-"+Math.round(100/t.w*t.x)+"px",marginTop:"-"+Math.round(100/t.h*t.y)+"px"})},e}(),$(function(){var t,e;return t=".js-age-or-birthday li a",e=function(e){var n;if(e.length>0)return n=$("#js-age-birthday-opt-link").data("url"),$.getJSON(n,{new_date:e},function(e){return $(t).each(function(t){return $(this).text(e[t])})})},null!=$(t)&&($(document).on("change profile-format-show-attr-name-changed","#cv_profile_attributes_birthday",function(){var t;if((t=$(this).val()).length>0)return e(t)}),$(document).on("hide","#cv_profile_attributes_birthday",function(){if($(this).val().length>0)return $(this).addClass("hide"),$(".js-age-or-birthday").removeClass("hide"),$(".js-age-or-birthday .dropdown-toggle").click()}),$(document).on("click",t,function(t){var e,n,i;return t.preventDefault(),$(this).hasClass("delete-age")?$("#cv_profile_attributes_birthday").val(""):(e=$(this).data("chosen"),i=$(this).data("date-format"),n=$(this),$(".js-age-or-birthday li").each(function(){return $(this).removeClass("active")}),n.closest("li").addClass("active"),$("#cv_profile_attributes_format_pref_age_birthday_chosen").val(e),$("#cv_profile_attributes_format_pref_age_birthday_date_format").val(i)),$("#cv_profile_attributes_birthday").removeClass("hide"),$(".js-age-or-birthday").addClass("hide")})),$(".js-show-attr-name-switch").click(function(t){var e,n,i,o,r;return t.preventDefault(),e=$(this),o=(r=$("[data-show-attr-name]")).data("show-attr-name"),n={cv:{profile_attributes:{format_pref:{show_attr_name:i=!o}}}},$.post(e.attr("href"),n,function(){return e.find(".item-check-dot span").toggleClass("checked"),r.data("show-attr-name",i),$("#cv_profile_attributes_birthday").trigger("profile-format-show-attr-name-changed")}).fail(function(){return $.notify("Showing/Hiding attribute names failed","error")})})})}.call(this),function(){$(function(){var t,e,n,i,o,r,a,s,l;return l="undefined"!=typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")?"touchstart":"click",a=[],$(document).on(l,".restore-trigger",function(e){var n,i;return n=$(e.currentTarget),i=n.data("delete-type"),!!confirm("\u786e\u5b9a\u5220\u9664\u8be5\u7ecf\u5386\uff1f")&&$.ajax({url:n.data("url"),method:"delete",dataType:"script",beforeSend:function(){return localStorage.setItem("restore-cv-"+i,t(n)),a.push(i),o(n)},error:function(){return s(i)}})}),$(document).on(l,".other-restore-trigger",function(t){var e,n;return e=$(t.currentTarget),n=e.data("delete-type"),!!confirm("\u786e\u5b9a\u5220\u9664\u8be5\u7ecf\u5386\uff1f")&&$.ajax({url:e.data("url"),method:"delete",dataType:"script",beforeSend:function(){var t;return t={title:$("#cv-"+n+"-name").text().trim(),description:$("#cv-"+n+"-description").text().trim(),default_description:$("#cv-"+n+"-default-description").text().trim()},localStorage.setItem("restore-cv-"+n,JSON.stringify(t)),a.push(n)},error:function(){return localStorage.removeItem("restore-cv-"+n)}})}),$(document).on("click",".other-start-restore",function(t){var e,n,i;return e=$(t.currentTarget),i=e.data("restore-type"),$.ajax({url:e.data("url"),method:"POST",dataType:"script",data:(n={},n[""+i]=JSON.parse(localStorage.getItem("restore-cv-"+i)),n),success:function(){return localStorage.removeItem("restore-cv-"+i),a.splice($.inArray(i,a),1)}})}),t=function(t){var e,o,r,a;return a=t.data("delete-type"),r=t.closest(".resume-editor-plate-item"),e=n(a),o=i(r,a),e.push(o),JSON.stringify(e)},n=function(t){return null!==localStorage.getItem("restore-cv-"+t)?JSON.parse(localStorage.getItem("restore-cv-"+t)):[]},i=function(t,e){var n;return(n={})[""+e]=t.data("restore-source"),n[""+e].description=t.find(".description-content").html(),n[""+e].default_description=t.find(".default-description-content").html(),n},s=function(t){var e;try{return(e=JSON.parse(localStorage.getItem("restore-cv-"+t))).pop(),0===e.length?(localStorage.removeItem("restore-cv-"+t),a.splice($.inArray(t,a),1)):localStorage.setItem("restore-cv-"+t,JSON.stringify(e))}catch(n){return n,!0}},o=function(t){return t.closest(".resume-editor-plate").find(".start-restore").removeClass("hidden")},$(document).on("click",".start-restore",function(t){var e,n,i;return e=$(t.currentTarget),i=e.data("restore-type"),n=JSON.parse(localStorage.getItem("restore-cv-"+i)),$.ajax({url:e.data("url"),method:"POST",dataType:"script",data:n.pop(),success:function(){return 0===n.length?(localStorage.removeItem("restore-cv-"+i),a.splice($.inArray(i,a),1),$("[data-restore-type="+i+"]").addClass("hidden")):localStorage.setItem("restore-cv-"+i,JSON.stringify(n))}})}),e=function(t){var e,n,i,o;return o=t.data("type"),i=t.data("section-title"),(e={}).cv={},e.cv[o+"_attributes"]=[],n=t.closest(".resume-editor-plate").find(".resume-editor-plate-item"),$.each(n,function(t,n){var i,r,a;return a=$(n).data("restore-source"),r=$(n).find(".description-content").html(),i=$(n).find(".default-description-content").html(),e.cv[o+"_attributes"].push($.extend(a,{description:r,default_description:i}))}),void 0!==i&&(e.section_title=i),JSON.stringify(e)},$(document).on(l,".bulk-restore-trigger",function(t){var n,i;return n=$(t.currentTarget),i=n.data("type"),!!confirm("\u662f\u5426\u5220\u9664\u8be5\u6a21\u5757\uff1f")&&$.ajax({url:n.data("url"),method:"delete",dataType:"script",beforeSend:function(){return localStorage.setItem("restore-cv-"+i,e(n)),a.push(i)},error:function(){return localStorage.removeItem("restore-cv-"+i),a.splice($.inArray(i,a),1)}})}),$(document).on("click",".start-bulk-restore",function(t){var e,n;return n=(e=$(t.currentTarget)).data("type"),$.ajax({url:e.data("remote-url"),method:"POST",dataType:"script",data:JSON.parse(localStorage.getItem("restore-cv-"+n)),success:function(){if(isMobileDevice())return $(".mobile-modal-background, .choose-module-list .cancel-add-module").trigger("click")}})}),r=function(){var t;return t={},["skill","certificate","interest","language","other"].forEach(function(e){return t[e+"_title"]=$("#cv-"+e+"-name").text().trim(),t[e+"_description"]=$("#cv-"+e+"-description").text().trim(),t[e+"_default_description"]=$("#cv-"+e+"-default-description").text().trim()}),t.main_other_title=$("#other .resume-editor-plate-title .title-text").text().trim(),JSON.stringify(t)},$(document).on("click",".bulk-other-restore-trigger",function(t){var e,n;return e=$(t.currentTarget),n="other-sections",!!confirm("\u662f\u5426\u5220\u9664\u8be5\u6a21\u5757\uff1f")&&$.ajax({url:e.data("url"),method:"delete",dataType:"script",beforeSend:function(){return localStorage.setItem("restore-cv-"+n,r()),a.push(n)},error:function(){return localStorage.removeItem("restore-cv-"+n),a.splice($.inArray(n,a),1)}})}),$(document).on("click",".start-bulk-other-restore",function(t){var e,n;return e=$(t.currentTarget),n="other-sections",$.ajax({url:e.data("remote-url"),method:"POST",dataType:"json",data:JSON.parse(localStorage.getItem("restore-cv-"+n)),success:function(t){if($(".bottom-other-container").html(t.html.form),$("#other").replaceWith(t.html.editor),$(".add-modal-selector").find(".toolbar-add-other").addClass("hidden"),$(".choose-module-list").find(".toolbar-add-other").addClass("hidden"),$(".bottom-other-container").height()<380&&$(".bottom-other-container").height(380),$(".bottom-other-container").slideDown(500),$(".transparent-modal-background").removeClass("hide"),localStorage.removeItem("restore-cv-"+n),a.splice($.inArray(n,a),1),isMobileDevice())return $(".mobile-modal-background, .choose-module-list .cancel-add-module").trigger("click")}})}),$(window).on("beforeunload unload reload",function(){if($("#cvs-show").length>0)return a.forEach(function(t){return localStorage.removeItem("restore-cv-"+t)})})}),this.setRestoreBtn=function(t,e,n){var i,o;return o=$(".add-modal-selector").find(".toolbar-add-"+t),i=$(".choose-module-list").find(".toolbar-add-"+t),$.each([i,o],function(){return $(this).removeClass("hidden").removeClass("remote-add-section"),$(this).addClass("start-bulk-restore"),$(this).data("remote-url",n),$(this).data("type",e)})},this.cleanRestoreBtn=function(t,e,n){var i,o;return o=$(".add-modal-selector").find(".toolbar-add-"+t),i=$(".choose-module-list").find(".toolbar-add-"+t),$.each([i,o],function(){return $(this).addClass("hidden").addClass("remote-add-section"),$(this).removeClass("start-bulk-restore"),$(this).data("remote-url",n)}),localStorage.removeItem("restore-cv-"+e)}}.call(this),function(){$(function(){var t;return $(document).on("click","#cv-content .title-text",function(t){var e,n;if($(this).closest(".file-mode").length<=0)return e=(n=$(t.currentTarget)).next(),n.addClass("hidden"),e.data("history-text",n.text()),e.removeClass("hidden").focus()}),$(".info-title-edit-btn").on("click",function(t){var e;return(e=$(t.currentTarget)).parent().addClass("hidden"),e.parent().siblings().removeClass("hidden").focus()}),$(document).on("blur",".title-input",function(e){var n,i,o,r,a
;return n=(o=$(e.currentTarget)).attr("name"),i=o.val().trim().length>0?o.val():o.data("history-text"),(a={})[n]=i,r=o.closest("#cv-content").length>0?o.prev():o.siblings(".title-content").find(".text"),$.ajax({type:"PUT",url:o.data("url"),data:{title:a},beforeSend:function(){return t(o,r,i)},success:function(){if($("#cvs-show").length>0)return o.closest(".resume-editor-plate").find(".bulk-restore-trigger").data("section-title",i)},error:function(){return $.notify("\u50a8\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5","error")}})}),t=function(t,e,n){return t.addClass("hidden"),e.text(n),e.removeClass("hidden"),e.closest(".title-content").removeClass("hidden")}})}.call(this),function(){this.TypeDetect=function(){function t(t,e){this.el=t,this.type=e}return t.prototype.result=function(){return-1!==(this.el.is(".faq-select")?this.el.find("option").map(function(){return $(this).data("type")}):this.el.find("option").map(function(){return this.value})).get().indexOf(this.type)},t}()}.call(this),function(){var t,e;this.toggleEditorLeftPanel=function(){if($("#cvs-show").length>0)return JSON.parse($("#cv-task-state").val())?($(".tutor").removeClass("hide"),$(".tutor").siblings().addClass("hide")):($(".inteligent-check").removeClass("hide"),$(".inteligent-check").siblings().addClass("hide"))},t=function(){var t;return t=$("#one-page"),$(".one-page-btn").html(I18n.t("cv.editor.toolbar.one_page.revert")),t.attr("id","one-page-rollback"),t.html('<i class="fa fa-sticky-note-o"></i>'+I18n.t("cv.editor.toolbar.one_page.revert"))},e=function(){var t;return t=$("#one-page-rollback"),$(".one-page-btn").html(I18n.t("cv.editor.toolbar.one_page.btn")),t.attr("id","one-page"),t.html('<i class="fa fa-sticky-note-o"></i>'+I18n.t("cv.editor.toolbar.one_page.btn"))},$(function(){var n,i,o,r,a,s,l,c,u,d;return l=function(){return $('input[name="is_mobile"]').val()},r=function(){return $(".transparent-modal-background").removeClass("hide")},a=function(){return $(".transparent-modal-background").addClass("hide")},d=function(){return u(),$(".bottom-other-container").slideDown(500),setTimeout(function(){if($(window).height()<$(".bottom-other-container").height())return $(".bottom-other-container").css("top",0),$(".bottom-other-container").css("overflow-y","scroll"),$(".bottom-other-container").css("overflow-x","hidden")},1e3)},i=function(){return $(".bottom-other-container").slideUp(500)},u=function(){if($(".bottom-other-container").height()<380)return $(".bottom-other-container").height(380)},s=function(){var t;if(t=navigator.userAgent,console.log("userAgent------------------"+t),t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1||t.indexOf("Edge")>-1||t.indexOf("Trident")>-1)return console.log("IE/Edge"),$("#bottom-cv-other-form").submit()},o=function(){var t,e;return e=$(".js-show-bottom-other").data("url"),t=$(".js-show-bottom-other").data("other-url"),$.ajax({url:e,method:"post",dataType:"json",success:function(e){return l()?window.location.href=t:($(".bottom-other-container").html(e.html.form),$("#other").replaceWith(e.html.editor),$(".add-modal-selector").find(".toolbar-add-other").addClass("hidden"),d(),r())}})},$(document).on("click",".other-info-top-close, .other-info-top-save",function(){return i(),a(),toggleEditorLeftPanel(),$("#one-page-line").removeClass("hide")}),$(document).on("click",".other-info-top-save",function(){return s()}),$(document).on("click",".js-show-bottom-other",function(t){if(!$(t.currentTarget).hasClass("start-bulk-other-restore"))return o()}),$(document).on("click",".other-content .plate-item-content, .show-bottom-other",function(){if(!l())return d(),r(),n("other",I18n.t("other"))}),$(document).on("click",".applicant-info",function(){if(!l())return $(".bottom-profile-container").slideDown(500),$(".transparent-modal-background").removeClass("hide"),n("profile",""),setTimeout(function(){if($(window).height()<$(".bottom-profile-container").height())return $(".bottom-profile-container").css("top",0),$(".bottom-profile-container").css("overflow-y","scroll"),$(".bottom-profile-container").css("overflow-x","hidden")},1e3)}),c=function(t){return $("#cv-content").removeClass(function(t,e){return e.match(/(^|\s)lineH-\S+/g).join(" ")}),$("#cv-content").addClass("lineH-"+t),$("#cv-content").removeData("lineheight"),$("#cv-content").data("lineheight",t),$("#lineheight-input").text(t),t},$(document).on("click","#one-page",function(e){var n,i,o,r,a,s,l,u,d,h,f,p;if(e.preventDefault(),e.stopPropagation(),d=$("#cv-content").data("format-update"),i=parseInt($("#one-page").data("line-height")),n=$(".resume-editor").height(),u=parseInt($("#cv-content").data("page-margin")),a=document.getElementById("divMMHeight").getBoundingClientRect().height,console.log("1mm --------------"+a.toFixed(2)),n>(l=(297-2.45*u)*a.toFixed(2)))for(p=o=i;o>=12&&(s=c(p),h=!0,!($(".resume-editor").height()<l));p=o+=-1);else for(p=r=i;r<=30&&(s=c(p),f=!0,!($(".resume-editor").height()>l));p=r+=1);return f&&(s-=1),console.log(s),$.post(d,{cv:{line_spacing:s}}).done(function(){if(c(s),$("#lineheight-select .spacing-selector .selector-list li").each(function(){if($(this).hasClass("active")&&$(this).removeClass("active"),$(this).text()===s.toString())return $(this).addClass("active")}),t(),h&&$(".resume-editor").height()>l)return alert(I18n.t("notify.too_much_content"))})}),$(document).on("click","#one-page-rollback",function(){var t,n,i;return t=$("#one-page-rollback"),n=parseInt(t.data("line-height")),i=$("#cv-content").data("format-update"),$.post(i,{cv:{line_spacing:n}}).done(function(){return c(n),e()})}),n=function(t,e){var n,i,o,r;if(o=$(".fill-in-tips"),n=$(".view-cases"),o.is(":visible")){if(r=$(".faq-select"),new TypeDetect(r,t).result())return r.find("option:checked").prop("selected",!1),r.find("option[data-type='"+t+"']").prop("selected",!0),$("#faq-form").submit()}else if(n.removeClass("hide"),n.siblings().addClass("hide"),i=$("select[name=example_type]"),$("#one-page-line").addClass("hide"),new TypeDetect(i,e).result())return i.find("option:checked").prop("selected",!1),i.find("option[value='"+e+"']").prop("selected",!0),$("#example-type-select").trigger("change")},$(document).on("click",'[id*="work-"],[id*="edu-"],[id*="org-"]',function(t){var e,i,o,r,a;if(0===$("#cvs-share").length){if(i=$(this),e=$(t.target),a=i.attr("id").replace(/-[0-9]*/,""),o=e.closest(".plate-item-tag").find("#"+a+"-edit-form"),r=e.closest(".resume-editor-palte-item-ctrl-bar"),0===o.length&&0===r.length&&!l())return $.ajax({url:i.data("edit-form-url"),type:"GET",success:function(){return n(a,i.data("example-type"))}});if(!l())return $("#one-page-line").addClass("hide")}}),$(document).on("click",'[id^="info-"]',function(t){var e,i,o,r;if(0===$("#cvs-share").length){if(i=$(this),o=(e=$(t.target)).closest(".plate-item-tag").find("#cust-edit-form"),r=e.closest(".resume-editor-palte-item-ctrl-bar"),i.data("custom-category"),i.data("example-type"),0===o.length&&0===r.length&&!l())return $.ajax({url:i.data("edit-form-url"),type:"GET",success:function(){return n(i.data("faq-type"),i.data("example-type"))}});if(!l())return $("#one-page-line").addClass("hide")}}),$(".js-pc-cv-download").click(function(){if(!JSON.parse(sessionStorage.getItem("UserBindModalShow")))return showBindOfficalAccount(4e3),sessionStorage.setItem("UserBindModalShow",!0)})})}.call(this),function(){this.cvNameRegex=function(){function t(){}return t.prototype.build=function(t){var e;try{return new RegExp("_"+t+"|"+t+"_|"+t)}catch(n){return n,e=t.replace(/[\[\]\(\)\\uff08\\uff09\\uff0c\,\+]/g,""),new RegExp("_"+e+"|"+e+"_|"+e)}},t}(),$(function(){var t;return t=function(t){var e;return e=t.find(".cv_cv_name").val(),[t.find(".js-username"),t.find(".js-exp-job"),t.find(".js-uni-name"),t.find(".js-degree-name"),t.find(".js-major-name"),t.find(".js-current-state"),t.find(".js-profile-phone")].forEach(function(t){var n;if(n=$(t),(new cvNameRegex).build(n.val()).test(e))return n.addClass("done")})},$(".name-display, .show-edit-name-modal").click(function(){return $(".file-name-editor-modal").modal("show")}),$(".cv_cv_name").on("keyup",function(t){var e,n;if(e=(n=$(t.currentTarget)).closest(".name-editor").find(".items-area"),0===n.val().length)return e.find(".done").removeClass("done")}),$(".file-name-editor-modal").on("show.bs.modal",function(e){var n;return n=$(e.currentTarget),t(n)}),$(document).on("click",'[name="cv-name-item"]',function(t){var e,n,i,o,r;return o=(i=$(t.currentTarget)).val(),n=(e=i.closest(".name-editor").find(".cv_cv_name")).val(),r=(new cvNameRegex).build(o),i.hasClass("done")?(e.val(n.replace(n.match(r),"")),i.removeClass("done").addClass("click")):0===n.length?(e.val(""+n+o),i.addClass("done").removeClass("click")):(e.val(n+"_"+o),i.addClass("done").removeClass("click"))})}),$(function(){var t,e,n,i,o,r,a;return t=function(){return $(".file-name-editor-modal:visible").find(".js-cv-download-btn-list")},e=function(){return t().data("cv-name-parts")},$(document).on("click",".name-select",function(t){var e,o,r;return o=(r=(e=$(t.currentTarget)).find(":checkbox")).data("field"),r.is(":checked")?(r.prop("checked",!1),i(o),e.addClass("unchecked").removeClass("checked")):(r.prop("checked",!0),n(o),e.addClass("checked").removeClass("unchecked")),a()}),n=function(t){var n;return(n=e()).push(t),r(n)},i=function(t){var n;return(n=e()).splice(n.indexOf(t),1),r(n)},r=function(e){return t().data("cv-name-parts",e)},a=function(){return $.ajax({url:t().data("cv-name-parts-url"),method:"PUT",data:{name_parts:o()},success:function(t){if($(".file-name-editor-modal:visible").find('input[name="cv[cv_name]"]').val(t.text),$("#cvs-show").length>0)return $(".name-display").text(t.text||"")}})},o=function(){return console.log(e()),e().length>0?e():""},$(document).on("click",".submit-update-name-form",function(t){var e;return(e=$(t.currentTarget).closest(".file-name-editor-modal").find(".update-cv-name")).find('input[name="name_auto_update"]').val("off"),e.submit()}),$(document).on("blur",".cv_cv_name",function(e){var n;return(n=$(e.currentTarget).closest(".file-name-editor-modal").find(".update-cv-name")).find('input[name="name_auto_update"]').val("on"),t().html(""),n.submit()})})}.call(this),function(){}.call(this),function(){$(function(){return $(".intention-button").click(function(){var t,e;return $(this).toggleClass("option-selected"),(e=$(this).find(":checkbox")).prop("checked",!e.is(":checked")),(t=$(this).closest(".intention-input")).find(":checkbox:checked").length>0?t.find(".no-limit").removeClass("option-selected"):t.find(".no-limit").addClass("option-selected")}),$(".no-limit").click(function(){return $(this).toggleClass("option-selected"),$(this).closest(".intention-input").find(".intention-button").each(function(){return $(this).removeClass("option-selected"),$(this).find(":checkbox:checked").prop("checked",!1)})}),$(document).on("click",".show-all-choose",function(){var t,e;return e=$(this).find("i"),t=$(this).parent(".intention-input"),e.hasClass("fa-caret-down")?(e.removeClass("fa-caret-down"),e.addClass("fa-caret-up"),t.removeClass("hide-more-choose")):(e.removeClass("fa-caret-up"),e.addClass("fa-caret-down"),t.addClass("hide-more-choose"))})})}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;$(function(){var e,n,i,o,r,a,s,l;return s=$('input[name="is_mobile"]').val(),l=function(){return $("#email_contact_attributes_name").prop("required",!1),$("#email_contact_attributes_email").prop("required",!1),$("#email_contact_attributes_phone").prop("required",!1)},$(document).ready(function(){return""===$("#job-app-avatar-preview").attr("src")?($(".hide-email-avatar").addClass("hide"),$(".show-email-avatar").addClass("hide")):$(".show-email-avatar").addClass("hide")}),$(document).on("click","#email-send",function(t){return t.preventDefault(),a?($("#alert-different-email .quick-change").addClass("quick-change-and-send"),$("#alert-different-email").modal("show")):validate_before_email_send()?(l(),$(".notifyjs-corner").empty(),$.notify("\u6b63\u5728\u53d1\u9001...",{className:"success",clickToHide:!1,autoHide:!1}),$("#email-send").prop("disabled",!0),$(".send-email-btn").click()):void 0}),$(document).on("click",".email-save",function(){return l(),$(".save-email-btn").click()}),$(document).on("click",".email-info-top-save",function(){return $(".save-email-btn").click()}),$(document).on("click",".email-jump-save",function(){return l(),$("input#back").val("yes"),$(".save-email-btn").click()}),$(document).on("click",".email-preview-online",function(){var t;return t=$(this).data("url"),$(".online-preview-btn").click(),setTimeout(function(){return window.open(t)},300)}),$(document).on("click","#email-send-to-self-mailbox",function(){return $(".send-email-to-self-mailbox-btn").click()}),$(document).on("change","#email_subject",function(){var t;return t=$(this),$(".file-name-editor .file-name").text(t.val()),$(".file-name-editor .editor-input").val(t.val())}),$(".job-form-btn").click(function(t){var e,n;return t.preventDefault(),n=$(this).data("path"),(e=$(this).closest("form")).attr("action",n),e.submit()}),$(".job-btn").click(function(){var t;return t=$(this).attr("name"),$("#job_app_action").val(t)}),$(".control-bar-avatar").click(function(){return $(this).find(".menu-items").toggleClass("hide")}),null!=$(".right-panel-control-bar")&&$("body").click(function(t){if(!$(t.target).closest(".menu-avatar").length)return $(".control-bar-avatar .menu-items").addClass("hide")}),e=function(){function t(t){this.file=t,this.add_file_handler(),this.del_file_handler(),this.upload_event_handler()}return t.prototype.submit_file=function(t,e){var n;return null==e&&(e="add"),n={id:"",type:""},"add"===e&&(n={id:t.data(this.file.click.id),type:t.data(this.file.click.type)}),$(this.file.submit.id).val(n.id),$(this.file.submit.type).val(n.type)},t.prototype.add_file_handler=function(){return $(this.file.available).click((t=this,function(e){var n;return n=$(t.file.briefcase).is(".email-attachment-cv")?"\u6295\u9012\u90ae\u4ef6\u4e2d\u5df2\u6709\u7b80\u5386\u9644\u4ef6\uff0c\u662f\u5426\u66ff\u6362\uff1f":"\u6c42\u804c\u90ae\u4ef6\u4e2d\u4e0d\u5efa\u8bae\u4e0a\u4f20\u8fc7\u591a\u9644\u4ef6\uff0c\u662f\u5426\u66ff\u6362\u5df2\u6709\u6587\u4ef6\uff1f",$(t.file.briefcase).hasClass("hidden")?(t.select_file($(e.target)),s?$(".save-email-btn").click():$(".email-save").click()):confirm(n)?(t.select_file($(e.target)),s?$(".save-email-btn").click():$(".email-save").click()):($(".file-picker").addClass("hide"),$(".cv-picker").addClass("hide"),!1)}));var t},t.prototype.del_file_handler=function(){return $(this.file.remove).click((t=this,function(e){return t.submit_file($(e.target),"del"),t.remove_selected_attachment()}));var t},t.prototype.select_file=function(t){return this.submit_file(t),this.show_selected_attachment(t)},t.prototype.show_selected_attachment=function(t){var e;return e=t.text(),$(this.file.selected).text(e),$(this.file.briefcase).removeClass("hidden"),$(this.file.briefcase).find(".file-perview-link").attr("href",t.data("url"))},t.prototype.remove_selected_attachment=function(){return $(this.file.selected).text(""),$(this.file.briefcase).addClass("hidden"),$(this.file.briefcase).find(".file-perview-link").attr("href","#nogo")},t.prototype.upload_event_handler=function(){return $(this.file.upload.to).on("portfolio-"+this.file.type+"-uploaded",(t=this,function(e,n){var i;return i=t.prepend_new_file(n),t.select_file(i)}));var t},t.prototype.before_prepend=function(t){return t},t.prototype.prepend_new_file=function(t){var e;return(e=$(this.file.upload.template).children().clone(!0)).data(this.file.click.id,t.id),e.attr("data-"+this.file.click.id,t.id),e.text(t.name),e=this.before_prepend(e,t),$(this.file.upload.to).prepend(e),e},t}(),i=function(){function n(){var t;t={available:".email-cv-name",click:{id:"resumable-id",type:"resumable-type"},selected:".email-attachment-cv-name",submit:{id:"#email_resumable_id",type:"#email_resumable_type"},briefcase:".email-attachment-cv",remove:".email-attachment-cv .remove-attached-file",type:"resume",upload:{to:".portfolio-resume-list",template:"#portfolio-resume-template"}},n.__super__.constructor.call(this,t)}return t(n,e),n}(),o=function(){function n(){var t;t={available:".email-cover-letter-name",click:{id:"cover-letterable-id",type:"cover-letterable-type"},selected:".email-attachment-cl-name",submit:{id:"#email_cover_letterable_id",type:"#email_cover_letterable_type"},briefcase:".email-attachment-cl",remove:".email-attachment-cl .remove-attached-file",type:"cover_letter",upload:{to:".portfolio-cover_letter-list",template:"#portfolio-cover-letter-template"}},n.__super__.constructor.call(this,t)}return t(n,e),n}(),r=function(){function n(){var t;t={available:".email-other-name",click:{id:"other-id",type:"other-type"},selected:".email-attachment-other-name",submit:{id:"#email_portfolio_id",type:""},briefcase:".email-attachment-other",remove:".email-attachment-other .remove-attached-file",type:"other",upload:{to:".portfolio-other-list",template:"#portfolio-other-template"}},n.__super__.constructor.call(this,t)}return t(n,e),n}(),n=function(){function n(){var t;t={available:"",click:{id:"avatarable-id",type:"avatarable-type",avatar_url:"avatar-url"},selected:"",avatar:{original:".original-avatar",restore_btn:".show-email-avatar"},submit:{id:"#email_avatarable_id",type:"#email_avatarable_type",use_avatar:"#email_use_avatar"},briefcase:"#job-app-avatar-preview",remove:".hide-email-avatar",type:"avatar",upload:{to:".portfolio-avatar-list",template:"#portfolio-avatar-template"}},n.__super__.constructor.call(this,t),this.restore_avatar_event_handler()}return t(n,e),n.prototype.submit_file=function(t,e){var i;return null==e&&(e="add"),n.__super__.submit_file.call(this,t,e),$(this.file.submit.use_avatar).val(null!=(i="add"===e)?i:{"true":"false"})},n.prototype.show_selected_attachment=function(t){return this.update_avatar_url(t.data(this.file.click.avatar_url)),n.__super__.show_selected_attachment.call(this,t)},n.prototype.remove_selected_attachment=function(){return n.__super__.remove_selected_attachment.apply(this,arguments),$(this.file.remove).addClass("hide"),$(this.file.avatar.restore_btn).removeClass("hide"),this.update_avatar_url(""),$(this.file.submit.use_avatar).val("false")},n.prototype.update_avatar_url=function(t){return $(this.file.briefcase).attr("src",t)},n.prototype.restore_avatar=function(){var t,e,n,i;return e=(t=$(this.file.avatar.original)).data("id"),n=t.data("type"),i=t.data("url"),$(this.file.submit.id).val(e),$(this.file.submit.type).val(n),$(this.file.submit.use_avatar).val("true"),$(this.file.avatar.restore_btn).addClass("hide"),$(this.file.remove).removeClass("hide"),this.show_selected_attachment(t),this.update_avatar_url(i)},n.prototype.update_original_avatar=function(t){var e;return(e=$(this.file.avatar.original)).data("id",t.id),e.data("type","Portfolio"),e.data("url",t.avatar_url)},n.prototype.before_prepend=function(t,e){return this.update_original_avatar(e),t.data(this.file.click.avatar_url,e.avatar_url),t.attr("data-"+this.file.click.avatar_url,e.avatar_url),$(".show-email-avatar").addClass("hide"),$(".hide-email-avatar").removeClass("hide"),t},n.prototype.restore_avatar_event_handler=function(){return $(this.file.avatar.restore_btn).click((t=this,function(){return t.restore_avatar()}));var t},n}(),new i,new o,new r,new n,$(".preheader-bg-color").click(function(){var t;return"white_fafa"===(t=$(this).data("bgcolor"))?($(".right-panel-control-bar .control-bar-color .selector-color").attr("class","selector-color solid-border-dada "+t),$(".job-email .email-profile .divider").attr("class","divider hidden")):($(".right-panel-control-bar .control-bar-color .selector-color").attr("class","selector-color "+t),$(".job-email .email-profile .divider").attr("class","divider "+t)),$("#email_bg_color").val(t)}),$(".control-email-template .toggle-temp-list").click(function(){var t,e;return e=(t=$(event.currentTarget)).data("lang"),t.hasClass("normal")&&($(".toggle-temp-list.current").removeClass("current").addClass("normal"),t.removeClass("normal").addClass("current")),$(".email-temp-list").addClass("hidden"),$("#"+e+"-email-temp-list").removeClass("hidden")}),window.emailDiffNeedAlert=!1,$(".email-diff-alert").length>0&&(a=!0),$(".email-diff-alert .alert-button").click(function(){return $("#alert-different-email .still-send").addClass("hidden")}),$("#alert-different-email").on("hidden.bs.modal",function(){return $("#alert-different-email .still-send").removeClass("hidden")}),$("#alert-different-email .quick-change").click(function(){var t;return t=$(this),$.ajax({url:$(this).data("post-url"),method:"post",data:null!=$(this).data("email-id")?{email_id:$(this).data("email-id"),cv_id:$(this).data("cv-attachment-id")}:{cv_id:$(this).data("cv-attachment-id")},success:function(){if(a=!1,t.hasClass("quick-change-and-send")&&validate_before_email_send())return l(),$(".send-email-btn").click()}})}),$("#alert-different-email .still-send").click(function(){if($("#alert-different-email").modal("hide"),validate_before_email_send())return l(),$(".send-email-btn").click()})})}.call(this),function(){$(function(){var t,e,n;return n=function(t){if($("#portfolios-index").length>0)return $(".file-right-panel").replaceWith(t)},e=$('input[name="is_mobile"]').val(),t=$('input[name="client"]').val(),e&&($(document).on("click","a.email-upload-resume",function(){return $("#portfolio-upload-resume .portfolio-upload").click()}),$(document).on("click","a.email-upload-letter",function(){return $("#portfolio-upload-letter .portfolio-upload").click()}),$(document).on("click","a.email-upload-other",function(){return $("#portfolio-upload-other .portfolio-upload").click()}),$(document).on("click","a.email-upload-avatar",function(){return $("#portfolio-upload-avatar .portfolio-upload").click()})),$(".portfolio-upload").each(function(){return $(this).fileupload({dataType:"json",dropZone:$(this).closest(".modal-white-card"),send:function(t,e){return $("body"),(new SetFilesInfo).show(e.files,".upload-file-modal.in")},progressall:function(n,i){var o,r,a,s;return r=$(".upload-file-modal.in").find(".file-list"),s="<span class='progress-done'>\u5df2\u4e0a\u4f20\u5b8c\u6210<span>",a=parseInt(i.loaded/i.total*100,10),(o=r.find(".progress .progress-bar").last()).css("width",a+"%"),o.text(a+"%"),"100%"===o.text()&&setTimeout(function(){o.closest(".file-cell").append(s)},1e3,o),"ios"===t?setupWebViewJavascriptBridge(function(t){t.callHandler("uploadingFile",{info:"\u6b63\u5728\u4e0a\u4f20"},function(){})}):e?$.notify("\u6b63\u5728\u4e0a\u4f20","success"):void 0},done:function(e,i){var o,r,a;return o=(r=i.result.portfolio).file.type,a=r.file,$(".portfolio-"+o+"-list").trigger("portfolio-"+o+"-uploaded",[a]),n(i.result.html),$(".notifyjs-wrapper").remove(),"ios"===t?setupWebViewJavascriptBridge(function(t){t.callHandler("uploadSuccess",{info:r.message},function(){})}):($.notify(r.message,"success"),$(".my-portfolios").removeClass("hidden"))},fail:function(t,e){var n;return null!=e.jqXHR&&(n=e.jqXHR.responseText||e.errorThrown,$(".notifyjs-wrapper").remove(),$.notify(n,"error")),$(".upload-file-modal.in").find(".file-list").find(".file-cell").last().remove()}}),$(this).on("fileuploadsend",function(t,e){return(new UploadFileSize).check(e.files[0].size)})}),$(document).on("click",".edit-portfolio-file-info",function(t){var e;return t.preventDefault(),e=$(t.currentTarget).data("content"),$("#portfolio-file-info-update").find("#form-content").html(""),$("#portfolio-file-info-update").find("#form-content").append(e),$("#portfolio-file-info-update").modal("show")}),$(document).on("ajax:success",".edit_portfolio",function(t,e){return"ok"===e.status?($.notify("\u66f4\u65b0\u6210\u529f\uff01","success"),$("#"+e.target).text(e.name),$("#portfolio-file-info-update").modal("hide")):$.notify("\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5","error")})})}.call(this),function(){}.call(this),function(){$(function(){var t,e,n;return t=!1,$(document).on("click","#account-email-form .form-submit input",function(){if(!isMobileDevice())return setTimeout(function(){if(t)return window.open("").location.href="/zh-CN/emails/my"},1e3)}),$(document).on("ajax:success","#account-email-form",function(i,o){var r;return"ok"===o.status?($.notify("\u8bbe\u7f6e\u6210\u529f","success"),$("#cvs-show").length>0?($("#jobmail-modal").modal("hide"),$('[data-rule="unprofessinal_email"]').remove(),n(o.email),t=!0):window.location.href=o.location):(t=!1,r=$(this).find(".notice"),e(r),r.empty(),r.append("<div class='message'>* "+o.message+"</div>"))}),n=function(t){var e;return e={cv_id:$("#jobmail-modal").data("cv-token"),email:t},(new UpdateProfileEmail).post(e)},e=function(t){if(void 0===t.data("original-text"))return t.data("original-text",t.text())},$(document).on("click","#email_account_email",function(){var t;return(t=$(this).closest("#account-email-form").find(".notice")).text(t.data("original-text"))})})}.call(this),function(){this.EmailAttachment=function(){function t(t){this.init_file_upload(t),this.after_add(),this.before_send()}var e;return t.prototype.init_file_upload=function(t){var n;return this.file_upload=$(t.file_upload),n=null!=t.drop_zone?$(t.drop_zone):this.file_upload.closest(".drop-zone"),this.file_upload.fileupload({dataType:"json",dropZone:n,singleFileUploads:!1,done:e,progress:this.upload_progress,submit:this.show_added_files})},t.prototype.after_add=function(){return this.file_upload.on("fileuploadadd",(t=this,function(){return t.update_attachment_email_id_if_needed()}));var t},t.prototype.before_send=function(){return this.file_upload.on("fileuploadsend",(t=this,function(){return t.email_has_saved()&&t.current_attachment_email_id()}));var t},t.prototype.current_attachment_email_id=function(){return $("#email_attachment_email_id").val()},t.prototype.update_attachment_email_id_if_needed=function(){if(!this.current_attachment_email_id())return this.update_attachment_email_id(this.email_has_saved())},t.prototype.email_has_saved=function(){return $("#normal-email-form #email_id").val()},t.prototype.update_attachment_email_id=function(t){return $("#email_attachment_email_id").val(t)},e=function(){return $(".attachment-save").val("true"),$('#normal-email-form input[name="save"]').click(),"ios"===client?setupWebViewJavascriptBridge(function(t){t.callHandler("uploadSuccess",{info:"\u4e0a\u4f20\u6210\u529f"},function(){})}):is_mobile?$.notify("\u4e0a\u4f20\u6210\u529f","success"):void 0},t.prototype.upload_progress=function(t,e){var n;return n="<span class='progress-done'>\u5df2\u4e0a\u4f20\u5b8c\u6210<span>",$.each(e.files,function(t){var i,o;return i=parseInt(e.loaded/e.total*100,10),(o=e.cells[t].find(".progress .progress-bar")).css("width",i+"%"),o.text(i+"%"),100===i&&o.closest(".file-cell").append(n),"ios"===client?setupWebViewJavascriptBridge(function(t){t.callHandler("uploadingFile",{info:"\u6b63\u5728\u4e0a\u4f20"},function(){})}):is_mobile?$.notify("\u6b63\u5728\u4e0a\u4f20","success"):void 0})},t.prototype.show_added_files=function(t,e){var n;return(n=new SetFilesInfo).add(e.files,".upload-file-modal.in"),e.cells=n.cells,!0},$(".email-right-panel").on("click",".remove-attached-file",function(){return $(this).closest(".attached-file-bar").remove()}),t}()}.call(this),function(){this.email_to_is_valid=function(){var t,e,n,i,o,r,a;return r=/(?:[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,t=new RegExp("(?:[^<>]+\\s*<"+r.source+">|"+r.source+")"),o=new RegExp("^(?:"+t.source+"\\s*[,;]\\s*)*"+t.source+"$"),i=$("#email_to").val(),n=$("#email_cc").val()||{},e=$("#email_bcc").val()||{},a=o.test(i),n.length>0&&(a=a&&o.test(n)),e.length>0&&(a=a&&o.test(e)),a},this.validate_before_email_send=function(){var t;return t=!0,$("#email_to").val().length<=0&&($("#email_cc").val()||{}).length<=0&&($("#email_bcc").val()||{}).length<=0?("ios"===client?$("input[name='error_log']").val("\u8bf7\u586b\u5199\u6536\u4ef6\u4eba"):$.notify("\u8bf7\u586b\u5199\u6536\u4ef6\u4eba","error"),t=!1):email_to_is_valid()?$("#email_subject").val().length<=0&&(confirm("\u60a8\u7684\u90ae\u4ef6\u6ca1\u6709\u586b\u5199\u4e3b\u9898\u3002\u60a8\u786e\u5b9a\u7ee7\u7eed\u53d1\u9001\uff1f")?$("#email_subject").val("(\u65e0\u4e3b\u9898)"):t=!1):("ios"===client?$("input[name='error_log']").val("\u90ae\u4ef6\u5730\u5740\u683c\u5f0f\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5"):$.notify("\u90ae\u4ef6\u5730\u5740\u683c\u5f0f\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5"),t=!1),t&&"ios"!==client&&$.notify("\u6b63\u5728\u53d1\u9001...","success"),t},$(function(){return $(document).on("click",".post-email-btn",function(){return validate_before_email_send()})})}.call(this),function(){this.create_label=function(){var t,e,n;return n=(e=$(".mobile-create-label-container")).find("input").val().trim(),t=e.find(".color-items .check").find(".spot").data("color"),0===n.length?"ios"===client?{error:"\u672a\u586b\u5199\u6807\u7b7e\u540d\u79f0"}:$.notify("\u672a\u586b\u5199\u6807\u7b7e\u540d\u79f0"):void 0===t?"ios"===client?{error:"\u672a\u9009\u62e9\u6807\u7b7e\u989c\u8272"}:$.notify("\u672a\u9009\u62e9\u6807\u7b7e\u989c\u8272"):e.data("conversation-labels-size")>=4?"ios"===client?{error:"\u6807\u7b7e\u8fc7\u591a\uff0c\u6700\u591a\u53ef\u6dfb\u52a0\u56db\u4e2a\u6807\u7b7e"}:$.notify("\u6807\u7b7e\u8fc7\u591a\uff0c\u6700\u591a\u53ef\u6dfb\u52a0\u56db\u4e2a\u6807\u7b7e"):$.ajax({url:"/zh-CN/labels",type:"post",dataType:"json",async:!1,data:{conversation_id:e.data("conversation-id"),label:{color:t,name:n}},success:function(t){return void 0===t?window.location.href=e.data("submit-url"):"ios"===client?$("input[name='error_log']").val(t.message):$.notify(t.message)},error:function(){return"ios"===client?{error:"\u521b\u5efa\u5931\u8d25"}:$.notify("\u521b\u5efa\u5931\u8d25")}})},this.update_label=function(){var t,e;return e=$('input[name="label[name]"]').val().trim(),t=$(".color-items .check").find(".spot").data("color"),0===e.length?"ios"===client?{error:"\u672a\u586b\u5199\u6807\u7b7e\u540d\u79f0"}:$.notify("\u672a\u586b\u5199\u6807\u7b7e\u540d\u79f0"):void 0===t?"ios"===client?{error:"\u672a\u9009\u62e9\u6807\u7b7e\u989c\u8272"}:$.notify("\u672a\u9009\u62e9\u6807\u7b7e\u989c\u8272"):$.ajax({url:$(".mobile-create-label-container").data("update-url"),type:"put",dataType:"json",async:!1,data:{label:{color:t,name:e}},success:function(t){return void 0===t?window.location.href="/zh-CN/user/labels":"ios"===client?$("input[name='error_log']").val(t.message):$.notify(t.message)},error:function(){return"ios"===client?{error:"\u521b\u5efa\u5931\u8d25"}:$.notify("\u521b\u5efa\u5931\u8d25")}})},this.label_sort_mode=function(){return $(".label-edit-link").addClass("hidden"),$(".sort-control").removeClass("hidden")},this.label_edit_mode=function(){return $(".label-edit-link").removeClass("hidden"),$(".sort-control").addClass("hidden")},this.updateLeftPanelLabelList=function(){return $.ajax({url:"/zh-CN/labels/fetch_view",method:"get",dataType:"script"})},$(function(){var t,e,n,i,o,r,a,s,l,c,u;return $("body:not(#conversations-add_label)").on("click",function(t){if(!$(t.target).hasClass("add-label")&&0===$(t.target).closest(".conversation-labels").length)return $(".conversation-labels").hide()}),$("body").on("click",function(t){if(!$(t.target).hasClass("trigger-edit-label")&&$(".labels-table").length>0&&0===$(t.target).closest(".edit-label").length)return $(".edit-label").hide()}),$(document).on("click",".add-label-section .add-label, .single-label",function(){var t,e;return t=$(this).data("conversation-id"),(e=$("#conversation-labels-"+t+".conversation-labels")).is(":visible")?e.hide():e.show()}),$(document).on("click",".add-label-content .add",function(){return i($(this))}),$(document).on("click",".add-label-content .cancel",function(){var e,i;return i=$(this),l(i),t(),e=n(i),a(i,e,"")}),t=function(){return $(".add-label-content input").val("")},i=function(t){var e;return t.addClass("hidden"),(e=t.closest(".conversation-labels")).find(".add-label-content .cancel").removeClass("hidden"),e.find(".labels-display").addClass("hidden"),e.find(".create-label").removeClass("hidden")},l=function(t){var e;return t.addClass("hidden"),(e=t.closest(".conversation-labels")).find(".add-label-content .add").removeClass("hidden"),
e.find(".create-label").addClass("hidden"),e.find(".labels-display").removeClass("hidden")},$(document).on("click",".create-label .color span",function(){return $(".create-label .color span").removeClass("checked"),$(this).addClass("checked")}),n=function(t){return parseInt(t.closest(".conversation-labels").attr("id").match(/[0-9]+/)[0])},c=function(t,e,n,i){var o,r;return r=t.find(".labels-display .labels"),o=["<li class='label-cell "+i+"'>","<span class='text bg-"+n+"' data-color='"+n+"'>",""+e,"</span>","<i class='fa fa-check'></i>","<li>"].join(""),r.append(o)},$(document).on("click",".create-label .submit button",function(){var e,i,a,s,u;return u=$(this),a=$(this).closest(".conversation-labels"),s=a.find(".add-label-content").find("input").val().trim(),e=a.find(".create-label .color .checked").data("color"),0===s.length?$.notify("\u672a\u586b\u5199\u6807\u7b7e\u540d\u79f0"):void 0===e?$.notify("\u672a\u9009\u62e9\u6807\u7b7e\u989c\u8272"):r(u)?$.notify("\u6807\u7b7e\u8fc7\u591a\uff0c\u6700\u591a\u53ef\u6dfb\u52a0\u56db\u4e2a\u6807\u7b7e"):(i=n(u),$.ajax({url:"/zh-CN/labels",type:"post",data:{conversation_id:i,label:{color:e,name:s}},beforeSend:function(){return u.prop("disabled",!0)},success:function(n){return void 0!==n&&"error"===n.status?$.notify(n.message):($.notify("\u6dfb\u52a0\u6210\u529f","success"),o(u,s,e),$("#conversation-labels-"+i).hide(),l(u.closest(".conversation-labels").find(".add-label-content").find(".cancel")),$(".conversation-labels").not(a).each(function(){return c($(this),s,e,"")}),c(a,s,e,"checked"),updateLeftPanelLabelList(),t()),u.prop("disabled",!1)}}))}),$(document).on("click",".create-label .create button",function(){var t,e,n,i;return i=$(this),n=(e=$(this).closest(".edit-label")).find(".add-label-content").find("input").val().trim(),t=e.find(".create-label .color .checked").data("color"),0===n.length?$.notify("\u672a\u586b\u5199\u6807\u7b7e\u540d\u79f0"):void 0===t?$.notify("\u672a\u9009\u62e9\u6807\u7b7e\u989c\u8272"):$.ajax({url:e.data("update-url"),type:"post",dataType:"script",data:{label:{color:t,name:n}},beforeSend:function(){return i.prop("disabled",!0)},success:function(){return i.prop("disabled",!1),updateLeftPanelLabelList()}})}),$(document).on("click",".create-label .update button",function(){var t,e,n,i;return i=$(this),e=$(this).closest(".edit-label"),n=e.find(".add-label-content").find("input").val().trim(),t=e.find(".create-label .color .checked").data("color"),0===n.length?$.notify("\u672a\u586b\u5199\u6807\u7b7e\u540d\u79f0"):void 0===t?$.notify("\u672a\u9009\u62e9\u6807\u7b7e\u989c\u8272"):$.ajax({url:e.data("update-url"),type:"put",dataType:"json",data:{label:{color:t,name:n}},beforeSend:function(){return i.prop("disabled",!0)},success:function(o){var r;return void 0===o?((r=e.closest(".label-td").find(".content")).removeClass(function(t,e){return e.match(/(^|\s)bg-\S+/g).join(" ")}),r.addClass("bg-"+t),r.text(n),e.hide()):$.notify(o.message),i.prop("disabled",!1),updateLeftPanelLabelList()}})}),o=function(t,e,n){var i;if(t.addClass("checked"),t.closest(".display-labels").length>0)return i="<span class='single-label bg-"+n+"'>"+e+"</span>",t.closest(".display-labels").find(".content").append(i)},e=function(t,e,n){if(t.removeClass("checked"),t.closest(".display-labels").length>0)return t.closest(".js-display-labels-on-conversation").find(".content").find("span.bg-"+n+":contains('"+e+"')").remove()},r=function(t){return $("#conversations-add_label").length>0?t.closest(".conversation-labels").find(".checked").length>=4:t.closest(".js-display-labels-on-conversation").find(".content").find(".single-label").length>=4},$(document).on("click",".conversation-labels .label-cell",function(){var t,i,a,s,l;return i=(l=$(this)).find(".text"),s=i.text().trim(),t=i.data("color"),a=n(l),l.hasClass("checked")?$.ajax({url:"/zh-CN/labels/drop",type:"delete",dataType:"json",data:{conversation_id:a,label:{color:t,name:s}},beforeSend:function(){return e(l,s,t)},success:function(){return updateLeftPanelLabelList()},error:function(){return $.notify("\u5220\u9664\u5931\u8d25"),o(l,s,t)}}):r(l)?"ios"===client?setupWebViewJavascriptBridge(function(t){return t.callHandler("failInfo",{info:"\u6807\u7b7e\u8fc7\u591a\uff0c\u6700\u591a\u53ef\u6dfb\u52a0\u56db\u4e2a\u6807\u7b7e"},function(){})}):$.notify("\u6807\u7b7e\u8fc7\u591a\uff0c\u6700\u591a\u53ef\u6dfb\u52a0\u56db\u4e2a\u6807\u7b7e"):$.ajax({url:"/zh-CN/labels",type:"post",dataType:"json",data:{conversation_id:a,label:{color:t,name:s}},beforeSend:function(){return o(l,s,t)},success:function(){return updateLeftPanelLabelList()},error:function(){return $.notify("\u521b\u5efa\u5931\u8d25"),e(l,s,t)}})}),a=function(t,e,n){return $.ajax({url:"/zh-CN/labels/search",type:"get",dataType:"json",data:{conversation_id:e,name:n},success:function(e){var n;return e.length>0?(l(t.closest(".conversation-labels").find(".add-label-content").find(".cancel")),(n=t.closest(".conversation-labels")).find(".labels-display .labels").empty(),$.each(e,function(t,e){return c(n,e.name,e.color,e.status)})):i(t.closest(".conversation-labels").find(".add-label-content").find(".add"))}})},$(document).on("keyup keypress",".conversation-labels .add-label-content input",function(){var t,e;return e=$(this),t=n(e),a(e,t,e.val())}),$(document).on("click",".notify-bell",function(){var t;return t=$(this).data("conversation-id"),$("#notification-setting-modal-"+t).modal("show")}),$(document).on("touchstart","#labels-new .color-item, #labels-edit .color-item",function(){return $(".color-item").removeClass("check"),$(this).addClass("check")}),$(document).on("touchstart","#labels-new .new-label-submit",function(){return create_label()}),$(document).on("click",".trigger-edit-label",function(){var t,e;return e=$(this).data("id"),(t=$("#edit-label-"+e)).is(":visible")?t.hide():t.show()}),$(document).on("click",".create-label-btn",function(){var t;return(t=$(this).closest(".label-td").find(".edit-label")).is(":visible")?t.hide():t.show()}),$(document).on("click","#mobile-label-edit-sort-btn",function(){var t;return(t=$(this)).hasClass("edit")?(t.text("\u5b8c\u6210"),t.css("color","#50A4FF"),t.removeClass("edit").addClass("sort"),label_sort_mode()):(t.text("\u6392\u5e8f"),t.css("color","#404040"),t.addClass("edit").removeClass("sort"),label_edit_mode())}),$(document).on("click","#mobile-label-update",function(){return update_label()}),(s=function(){return $(".sort-control i").removeClass("unchecked"),$(".sort-control:first .up").addClass("unchecked"),$(".sort-control:last .down").addClass("unchecked")})(),u=function(t){var e;return e=t.closest(".label-td"),$.ajax({url:t.data("url"),method:"post",beforeSend:function(){return t.hasClass("up")?e.prev().before(e):e.next().after(e)},error:function(){return t.hasClass("up")?e.next().before(e):e.prev().after(e)}})},$(document).on("click touchstart",".sort-control i",function(){var t;if(!(t=$(this)).hasClass("unchecked"))return u(t),s()})})}.call(this),function(){$(function(){var t;return t=function(t){var e;return e=t.closest(".email-link-to").data("url"),$.ajax({type:"GET",url:e,dataType:"script"})},isMobileDevice()?$(document).on("click",".email-link-to",function(){var t;return t=$(this).data("url"),window.location.href=t}):($(document).on("click",".email-link-to .email-avatar",function(){return t($(this))}),$(document).on("click",".email-link-to .email-from",function(){return t($(this))}),$(document).on("click",".email-link-to .email-subject",function(){return t($(this))}),$(document).on("click",".email-link-to .email-content",function(){return t($(this))}))})}.call(this),function(){this.open_mobile_sidebar=function(){return"0px"!==$(".mobile-email-sidebar").css("left")?($(".mobile-email-sidebar").animate({left:0},300),$("html, body").css("overflow-y","hidden"),$("html, body").animate({scrollTop:0},1e3)):($(".mobile-email-sidebar").animate({left:"-100%"},300),$("html, body").css("overflow-y","auto"))},$(function(){var t,e,n,i,o,r;return i=$('input[name="is_mobile"]').val(),$(".email-show-item.many:not(.email-has-read) .edit-email-btn a").click(),$(".email-right-panel").on("click",".email-show-item.many .email-top",function(t){if($(".reply-email-widget").removeClass("hide"),$(t.target).closest(".operation-btns").length<=0)return $(this).closest(".email-show-item").hasClass("email-has-read")?(i&&$(".email-show-item.many:not(.email-has-read)").addClass("email-has-read"),$(this).closest(".email-show-item").removeClass("email-has-read"),$(".email-show-item.many:not(.email-has-read)").find(".edit-email-btn a").click()):$(this).closest(".email-show-item").addClass("email-has-read")}),$(document).on("click",".cc-btn",function(){return $(".open-cc").val("true"),$(".cc-container").removeClass("hide"),$(this).addClass("hide")}),$(document).on("click",".bcc-btn",function(){return $(".open-bcc").val("true"),$(".bcc-container").removeClass("hide"),$(this).addClass("hide")}),$(document).on("click",".separate-btn",function(){return $(".cc-btn").addClass("hide"),$(".bcc-btn").addClass("hide"),$(".cc-container").addClass("hide"),$(".open-cc").val(""),$("#email_cc").val(""),$(".bcc-container").addClass("hide"),$(".open-bcc").val(""),$("#email_bcc").val(""),$(this).addClass("hide"),$(".cancel-separate-btn").removeClass("hide"),$(".recipient-label").addClass("hide"),$(".separate-label").removeClass("hide"),$(".is-separate").val("true")}),$(document).on("click",".cancel-separate-btn",function(){return $(".cc-btn").removeClass("hide"),$(".bcc-btn").removeClass("hide"),$(this).addClass("hide"),$(".separate-btn").removeClass("hide"),$(".recipient-label").removeClass("hide"),$(".separate-label").addClass("hide"),$(".is-separate").val("")}),n=!1,o=setInterval(function(){var t,e;if(n)return n=!1,e=(t=new Date).toLocaleDateString()+" "+t.toLocaleTimeString(),$("#normal-email-form .auto-save").val("true"),$(".save-notification").text(e+"\u5df2\u81ea\u52a8\u4fdd\u5b58"),setTimeout(function(){return $("button[name='save']").click(),$("input[name='save']").click(),$("#normal-email-form .auto-save").val("false")},100)},2e4),$(document).on("click touchstart",".post-email-btn, .save-email-btn",function(){return n=!1,!0}),e=function(){return n=!0},i||($(document).on("input","#normal-email-form input",function(){return e()}),$(document).on("trix-change","#normal-email-form trix-editor",function(){return e()})),t=function(){return!!confirm("\u5185\u5bb9\u5df2\u88ab\u4fee\u6539\uff0c\u662f\u5426\u4fdd\u5b58\u6b64\u90ae\u4ef6\u4e3a\u8349\u7a3f")&&($("button[name='save']").click(),$("input[name='save']").click(),n=!1)},i||$(window).on("beforeunload unload",function(){if($("#normal-email-form").length>0&&!0===n)return clearInterval(o),"\u5185\u5bb9\u5df2\u88ab\u4fee\u6539\uff0c\u662f\u5426\u4fdd\u5b58\u6b64\u90ae\u4ef6\u4e3a\u8349\u7a3f"}),$(".email-container").on("click",".interrupt-email-edit-btn",function(){if($("#normal-email-form").length>0&&!0===n)return clearInterval(o),t()}),r=function(){if($(".email-recipient-to").addClass("hide"),$(".recipient").removeClass("hide"),$(".cc-btns").removeClass("hide"),$(".open_reply_recipient").val("true"),"-32px"!==$("form .email-attachments").css("margin-top")&&$("form .email-attachments").css("margin-top","-32px"),"-10px"!==$("form .email-body").css("margin-top"))return $("form .email-body").css("margin-top","-10px")},$(".email-right-panel").on("click",".edit-subject-btn",function(){return $(".open_reply_subject").val("true"),$(".subject-title").removeClass("hide"),r(),$(".subject-title input").focus()}),$(".email-right-panel").on("click",".email-recipient-to",function(){var t,e;return r(),(t=$(".recipient input")).focus(),t.setSelectionRange?(e=2*t.val().length,setTimeout(function(){t.setSelectionRange(e,e)},1)):t.val(t.val()),t.scrollTop=999999}),$(document).on("touchstart",".open-email-left-panel .open-btn",function(){return open_mobile_sidebar()}),$(document).on("touchstart",".mobile-cc-btns",function(){return $(".open-cc").val("true"),$(".open-bcc").val("true"),$(".cc-container").removeClass("hide"),$(".bcc-container").removeClass("hide"),$(this).addClass("hide")}),$(document).on("click touchstart",".mobile-add-attachment",function(){return $("#email-attachments-upload #email_attachment_file").click()}),$(document).on("touchstart",".cancel-quick-reply-btn",function(){return $("body").css("overflow","auto"),$("body").css("position","initial"),$(".mobile-choose-save").slideUp(500),$(".mobile-modal-background").addClass("hide"),$(".reply-email-widget").addClass("hide")}),$(document).on("touchstart",".mobile-email-btns .change-email-type .dropdown-menu .choose-email-type .left-part .lang",function(t){return t.stopPropagation(),$(".mobile-email-btns .change-email-type .dropdown-menu .choose-email-type .left-part .lang").removeClass("active"),$(this).addClass("active"),$(this).hasClass("cn")?($(".mobile-email-btns .change-email-type .dropdown-menu .choose-email-type .right-part .cn-email-links").removeClass("hide"),$(".mobile-email-btns .change-email-type .dropdown-menu .choose-email-type .right-part .en-email-links").addClass("hide")):($(".mobile-email-btns .change-email-type .dropdown-menu .choose-email-type .right-part .en-email-links").removeClass("hide"),$(".mobile-email-btns .change-email-type .dropdown-menu .choose-email-type .right-part .cn-email-links").addClass("hide"))}),$(".email-right-panel").on("touchstart click",".show-attachment-modal",function(){if(!$("#normal-email-form #email_id").val())return $(".attachment-save").val("true"),$('#normal-email-form input[name="save"]').click()}),$(".email-container").on("click",".email-box",function(){var t;return $(".email-box-name").removeClass("active"),(t=$(this).find(".email-box-name")).addClass("active"),$("#current-email-folder").data("name",t.data("name"))}),$(".email-right-panel").on("ajax:success",".del-email-btn",function(){var t,e;return t=(e=$(this).closest(".email-show-item")).data("email-id"),null!=$("#normal-email-form #email_id[value="+t+"]")&&$("#normal-email-form").remove(),e.remove(),$(this).remove()}),$(".email-container").on("click",".del-single-composed-email-btn",function(){return $(this).find("input[name=folder]").val($("#current-email-folder").data("name"))})})}.call(this),function(){this.VerifyEmailCallBack=function(){function t(){}return t.prototype.update_html=function(t,e){var n;return $('input[name="email-verify"]').val("true"),$("#verify-email-modal").modal("hide"),$("#bind-email-v2-modal").modal("hide"),t.find(".email_to").val(e.email),(n=$(".send-email-display").find(".checked")).data("email",e.email),n.html("<span>\u53d1\u9001\u81f3\uff1a</span>"+e.email),$(".send-email-display").removeClass("hidden")},t}()}.call(this),function(){$(function(){var t,e;return new(function(){function t(){this.initial_value(),this.initial_filename(),this.handle_clicks(),this.seleted_lists_sortable(),this.combine_file_create_callback()}return t.prototype.initial_value=function(){return this.dataLoad=0,this.select_lists=$(".select-panel"),this.selected_lists=$(".display-selected-files"),this.combine_files_modal=$(".combine-files-modal"),this.filename_input=$(".display-combine-file-name input"),this.position=[]},t.prototype.initial_filename=function(){var t;if(1===$("#cvs-show").length)return t=$("#js-cv-name").val(),this.filename_input.val(t)},t.prototype.handle_clicks=function(){return this.open_combine_files_modal(),this.hide_combine_files_modal(),this.toggle_select_lists(),this.selected_item(),this.remove_seleted_item(),this.use_item_name(),this.set_portfolio_option(),this.form_submit()},t.prototype.seleted_lists_sortable=function(){return this.selected_lists.sortable({handle:".item-cell"})},t.prototype.data_not_load=function(){return 0===this.dataLoad},t.prototype.set_data_load=function(){return this.dataLoad=1},t.prototype.open_combine_files_modal=function(){return $(document).on("click",".js-open-combine-files-modal",(t=this,function(){return t.combine_files_modal.on("show.bs.modal",function(){t.data_not_load()&&(t.fetch_select_lists_data(),t.set_data_load())}).modal("show")}));var t},t.prototype.hide_combine_files_modal=function(){return $(document).on("click",".close-combine-file-modal",(t=this,function(){return t.combine_files_modal.modal("hide")}));var t},t.prototype.init_selected=function(){var t,e;if(void 0!==(e=this.combine_files_modal.data("current-file-token")))return t=$("#select-"+e).data("content"),this.selected_lists.append(t),$("#select-"+e).removeClass("d-flex").addClass("hidden")},t.prototype.fetch_select_lists_data=function(){var t,e;return this.select_lists.addClass("text-center"),this.select_lists.html(I18n.t("notify.data_loading")),t=this.combine_files_modal.data("url"),$.get(t,{id:this.combine_files_modal.data("file-owner-id")}).done((e=this,function(){return e.init_selected()}))},t.prototype.toggle_select_lists=function(){var t;return $(document).on("click",".combine-files-modal",(t=this,function(e){if(e.preventDefault(),!t.select_lists.hasClass("hidden")&&"js-add-file-btn"!==$(e.target).attr("id"))return t.select_lists.addClass("hidden")})),$(document).on("click","#js-add-file-btn",function(t){return function(e){return e.preventDefault(),t.select_lists.toggleClass("hidden")}}(this))},t.prototype.selected_item=function(){return $(document).on("click",".select-item",(t=this,function(e){var n,i;return e.preventDefault(),i=(n=$(e.currentTarget)).data("content"),t.selected_lists.append(i),n.removeClass("d-flex").addClass("hidden"),t.select_lists.addClass("hidden"),t.reset_boostrap_tooltip()}));var t},t.prototype.reset_boostrap_tooltip=function(){return $(".item-perview-link, .list-handle").tooltip()},t.prototype.remove_seleted_item=function(){return $(document).on("click",".item-remove-link",function(t){var e,n,i;return t.preventDefault(),n=(e=$(t.currentTarget)).closest(".item"),i=e.data("cv-id"),n.remove(),$("#select-"+i).removeClass("hidden").addClass("d-flex")})},t.prototype.use_item_name=function(){return $(document).on("click",".item-name-use",(t=this,function(e){var n;return e.preventDefault(),n=$(e.currentTarget).data("name"),t.filename_input.val(""+n)}));var t},t.prototype.combine_file_type=function(){return $(".cv-type").length>=$(".cover-letter-type").length?"resume":"cover_letter"},t.prototype.set_portfolio_option=function(){return $(document).on("click",".combine-files-modal .check-radio-btn i",(t=this,function(e){var n,i,o,r,a;return e.preventDefault(),a=$(".portfolio-save-option .check-radio-btn"),$(".display-selected-files .item").length<=0?($.notify(I18n.t("notify.no_combine_file_selected"),"error"),!1):!a.hasClass("disable")&&(r=$(e.currentTarget),o="fa-circle-thin",n="fa-check-circle-o",i=$(".portfolio-save-option").data("check-url"),$.ajax({url:i,method:"POST",data:{file_type:t.combine_file_type()},success:function(t){return"ok"===t.store?r.hasClass(o)?(r.removeClass(o),r.addClass(n),r.css("color","#FF4F4C"),$("#portfolio").val(!0)):(r.addClass(o),r.removeClass(n),r.css("color","#9C9C9C"),$("#portfolio").val(!1)):(a.addClass("disable"),r.addClass(o),r.removeClass(n),$("#portfolio").val(!1),a.html("<i class='fa fa-circle'></i>&nbsp;<a target='_blank' href='/zh-CN/portfolio'> "+I18n.t("notify.portfolio_full")+"</a>"))}}))}));var t},t.prototype.form_submit=function(){return $(document).on("click",".combine-submit",(t=this,function(e){var n;return n=$(e.currentTarget),t.clear_position_data(),t.store_position_data(),t.position_has_value()?t.filename_empty()?(t.focus_filename_input(),"ios"===client?setupWebViewJavascriptBridge(function(t){return t.callHandler("combineFail",{error:I18n.t("notify.no_combine_file_name_chosen")},function(){})}):($.notify(I18n.t("notify.no_combine_file_name_chosen"),"error"),!1)):(t.update_form_position(),t.post_and_set_btn_disable(n)):"ios"===client?setupWebViewJavascriptBridge(function(t){return t.callHandler("combineFail",{error:I18n.t("notify.no_combine_file_selected")},function(){})}):($.notify(I18n.t("notify.no_combine_file_selected"),"error"),!1)}));var t},t.prototype.post_and_set_btn_disable=function(t){return t.data("old-text",t.text()),t.is("#js-combine-file-send-email")?this.send_email_check()?!!confirm(""+I18n.t("notify.confirm_email_1")+this.combine_files_modal.find(".email_to").val()+I18n.t("notify.confirm_email_2"))&&(t.text(I18n.t("notify.email.sending")),t.prop("disabled",!0),$("#combine-file-form").submit()):void 0:(t.text(I18n.t("notify.downloading")),t.prop("disabled",!0),$("#combine-file-form").submit())},t.prototype.clear_position_data=function(){return this.position=[]},t.prototype.store_position_data=function(){return this.selected_lists.find(".item").each((t=this,function(e,n){return t.position[e]={},t.position[e].position=e+1,t.position[e].type=$(n).data("type"),t.position[e].token=$(n).data("token")}));var t},t.prototype.send_email_check=function(){return!!JSON.parse($('input[name="email-verify"]').val())||(window.prev_opened_modal=this.combine_files_modal,this.combine_files_modal.modal("hide"),$("#verify-email-modal").modal("show"),$.notify(I18n.t("notify.verify_email_first"),"warn"),!1)},t.prototype.position_has_value=function(){return this.position.length>0},t.prototype.filename_empty=function(){return 0===$("#file_name").val().length},t.prototype.focus_filename_input=function(){return $("#file_name").css("border","1px solid #FF4F4C")},t.prototype.update_form_position=function(){return $("#position").val(JSON.stringify(this.position))},t.prototype.combine_file_create_callback=function(){return $(document).on("ajax:success","#combine-file-form",(t=this,function(e,n){return t.combine_files_modal.find(".btns").find("button").each(function(t,e){return $(e).prop("disabled",!1),$(e).text($(e).data("old-text"))}),"ok"===n.status?n.url.length>0?"ios"===client?setupWebViewJavascriptBridge(function(t){return t.callHandler("combineDownload",{name:$("#file_name").val(),url:n.url},function(){})}):($.notify(I18n.t("notify.downloading"),"success"),window.location.href=n.url):"ios"===client?setupWebViewJavascriptBridge(function(t){return t.callHandler("saveSuccess",{successInfo:I18n.t("notify.send_success")},function(){})}):$.notify(I18n.t("notify.send_success"),"success"):"ios"===client?setupWebViewJavascriptBridge(function(t){return t.callHandler("combineFail",{error:I18n.t("notify.combine_fail")},function(){})}):$.notify(I18n.t("notify.combine_fail"),"error")}));var t},t}()),$(document).on("click",".send-email-display li",function(n){var i;return n.preventDefault(),i=$(n.currentTarget),t(i),e(i),($(".combine-files-modal").data("bs.modal")||{}).isShown?$("#js-combine-file-send-email").click():($(".cv-download-modal").data("bs.modal")||{}).isShown?$("#js-downloader-send-email-temp").click():void 0}),t=function(t){return t.closest(".send-email-display").find("span").addClass("hidden"),t.closest(".send-email-display").find("li").addClass("checked"),t.addClass("checked"),t.find("span").removeClass("hidden")},e=function(t){return t.closest(".modal").find(".email_to").val(t.data("email"))}})}.call(this),function(){$(function(){return $(".js-tooltip-target").tooltip(),$(document).on("click",".group-body",function(t){if(!$(t.target).closest(".mentor-lists").length&&!$(t.target).closest(".single-task-create").length&&!$(t.target).closest("#task-create").length)return $(".mentor-lists").addClass("hidden")}),$(document).on("click",".single-task-create",function(t){var e;return t.preventDefault(),(e=$(t.currentTarget).next()).hasClass("hidden")?($(".single-task-create").each(function(t,e){return $(e).next().addClass("hidden")}),e.removeClass("hidden")):e.addClass("hidden")}),$(document).on("click",".single-submit-task",function(t){var e,n;return t.preventDefault(),n=$(this),e=n.text(),$.ajax({url:n.data("url"),method:"POST",beforeSend:function(){return!!confirm("\u5206\u914d\u7ed9\u5bfc\u5e08\uff1a"+e+"\uff1f")},dataType:"json",data:{mentor_id:n.data("mentor-id"),cv_id:n.data("cv-id"),group_id:n.data("group-id")},success:function(t){return"ok"===t.status?($("#cv_"+n.data("cv-id")).remove(),$.notify("\u5206\u914d\u6210\u529f\uff01","success")):$.notify("\u5206\u914d\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5","error")}})}),$(document).on("click","#toggle_all",function(){return $(this).prop("checked")?$("input[name='ids[]']").prop("checked",!0):$("input[name='ids[]']").prop("checked",!1)})})}.call(this),function(){$(function(){return this.lists=$(".mentor-lists"),$(document).on("click","#task-create",function(t){var e;return t.preventDefault(),(e=$(t.currentTarget).next()).hasClass("hidden")?e.removeClass("hidden"):e.addClass("hidden")}),$(document).on("click",".submit-task",(t=this,function(e){var n,i,o,r,a;return e.preventDefault(),o=[],r=(i=$(e.currentTarget)).data("mentor-id"),n=$('input[name="ids[]"]:checked'),a=i.data("mentor-name"),n.length<1?($.notify("\u6ca1\u6709\u9009\u62e9\u5206\u914d\u7684\u7b80\u5386","error"),t.lists.addClass("hidden"),!1):(n.each(function(t,e){return o.push(e.value)}),$.ajax({url:t.lists.data("url"),method:"POST",beforeSend:function(){return!!confirm("\u5206\u914d\u7ed9\u5bfc\u5e08\uff1a"+a+"\uff1f")},data:{ids:o,mentor_id:r,group_id:i.data("group-name")},success:function(e){return $(e.ids).each(function(t,e){return $("#cv_"+e).remove()}),t.lists.addClass("hidden"),$.notify("\u5206\u914d\u6210\u529f\uff01","success")}}))}));var t})}.call(this),function(){$(function(){return new(function(){function t(){this.initial(),this.answer_purpose(),this.answer_status(),this.next_question(),this.complete_match(),this.submit_callback()}return t.prototype.initial=function(){return this.page=$("#template_matches-new"),this.modal=$(".template-match-modal"),this.form=$("#new_template_match"),this.first_question=$(".question-one"),this.second_question=$(".question-two"),this.other_purpose_input=$("#other_purpose_name"),this.form_purpose=this.form.find('input[name="template_match[purpose]"]'),this.form_status=this.form.find('input[name="template_match[status]"]'),this.form_other_purpose=this.form.find('input[name="template_match[other_purpose_name]"]')},t.prototype.answer_purpose=function(){return this.purpose_option_seleted()},t.prototype.answer_status=function(){return this.status_option_seleted()},t.prototype.check_option=function(t){return 1===t.find(".option").find(".checked").length||($.notify("\u8fd8\u6ca1\u6709\u8fdb\u884c\u9009\u62e9\uff01","warn"),!1)},t.prototype.check_other_purpost=function(){return!("other"===this.form_purpose.val()&&this.other_purpose_input.val().trim().length<=0)||($.notify("\u8bf7\u586b\u5199\u5236\u4f5c\u7b80\u5386\u7684\u76ee\u7684","warn"),!1)},t.prototype.next_question=function(){return $("#template-match-next-question").on("click",(t=this,function(e){if(e.preventDefault(),t.check_option(t.first_question)&&t.check_other_purpost())return t.form_other_purpose.val(t.other_purpose_input.val().trim()),t.first_question.removeClass("d-flex").addClass("hidden"),t.second_question.removeClass("hidden").addClass("d-flex"),$(".username-content").addClass("hidden")}));var t},t.prototype.complete_match=function(){return $("#template-match-complete").on("click",(t=this,function(e){if(e.preventDefault(),t.check_option(t.second_question))return t.form.submit(),$(e.currentTarget).prop("disabled",!0)}));var t},t.prototype.submit_callback=function(){return $(document).on("ajax:success","#new_template_match",function(t,e){return"ok"===e.status?($.notify("\u63d0\u4ea4\u6210\u529f\uff0c\u6b63\u5728\u8df3\u8f6c..","success"),window.location.href=e.url):($.notify("\u63d0\u4ea4\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5..","error"),window.location.reload())})},t.prototype.idempotent_check=function(){return 1===this.page.length||1===this.modal.length},t.prototype.clean_options=function(t){return t.find(".dot").removeClass("checked")},t.prototype.update_form_purpose=function(t){var e;return e=t.data("value"),t.find(".dot").addClass("checked"),this.form_purpose.val(e)},t.prototype.update_form_status=function(t){var e;return e=t.data("value"),t.find(".dot").addClass("checked"),this.form_status.val(e)},t.prototype.purpose_option_seleted=function(){var t;if(this.idempotent_check())return this.first_question.find(".option").on("click",(t=this,function(e){var n;return e.preventDefault(),n=$(e.currentTarget),t.clean_options(t.first_question),t.update_form_purpose(n),"other"===n.data("value")?$("#other_purpose_name").removeClass("hidden"):$("#other_purpose_name").addClass("hidden")}))},t.prototype.status_option_seleted=function(){var t;if(this.idempotent_check())return this.second_question.find(".option").on("click",(t=this,function(e){var n;return e.preventDefault(),n=$(e.currentTarget),t.clean_options(t.second_question),t.update_form_status(n)}))},t}())})}.call(this),function(){$(function(){return $(document).on("click",".header-v3 .file-name",function(){var t;return(t=$(this)).parent().data("old-text",$(".header-v3 .editor-input").val()),t.addClass("hidden"),t.next().removeClass("hidden"),t.next().focus()}),$(document).on("blur",".header-v3 .editor-input",function(){var t,e,n,i,o,r;return n=(t=$(this)).parent(),e=t.val().trim(),i=e.length>0?e:n.data("old-text"),$.ajax({url:n.data("update-url"),method:"PATCH",data:(o={reload:!1},o[""+n.data("class")]=(r={},r[""+n.data("column")]=i,r),o),success:function(){return t.addClass("hidden"),t.prev().text(i),t.prev().removeClass("hidden")}})}),$(document).on("click","#js-open-create-new-file-list",function(t){var e;return t.preventDefault(),(e=$("#create-new-file-list")).hasClass("hidden")?e.removeClass("hidden"):e.addClass("hidden")}),$("body").on("click",function(t){if(!$(t.target).closest("#create-new-file-list").length&&!$(t.target).closest("#js-open-create-new-file-list").length)return $("#create-new-file-list").addClass("hidden")}),$(".temp-modal").on("click",function(t){if(t.preventDefault(),0===$(t.target).closest(".template").length)return $(".temp-modal").modal("hide")}),$(document).on("mouseover",".template",function(t){var e;if(1===(e=$(t.currentTarget)).closest(".temp-modal").length)return e.find(".template-content").removeClass("d-inline-flex").addClass("hidden"),e.find(".template-choose-lan").removeClass("hidden").addClass("d-flex")}),$(document).on("mouseleave",".template",function(t){var e;if(1===(e=$(t.currentTarget)).closest(".temp-modal").length)return e.find(".template-content").addClass("d-inline-flex").removeClass("hidden"),e.find(".template-choose-lan").addClass("hidden").removeClass("d-flex")}),$(document).on("click",".js-download-file",function(){return $.notify(I18n.t("notify.downloading"),"success")}),$(document).on("mouseenter",".cover-letter-info-edit",function(t){var e;return(e=$(t.currentTarget)).tooltip({title:I18n.t("edit"),placement:"top",trigger:"hover"}),e.tooltip("show")})})}.call(this),
/*!
 * Select2 4.0.3
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var n,i,o;return e&&e.requirejs||(e?i=e:e={},function(t){function e(t,e){return w.call(t,e)}function r(t,e){var n,i,o,r,a,s,l,c,u,d,h,f=e&&e.split("/"),p=y.map,m=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(a=(t=t.split("/")).length-1,y.nodeIdCompat&&x.test(t[a])&&(t[a]=t[a].replace(x,"")),t=f.slice(0,f.length-1).concat(t),u=0;u<t.length;u+=1)if("."===(h=t[u]))t.splice(u,1),u-=1;else if(".."===h){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||m)&&p){for(u=(n=t.split("/")).length;u>0;u-=1){if(i=n.slice(0,u).join("/"),f)for(d=f.length;d>0;d-=1)if((o=p[f.slice(0,d).join("/")])&&(o=o[i])){r=o,s=u;break}if(r)break;!l&&m&&m[i]&&(l=m[i],c=u)}!r&&l&&(r=l,s=c),r&&(n.splice(0,s,r),t=n.join("/"))}return t}function a(e,n){return function(){var i=C.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),f.apply(t,i.concat([e,n]))}}function s(t){return function(e){return r(e,t)}}function l(t){return function(e){g[t]=e}}function c(n){if(e(v,n)){var i=v[n];delete v[n],b[n]=!0,h.apply(t,i)}if(!e(g,n)&&!e(b,n))throw new Error("No "+n);return g[n]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function d(t){return function(){return y&&y.config&&y.config[t]||{}}}var h,f,p,m,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,C=[].slice,x=/\.js$/;p=function(t,e){var n,i=u(t),o=i[0];return t=i[1],o&&(n=c(o=r(o,e))),o?t=n&&n.normalize?n.normalize(t,s(e)):r(t,e):(o=(i=u(t=r(t,e)))[0],t=i[1],o&&(n=c(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},m={require:function(t){return a(t)},exports:function(t){var e=g[t];return void 0!==e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:d(t)}}},h=function(n,i,o,r){var s,u,d,h,f,y,w=[],C=typeof o;if(r=r||n,"undefined"===C||"function"===C){for(i=!i.length&&o.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if("require"===(u=(h=p(i[f],r)).f))w[f]=m.require(n);else if("exports"===u)w[f]=m.exports(n),y=!0;else if("module"===u)s=w[f]=m.module(n);else if(e(g,u)||e(v,u)||e(b,u))w[f]=c(u);else{if(!h.p)throw new Error(n+" missing "+u);h.p.load(h.n,a(r,!0),l(u),{}),w[f]=g[u]}d=o?o.apply(g[n],w):undefined,n&&(s&&s.exports!==t&&s.exports!==g[n]?g[n]=s.exports:d===t&&y||(g[n]=d))}else n&&(g[n]=o)},n=i=f=function(e,n,i,o,r){if("string"==typeof e)return m[e]?m[e](n):c(p(e,n).f);if(!e.splice){if((y=e).deps&&f(y.deps,y.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=o,o=r),o?h(t,e,n,i):setTimeout(function(){h(t,e,n,i)},4),f},f.config=function(t){return f(t)},n._defined=g,(o=function(t,n,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");n.splice||(i=n,n=[]),e(g,t)||e(v,t)||(v[t]=[t,n,i])}).amd={jQuery:!0}}(),e.requirejs=n,e.require=i,e.define=o),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e){"function"==typeof e[i]&&("constructor"!==i&&n.push(i))}return n}var n={Extend:function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Decorate:function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,o=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),o=n.prototype.constructor),o.apply(this,arguments)}function o(){this.constructor=i}var r=e(n),a=e(t);n.displayName=t.displayName,i.prototype=new o;for(var s=0;s<a.length;s++){var l=a[s];i.prototype[l]=t.prototype[l]}for(var c=function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var o=n.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),o.apply(this,arguments)}},u=0;u<r.length;u++){var d=r[u];i.prototype[d]=c(d)}return i}},i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;n<t;n++){e+=Math.floor(36*Math.random()).toString(36)}return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),o==n.length-1&&(i[r]=t[e]),i=i[r]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),o=n.style.overflowX,r=n.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);i.append(n(o(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],o=this.option(i);e.push(o)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var e=t(this),n=t.data(this,"data"),o=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(o,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var o in e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]),i){var r=i[o];n.setAttribute(o,r)}if(e.children){var a=t(n),s=document.createElement("strong");s.className="select2-results__group";t(s);this.template(e,s);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],d=this.option(u);l.push(d)}var h=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(l),a.append(s),a.append(h)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e){var n=this,i=e.id+"-results";this.$results.attr("id",i),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.hideMessages(),n.showLoading(t)}),e.on("select",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var o=i-1;0===t.length&&(o=0);var r=e.eq(o);r.trigger("mouseenter");var a=n.$results.offset().top,s=r.offset().top,l=n.$results.scrollTop()+(s-a);0===o?n.$results.scrollTop(0):s-a<0&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t)+1;if(!(i>=e.length)){var o=e.eq(i);o.trigger("mouseenter");var r=n.$results.offset().top+n.$results.outerHeight(!1),a=o.offset().top+o.outerHeight(!1),s=n.$results.scrollTop()+a-r;0===i?n.$results.scrollTop(0):a>r&&n.$results.scrollTop(s)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-e+t.deltaY,o=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&i<=n.$results.height();o?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),o=i.data("data");"true"!==i.attr("aria-selected")?n.trigger("select",{originalEvent:e,data:o}):n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:o}):n.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:e,element:t(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,o=this.$results.scrollTop()+(i-n),r=i-n;o-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=i(e,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=o(r):t(n).append(r)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t){var e=this,i=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e._handleBlur(t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",i),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target).closest(".select2");t(".select2.select2-container--open").each(function(){var e=t(this);this!=n[0]&&e.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},i.prototype.bind=function(t){var e=this;i.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("focus",function(){t.isOpen()||e.$selection.focus()}),t.on("selection:update",function(t){e.update(t.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t("<span></span>")},i.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},i}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(){var e=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(n){if(!e.options.get("disabled")){var i=t(this).parent().data("data");e.trigger("unselect",{originalEvent:n,data:i})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var o=t[i],r=this.selectionContainer(),a=this.display(o,r);r.append(a),r.prop("title",o.title||o.text),r.data("data",o),e.push(r)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),o=0;o<i.length;o++){var r={data:i[o]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var o=this;t.call(this,e,i),e.on("open",function(){o.$search.trigger("focus")}),e.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),e.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),e.on("disable",function(){o.$search.prop("disabled",!0)}),e.on("focus",function(){o.$search.trigger("focus")}),e.on("results:focus",function(t){o.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){o.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){o._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===o.$search.val()){var e=o.$searchContainer.prev(".select2-selection__choice");if(e.length>0){var i=e.data("data");o.searchRemoveChoice(i),t.preventDefault()}}});var r=document.documentMode,a=r&&r<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){a?o.$selection.off("input.search input.searchcheck"):o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(a&&"input"===t.type)o.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&o.handleSearch(t)}})},i.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").innerWidth():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,r)){n=n||{};var i=t.Event("select2:"+e,{params:n});o.$element.trigger(i),-1!==t.inArray(e,a)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q",
"\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"}}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),null!=n.id?i+="-"+n.id.toString():i+="-"+t.generateChars(4),i},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),o=i.item(t);e.push(o)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var o=[];(t=[t]).push.apply(t,i);for(var r=0;r<t.length;r++){var a=t[r].id;-1===n.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,n(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("change");this.current(function(i){for(var o=[],r=0;r<i.length;r++){var a=i[r].id;a!==t.id&&-1===n.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("change")})}},i.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],o=this;this.$element.children().each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var r=o.item(e),a=o.matches(t,r);null!==a&&i.push(a)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:(e=document.createElement("option")).textContent!==undefined?e.textContent=t.text:e.innerText=t.text,t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),o=this._normalizeItem(t);return o.element=e,n.data(e,"data",o),i},i.prototype.item=function(t){var e={};if(null!=(e=n.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),o=[],r=0;r<i.length;r++){var a=n(i[r]),s=this.item(a);o.push(s)}e.children=o}return(e=this._normalizeItem(e)).element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t});var e={selected:!1,disabled:!1};return null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){function i(t){return function(){return n(this).val()==t.id}}for(var o=this,r=this.$element.find("option"),a=r.map(function(){return o.item(n(this)).id}).get(),s=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(n.inArray(c.id,a)>=0){var u=r.filter(i(c)),d=this.item(u),h=n.extend(!0,{},c,d),f=this.option(h);u.replaceWith(f)}else{var p=this.option(c);if(c.children){var m=this.convertToOptions(c.children);e.appendMany(p,m)}s.push(p)}}return s},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var o=n.ajax(t);return o.then(e),o.fail(i),o}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=r.transport(r,function(i){var r=o.processResults(i,t);o.options.get("debug")&&window.console&&console.error&&(r&&r.results&&n.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(r)},function(){i.status&&"0"===i.status||o.trigger("results:message",{message:"errorLoading"})});o._request=i}var o=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var o=i.get("tags"),r=i.get("createTag");r!==undefined&&(this.createTag=r);var a=i.get("insertTag");if(a!==undefined&&(this.insertTag=a),e.call(this,n,i),t.isArray(o))for(var s=0;s<o.length;s++){var l=o[s],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,n){function i(t,r){for(var a=t.results,s=0;s<a.length;s++){var l=a[s],c=null!=l.children&&!i({results:l.children},!0);if(l.text===e.term||c)return!r&&(t.data=a,void n(t))}if(r)return!0;var u=o.createTag(e);if(null!=u){var d=o.option(u);d.attr("data-select2-tag",!0),o.addOptions([d]),o.insertTag(a,u)}t.results=a,n(t)}var o=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,i):t.call(this,e,n)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");i!==undefined&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){function o(e){var n=a._normalizeItem(e);if(!a.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var i=a.option(n);i.attr("data-select2-tag",!0),a._removeOldTags(),a.addOptions([i])}r(n)}function r(t){a.trigger("select",{data:t})}var a=this;n.term=n.term||"";var s=this.tokenizer(n,this.options,o);s.term!==n.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),n.term=s.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,o){for(var r=i.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};s<a.length;){var c=a[s];if(-1!==t.inArray(c,r)){var u=a.substr(0,s),d=l(t.extend({},n,{term:u}));null!=d?(o(d),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(o){var r=null!=o?o.length:0;i.maximumSelectionLength>0&&r>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},e.prototype.bind=function(e,n,i){var o=this;e.call(this,n,i),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),n.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus(),window.setTimeout(function(){o.$search.focus()},0)}),n.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val("")}),n.on("focus",function(){n.isOpen()&&o.$search.focus()}),n.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(o.showSearch(t)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var o=e[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var o=this;e.call(this,n,i),n.on("query",function(t){o.lastParams=t,o.loading=!0}),n.on("query:append",function(t){o.lastParams=t,o.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,o.$loadingMore[0]);!o.loading&&e&&(o.$results.offset().top+o.$results.outerHeight(!1)+50>=o.$loadingMore.offset().top+o.$loadingMore.outerHeight(!1)&&o.loadMore())})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,o=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var o=this,r="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(r,function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)}),t(window).on(r+" "+a+" "+s,function(){o._positionDropdown(),o._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var o="scroll.select2."+i.id,r="resize.select2."+i.id,a="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(o),t(window).off(o+" "+r+" "+a)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=r.top,a.bottom=r.top+a.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<r.top-s.height,u=l.bottom>r.bottom+s.height,d={left:r.left,top:a.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f=h.offset();d.top-=f.top,d.left-=f.left,n||i||(o="below"),u||!c||n?!c&&u&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(d.top=a.top-f.top-s.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var n=0,i=0;i<e.length;i++){var o=e[i];o.children?n+=t(o.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=Infinity),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return!(t(n.data.results)<this.minimumResultsForSearch)&&e.call(this,n)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var o=i.data("data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,v,y,b,w,C,x,_,k,T,S,E,A){function $(){this.reset()}return $.prototype.apply=function(d){if(null==(d=t.extend(!0,{},this.defaults,d)).dataAdapter){if(null!=d.ajax?d.dataAdapter=p:null!=d.data?d.dataAdapter=f:d.dataAdapter=h,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,m)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null!=d.query){var A=e(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,A)}if(null!=d.initSelection){var $=e(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,$)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,_)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,x)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,S))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var D=c.Decorate(w,C);d.dropdownAdapter=D}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,T)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,E)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var N=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,N)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,k)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=o:d.selectionAdapter=i,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var R=e(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,R)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var P=d.language.split("-")[0];d.language=[d.language,P]}else d.language=[d.language];if(t.isArray(d.language)){var I=new u;d.language.push("en");for(var L=d.language,O=0;O<L.length;O++){var M=L[O],B={};try{B=u.loadPath(M)}catch(z){try{M=this.defaults.amdLanguageBase+M,B=u.loadPath(M)}catch(j){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}I.extend(B)}d.translations=I}else{var H=u.loadPath(this.defaults.amdLanguageBase+"en"),F=new u(d.language);F.extend(H),d.translations=F}return d},$.prototype.reset=function(){function e(t){function e(t){return d[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function n(i,o){if(""===t.trim(i.term))return o;if(o.children&&o.children.length>0){for(var r=t.extend(!0,{},o),a=o.children.length-1;a>=0;a--){null==n(i,o.children[a])&&r.children.splice(a,1)}return r.children.length>0?r:n(i,r)}var s=e(o.text).toUpperCase(),l=e(i.term).toUpperCase();return s.indexOf(l)>-1?o:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:A,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},$.prototype.set=function(e,n){var i={};i[t.camelCase(e)]=n;var o=c._convertData(i);t.extend(this.defaults,o)},new $}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),this.options=n.apply(this.options),o&&o.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return o.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var o={};o=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var r=e.extend(!0,{},o);for(var a in r=i._convertData(r))e.inArray(a,n)>-1||(e.isPlainObject(this.options[a])?e.extend(this.options[a],r[a]):this.options[a]=r[a]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var o=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),o.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(t,this.options);var a=this.render();this._placeContainer(a);var s=this.options.get("selectionAdapter");this.selection=new s(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var a=r.split(";"),s=0,l=a.length;s<l;s+=1){var c=a[s].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._syncA),t.each(n,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,o){-1===t.inArray(i,n)&&e.trigger(i,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var o=0;o<e.addedNodes.length;o++){e.addedNodes[o].selected&&(n=!0)}else e.removedNodes&&e.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},o.prototype.trigger=function(t,e){var n=o.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(e===undefined&&(e={}),t in i){var r=i[t],a={prevented:!1,name:t,args:e};if(n.call(this,r,a),a.prevented)return void(e.prevented=!0)}n.call(this,t,e)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")
},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},o}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var o=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=n[e].apply(n,r)}),t.inArray(e,o)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),function(){$(function(){var t,e,n,i;return i=$(".net-application-setting"),t=$("#bind-wx-pub-modal"),$(document).on("click","[data-setting*=net_application]",function(o){var r,a;return r=$(o.currentTarget),a=i.data("update-url"),JSON.parse(i.data("subscribe"))||e()?(n(r),$.ajax({url:a,method:"PUT",data:{setting:r.data("setting")},success:function(t){return"error"===t.status?($.notify(t.message,"error"),n(r)):r.hasClass("on")?"ios"===client?setupWebViewJavascriptBridge(function(t){return t.callHandler("saveSuccess",{info:"\u7f51\u7533\u63d0\u9192\u5df2\u5f00\u542f"},function(){})}):$.notify("\u7f51\u7533\u63d0\u9192\u5df2\u5f00\u542f","success"):"ios"===client?setupWebViewJavascriptBridge(function(t){return t.callHandler("saveSuccess",{info:"\u7f51\u7533\u63d0\u9192\u5df2\u5173\u95ed"},function(){})}):$.notify("\u7f51\u7533\u63d0\u9192\u5df2\u5173\u95ed","success")},error:function(){return n(r)}})):t.modal("show")}),n=function(t){var e;return e=t.find("span.text"),t.hasClass("on")?(e.text(I18n.t("user_settings.close")),t.addClass("off").removeClass("on")):(e.text(I18n.t("user_settings.open")),t.addClass("on").removeClass("off"))},e=function(){return $.ajax({url:t.data("query-url"),method:"GET",dataType:"json",async:!1,success:function(t){if("ok"===t.status)return i.data("subscribe",!0),!0}}),JSON.parse(i.data("subscribe"))}})}.call(this),window.addEventListener("load",function(){var t,e,n=0,i=0;if(0==$(".list-li-first-btn").length&&0==$(".list-li-second-btn").length)var o=0;else if(0==$(".list-li-first-btn").length||0==$(".list-li-second-btn").length)o=80;else if(0!=$(".list-li-first-btn").length&&0!=$(".list-li-second-btn").length)o=160;window.addEventListener("touchstart",function(r){var a=r.target.closest(".list-li");a!=undefined&&(t=r.targetTouches[0].pageX,i=1*a.style.WebkitTransform.replace(/translateX\(/g,"").replace(/px\)/g,""),r.target.closest(".list-li-first-btn")==undefined&&r.target.closest(".list-li-second-btn")==undefined&&($(".list-li").css("transform","translateX(0px)"),$("body, html").css("overflow","auto"))),0==i?window.addEventListener("touchmove",function(i){var r=i.target.closest(".list-li");if(r!=undefined)if(e=i.targetTouches[0].pageX,(n=e-t)>=0)r.style.WebkitTransform="translateX(0px)";else if(n<0){var a=Math.abs(n);r.style.WebkitTransform="translateX("+-a+"px)",a>o&&(a=o,r.style.WebkitTransform="translateX("+-a+"px)")}}):i<0&&window.addEventListener("touchmove",function(i){var r=i.target.closest(".list-li");if(r!=undefined)if(e=i.targetTouches[0].pageX,(n=e-t)>=0){var a=-o+Math.abs(n);r.style.WebkitTransform="translateX("+a+"px)",a>0&&(a=0,r.style.WebkitTransform="translateX("+a+"px)")}else r.style.WebkitTransform="translateX("+-o+"px)"})}),window.addEventListener("touchend",function(t){var e=t.target.closest(".list-li");e!=undefined&&((i=1*e.style.WebkitTransform.replace(/translateX\(/g,"").replace(/px\)/g,""))>-o/2?(e.style.WebkitTransform="translateX(0px)",i=0):($("body, html").css("overflow","hidden"),e.style.WebkitTransform="translateX("+-o+"px)",i=-o))})}),function(){this.bind_modal_subscribe=function(){return JSON.parse($("#bind-wx-pub-modal").data("offical-account-status"))},$(function(){var t;return $(document).on("click",".add-notification, .notify .add, .notify .display, .js-notification-show",function(){var t;return t=$(""+$(this).data("target")),0===$("#bind-wx-pub-modal").length?t.modal("show"):bind_modal_subscribe()?t.modal("show"):$.ajax({url:$("#bind-wx-pub-modal").data("query-url"),method:"GET",dataType:"json",async:!1,success:function(e){return"ok"===e.status?($("#bind-wx-pub-modal").data("offical-account-status",!0),t.modal("show")):$("#bind-wx-pub-modal").modal("show")}})}),$(document).on("shown.bs.modal",".notification-setting-modal",function(){var t,e;return t=(e=$(this).find(".notification-datepicker")).data("date"),e.datepicker({startDate:t,language:"zh-CN",minViewMode:0,autoclose:!0,todayHighlight:!0,format:"yyyy-mm-dd"})}),$(document).on("changeDate",".notification-datepicker",function(){var t;return t=$(this).datepicker("getFormattedDate"),$(this).closest(".notification-setting-modal").find(".date-content .value").text(t)}),$(document).on("mouseover",".notification-setting-modal .time-content .value",function(){return $(this).closest(".notification-setting-modal").find(".time-picker").removeClass("hidden")}),$(document).on("mouseleave",".notification-setting-modal .time",function(){return $(this).closest(".notification-setting-modal").find(".time-picker").addClass("hidden")}),$(document).on("click",".time-picker li",function(){var t;return t=$(this).text(),$(".time-content .value").text(t),$(".time-picker").addClass("hidden")}),$(document).on("click",".day-picker li",function(){var t;return t=$(this).text(),$(".date-content .value").text(t),$(".day-picker").addClass("hidden")}),$(document).on("click",".notification-datetime-submit .create",function(){var e,n;return n=(e=$(this)).closest(".notification-setting-modal").data("post-url"),t(e,"post",n)}),$(document).on("click",".notification-datetime-submit .update",function(){var e,n;return n=(e=$(this)).data("put-url"),t(e,"put",n)}),t=function(t,e,n){var i,o,r;return o=t.closest(".notification-setting-modal"),parseInt(o.attr("id").match(/[0-9]+/)[0]),i=o.find(".date-content .value").text().trim(),r=o.find(".time-content .value").text().trim(),i.length<=0||r.length<=0?$.notify("\u6ca1\u6709\u9009\u62e9\u65f6\u95f4"):$.ajax({url:n,type:e,dataType:"script",data:{date:i,time:r}})},$(document).on("touchstart",".mobile-notification-day",function(){return $(this).next().removeClass("hidden")})})}.call(this),$(".email-js-container").length>0&&(send_email_validate=function(){var t=0===$("#email_to").length||$("#email_to").val().length>0;if(t){if($(".send-email-btn").click(),"ios"===client)return{info:I18n.t("notify.email.sending"),error:""};$("#email-send").prop("disabled",!0),$("#email-send").text(I18n.t("notify.email.sending"))}else if(t){if(!verify){if($("#verify-contact-email-modal").modal("show"),"ios"===client)return{info:"",error:""}}}else{if("ios"===client)return{info:"",error:I18n.t("notify.email.to_cannot_empty")};$.notify(I18n.t("notify.email.to_cannot_empty"),"error")}},send_preview_email_validate=function(){if(0===$("#email_reply_to").val().length){if("ios"===client)return{info:"",error:I18n.t("notify.email.from_cannot_empty")};$.notify(I18n.t("notify.email.from_cannot_empty"),"error")}else{if(JSON.parse($(".send-email").data("contact-email-confirmed"))){if($(".send-email-to-self-mailbox-btn").click(),"ios"===client)return{info:I18n.t("notify.email.send_success"),error:""}}else if($("#verify-contact-email-modal").modal("show"),"ios"===client)return{info:"",error:""}}}),function(){var t=navigator.userAgent.toLowerCase(),e=null;(t.indexOf("iphone")>=0||t.indexOf("ipad")>=0)&&document.body.addEventListener("touchend",function(t){var n=(new Date).getTime(),i=n-(e=e||n+1);if(i<500&&i>0)return t.preventDefault(),!1;e=n},!1)}(),$("body").tooltip({selector:"[data-toggle=tooltip]"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?$.notify.defaults({globalPosition:"top left"}):$.notify.defaults({globalPosition:"top center"}),$(document).on("click",".edit-panel .to-date",function(){const t=$(".edit-panel").data("lang");var e=$(this).find(".to-date-dot-inline"),n=$(this).siblings().find('input[name*="end_at"]'),i=$(this).siblings().find('input[name*="present"]');e.hasClass("active")?(e.removeClass("active"),i.val(""),n.attr("type","text"),i.attr("type","hidden")):(e.addClass("active"),n.val(""),n.attr("type","hidden"),i.attr("type","text"),"cn"===t?i.val("\u81f3\u4eca"):i.val("Present")),$(this).hide()}),$(document).on("click",".today",function(){$(".end-at").val("\u81f3\u4eca")}),$(document).on("click",'input[name*="end_at"], input[name*="present"]',function(){$(this).parent().next().show()}),$(document).on("keyup.autocomplete","input[name*=cust_city_name]",function(){$(this).autocomplete({source:"/cities.json"})}),$(document).on("keyup.autocomplete","input[name*=cust_uni_name]",function(){$(this).autocomplete({source:"/universities.json"})}),$(document).on("click","#example-hide",function(){$(".example-panel").hide()}),$(document).on("mouseover",".info-title-edit-btn",function(){$(this).prev().css("color","#FF4F4C")}),$(document).on("mouseleave",".info-title-edit-btn",function(){$(this).prev().css("color","#404040")}),$(document).on("change","select.mobile-file-index-select",function(){var t=$(this).find("option:selected");if("choose-cv"==$(this).val()){$("#select-cv-modal").modal("show");var e=$(this).data("lang");$("select#cv_id."+e+"-select").val($(this).data("cv-id"))}else if("continue-edit"==$(this).val())"ios"==client?setupWebViewJavascriptBridge(function(t){t.callHandler("saveSuccess",{successInfo:I18n.t("notify.member.free_max")},function(){})}):$.notify(I18n.t("notify.member.free_max"),"info"),$("#resume-robot-modal").modal("show");else if("show-resume-robot"==$(this).val())"ios"==client?setupWebViewJavascriptBridge(function(t){t.callHandler("saveSuccess",{successInfo:I18n.t("notify.member.more_edit")},function(){})}):$.notify(I18n.t("notify.member.more_edit"),"info"),$("#resume-robot-modal").modal("show");else if("share-cv"==$(this).val()){var n=t.data("share-url"),i=t.data("name");"ios"==client?setupWebViewJavascriptBridge(function(t){t.callHandler("shareCvMiniprogram",{url:n,name:i},function(){})}):"android"==client?connectWebViewJavascriptBridge(function(t){initAndroidBridge(t),t.callHandler("shareCvMiniprogram",{shareUrl:n,name:i},function(){})}):window.location.href=n}else if("show-cv-rename-modal"==$(this).val())$("#edit-file-name-modal-"+t.data("cv-id")).modal("show");else if("show-cl-rename-modal"==$(this).val())$("#cover-letter-info-modal-"+t.data("cl-id")).modal("show");else if("show-email-rename-modal"==$(this).val())$("#email-info-modal-"+t.data("email-id")).modal("show");else{n=$(this).val();if("post"==t.data("url-type"))$.ajax({url:n,type:"post",dataType:"script"});else if("delete"==t.data("url-type"))confirm(t.data("confirm-text"))&&$.ajax({url:n,type:"delete",dataType:"script"});else if(t.data("download"))if("ios"==client){i=t.data("name");var o=t.data("token"),r=t.data("download-type");setupWebViewJavascriptBridge(function(t){t.callHandler("loadPDF",{type:r+"s/",name:i,token:o},function(){})})}else window.location.href=n;else"ios"==client&&-1==versionCompare(navigator.userAgent.split("app_version=")[1],"2.2.0")?$("#app-missing-function").modal("show"):window.location.href=n}$("select.mobile-file-index-select").prop("selectedIndex",0)}),$(document).on("click",".up",function(){const t=0===$("#cvs-other").length,e=0===$("#cvs-show").length;if(t&&e){var n=$(this).data("url"),i=$(this).closest(".info-content");i.prevAll(".info-content:first").before(i),$(".tag-ahead-btn:first").hide(),$(".tag-ahead-btn:not(:first)").show(),$(".tag-back-btn:last").hide(),$(".tag-back-btn:not(:last)").show();$(this).closest(".info-content-item-tag").attr("id");$.post(n)}}),$(document).on("click",".down",function(){const t=0===$("#cvs-other").length,e=0===$("#cvs-show").length;if(t&&e){var n=$(this).data("url"),i=$(this).closest(".info-content");i.nextAll(".info-content:first").after(i),$(".tag-ahead-btn:first").hide(),$(".tag-ahead-btn:not(:first)").show(),$(".tag-back-btn:last").hide(),$(".tag-back-btn:not(:last)").show();$(this).closest(".info-content-item-tag").attr("id");$.post(n)}}),$(function(){var t=new Swiper("#template-swiper-container",{direction:"horizontal",loop:!1,pagination:".swiper-pagination"});$("#swiper-btn-left").click(function(){t.slidePrev()}),$("#swiper-btn-right").click(function(){t.slideNext()})}),$(function(){new Swiper("#home-swiper-container",{direction:"horizontal",loop:!0,autoplay:3e3,autoplayDisableOnInteraction:!1,pagination:".swiper-pagination"})}),$(function(){cvEditorReloadDataTime();var t=function(){$(".tag-ahead-btn").first().hide(),$(".tag-back-btn").last().hide()};$(document).on("click",".add_fields",function(){initTinymce(),cvEditorReloadDataTime()});var e=function(){var t=$("#mobile-nav-btn"),e=$("#mobile-nav");t.on("click",function(){e.removeClass("hide"),document.documentElement.style.overflow="hidden",$(".mobile-nav-mask").on("click",function(){e.addClass("hide"),document.documentElement.style.overflow="auto"})})},n=function(){navigator.userAgent;var t=!0;is_mobile&&($(document).on("touchmove","input.start_at, input.end_at",function(){t=!1,$(document).on("touchend","input.start_at, input.end_at",function(){t=!0})}),$(document).on("click",".clear-mobile-date-btn",function(){$(this).next("input").val("")}),$(document).on("touchend","input.start_at, input.end_at",function(){t&&(this.type="month",setTimeout(function(){this.focus()},1e3),$(this).change(function(){this.type="text",myDate=$(this).val().replace("-","/"),$(this).val(myDate)}))}),$("input.start_at, input.end_at").focusout(function(){this.type="text"}))},i=function(){var t=$("#mobile-blog-nav-btn"),e=$("#mobile-nav");t.on("click",function(){e.removeClass("hide"),document.documentElement.style.overflow="hidden",$(".mobile-nav-mask").on("click",function(){e.addClass("hide"),document.documentElement.style.overflow="auto"})})},o=function(){var t;is_mobile&&$(document).on("focus","input[type='text']",function(){var e=this,n=e.scrollWidth/e.value.length,i=$(e).width()/n;clearInterval(t),t=setInterval(function(){var t=e.selectionStart,o=e.selectionEnd;if(!($(e).width()+1>e.scrollWidth)){var r=t-e.scrollLeft/n,a=o-e.scrollLeft/n,s=.1*i;r>s&&a<i-s||r<s&&a>i-s||(r<s?$(e).scrollLeft(e.scrollLeft-2*n):$(e).scrollLeft(e.scrollLeft+2*n),e.setSelectionRange(t,o))}},100)}).blur(function(){clearInterval(t)})},r=function(){$(document).on("click touchstart",".mobile-section-down",function(){var t=$(this).closest(".info-item");t.next().after(t),s()})},a=function(){$(document).on("click touchstart",".mobile-section-up",function(){var t=$(this).closest(".info-item");t.prev().before(t),s()})},s=function(){var t=$("#cv-basic-info").data("position-update"),e={};$(".cv-basic-info .info-item").each(function(){e[this.id]=$(this).index()}),$.post(t,{cv:{sections_position:JSON.stringify(e)}})},l=function(){$(document).ready(function(){if($("#section-position-hash").text().replace(/^\s+/,"").length>0){var t=JSON.parse($("#section-position-hash").text());$.each(t,function(t,e){$("#"+t).attr("data-position",e)}),$("#cv-basic-info").each(function(){var t=$(this);t.append(t.find(".info-item").get().sort(function(t,e){return $(t).data("position")-$(e).data("position")}))})}})},c=function(){$(document).on("click touchstart","#cvs-mobile_choose_module .section-title-edit-btn",function(){$titleText=$(this).parent().parent().parent().find(".item-left .section-title"),$titleInput=$(this).parent().parent().parent().find(".item-left .section-title-input"),$titleText.addClass("hidden"),$titleInput.removeClass("hidden"),$titleInput.focus()})},u=function(){$(document).on("blur",".section-title-input",function(){if($(this).closest(".info-item").children(".item-left").length>0){$titleInput=$(this),$titleText=$(this).prev();const t=$(this).attr("name"),e=$(this).val(),n=$(this).data("url");if(0===$titleInput.closest(".custom-info").children(".item-left").length){const i={};i[t]=e,$titleInput.addClass("hidden"),$titleText.removeClass("hidden"),$titleText.text($titleInput.val()),$.ajax({type:"PUT",url:n,data:{cv:i},success:function(){$.notify(I18n.t("notify.save_success"),"success")},error:function(){$.notify(I18n.t("notify.save_fail"),"error")}})}else{const i={};i[t]=e,$titleInput.addClass("hidden"),$titleText.removeClass("hidden"),$titleText.text($titleInput.val()),$.ajax({type:"PUT",url:n,data:{custom_section:i},success:function(){$.notify(I18n.t("notify.save_success"),"success")},error:function(){$.notify(I18n.t("notify.save_fail"),"error")}})}}})};(function(){$(document).on("click touchstart","#cvs-mobile_choose_module .edit-section",function(){$editBtn=$("#cvs-mobile_choose_module .item-edit"),$enterBtn=$("#cvs-mobile_choose_module #item-enter"),"rgb(156, 156, 156)"==$(this).css("color")?($enterBtn.addClass("hidden"),$editBtn.removeClass("hidden"),$(this).text(I18n.t("save")),$(this).css("color","#ff4f4c")):($enterBtn.removeClass("hidden"),$editBtn.addClass("hidden"),$(this).text(I18n.t("edit")),$(this).css("color","#9c9c9c"))})})(),c(),u(),l(),a(),r(),o(),n(),i(),e(),t()}),$(document).on("change",".verb-select",function(){var t=$("select[name=type]").val(),e=$("select[name=display]").val();$.ajax({url:"/verbs",type:"GET",dataType:"script",data:{type:t,display:e}})}),$(document).on("click","#mobile-nav .mobile-nav-list li a",function(){$(this).closest("li").css("background-color","#F5F5F7"),$(this).closest("li").css("height","50px"),$(this).closest("li").css("line-height","50px")});var is_mobile=$('input[name="is_mobile"]').val();$(document).on("click",".info-content-item-tag",function(t){$(t.target).closest(".tag-ctrl-bar").length>0||("none"!==$(this).siblings(".info-content-item-form").css("display")?($(this).find(".tag-info").removeClass("theme-color"),$(this).siblings(".info-content-item-form").hide()):(is_mobile&&!$(".mce-toolbar-grp").hasClass("hide")&&$(".mce-toolbar-grp").addClass("hide"),$(".info-content-item-tag").siblings(".info-content-item-form").hide(),$(".info-content-item-tag").find(".tag-info").removeClass("theme-color"),$(this).siblings(".info-content-item-form").show(),$(this).find(".tag-info").addClass("theme-color")))}),is_mobile?($('[data-toggle="tooltip"]').on("show.bs.tooltip",function(){$(this).click()}),$(".wechat-share-invite").on("click",function(){$("img.mobile-share-invite-background").removeClass("hide"),$("body").css("overflow","hidden"),window.scrollTo(0,0)})):($(document).on("mouseover",".file-item",function(){$(this).find(".file-operation-btn").removeClass("hide")}),$(document).on("mouseleave",".file-item",function(){$(this).find(".file-operation-btn").addClass("hide")})),$(".recommand-file-item .file-example .example-img").on("mouseover",function(){$(this).find(".use-example-file").removeClass("hidden")}),$(".recommand-file-item .file-example .example-img").on("mouseleave",function(){$(this).find(".use-example-file").addClass("hidden")}),$(".use-template-button a, .use-example-file a").on("click",function(){$(this).addClass("disabled")}),$("li.file-item").on("click",function(t){0===$(t.target).closest(".file-operation-btn").length&&0===$(t.target).closest(".show-operation-btn").length&&$(this).data("url")!=undefined&&""!=$(this).data("url")&&(window.location.href=$(this).data("url"))}),$("#interview-save").on("click",function(){$(".contact-submit").click()}),$(document).on("click","#js-cv-name-tips-title",function(){const t=$(this).find(".title-btn i"),e=$("#js-cv-name-tips-content");e.hasClass("hidden")?(t.addClass("fa-caret-up"),t.removeClass("fa-caret-down"),e.removeClass("hidden")):(t.addClass("fa-caret-down"),t.removeClass("fa-caret-up"),e.addClass("hidden"))}),$(document).ready(function(){$(".tips-item:first").addClass("active"),"ios"==client&&(setupWebViewJavascriptBridge(function(t){const e=$('input[name="cv_editor_url"]').val();t.registerHandler("iosReturnCvEditor",function(t,n){$(".info-footer-save input").click(),n({url:e})})}),$(".ios-buy-member").on("click",function(){setupWebViewJavascriptBridge(function(t){t.callHandler("shareMember",{title:"\u5347\u7ea7\u8d85\u7ea7\u4f1a\u5458",desc:"\u8d85\u7ea7\u4f1a\u5458\u53ef\u4ee5\u521b\u5efa\u591a\u4efd\u7b80\u5386\u53ca\u6c42\u804c\u4fe1\u7b49\u6587\u4ef6\u3002\u53ef\u4ee5\u65e0\u9650\u7f16\u8f91\u3001\u4e0b\u8f7d\u548c\u590d\u5236\u6587\u4ef6\uff0c\u53ef\u4ee5\u770b\u5230\u5168\u90e8\u5b8c\u6574\u6848\u4f8b\uff0c\u5e76\u4e14\u53ef\u4ee5\u65e0\u9650\u5236\u4f7f\u7528\u7b80\u5386\u667a\u80fd\u4f18\u5316\u529f\u80fd\u3002"},function(){})})}),$(".ios-buy-tutor").on("click",function(){setupWebViewJavascriptBridge(function(t){t.callHandler("shareTutor",{title:"\u8d85\u7ea7\u7b80\u5386 | \u9876\u7ea7\u540d\u4f01\u5bfc\u5e08\u8f85\u5bfc",desc:"\u6765\u81ea\u6295\u884c\u3001\u54a8\u8be2\u3001BAT\u4ee5\u53ca\u5404\u5927\u4e94\u767e\u5f3a\u516c\u53f8\u7684\u9876\u7ea7\u5bfc\u5e08\u4e3a\u4f60\u63d0\u4f9b\u7b80\u5386\u8f85\u5bfc\u3002\u5bfc\u5e08\u9488\u5bf9\u95ee\u9898\u8fdb\u884c\u56de\u590d\uff0c\u5e76\u5bf9\u4e8e\u7b80\u5386\u6574\u4f53\u5185\u5bb9\u548c\u6c42\u804c\u65b9\u5411\u63d0\u4f9b\u70b9\u8bc4\u3002"},function(){})})}),$(".ios-my-order").on("click",function(){setupWebViewJavascriptBridge(function(t){t.callHandler("shareMyOrder",{title:"\u8d85\u7ea7\u7b80\u5386 | \u652f\u4ed8\u6211\u7684\u8ba2\u5355 ",desc:"HR \u63a8\u8350\u7684\u4e13\u4e1a\u7b80\u5386\uff0c\u624b\u673a\u7535\u8111\u540c\u6b65\u7f16\u8f91\uff0c\u4e2d\u82f1\u53cc\u8bed\u6a21\u677f\uff0c\u540d\u4f01\u7cbe\u82f1\u90fd\u5728\u7528"},function(){})})})),$(".android-nav-finish").on("click",function(){connectWebViewJavascriptBridge(function(t){initAndroidBridge(t),t.callHandler("pageFinish",{},function(){})})})}),$(document).on("click",".close-get-free-membership-modal",function(){$("#get-free-membership-modal").modal("hide")}),$(document).on("click",".can-not-dump-file",function(){$.notify(I18n.t("notify.member.more_edit"),"error")}),$(document).on("click",".cannot-import-cv",function(){var t=$(this).data("error");t==undefined&&(t=I18n.t("cv.upper_limit_reached")),$.notify(t,"error")}),$(".mobile-share-invite-background").on("click",function(){$(this).addClass("hide")}),$(".wechat-cannot-download-btn").click(function(){}),$(document).on("click",".download-app-btn",function(){$("#download-app-modal").modal("show"),$(".mobile-choose-operation-list").length>0&&($(".mobile-choose-operation-list").slideUp(500),$(".container").css("overflow","auto"),$(".container").css("position","static"),$(".mobile-modal-background").addClass("hide"))}),$(document).on("touchstart",".mobile-cancel-edit-btn",function(){$(".mobile-choose-save").slideDown(500),$("body").css("overflow","hidden"),$(".mobile-modal-background").removeClass("hide"),navigator.userAgent.indexOf("android_wondercv_app")>-1?$("html, body").animate({scrollTop:$(document).height()},1e3):$("body").css("position","fixed")}),$(document).on("touchstart",".cancel-choose-btn",function(){$(".mobile-choose-save").slideUp(500),$("body").css("overflow","auto"),-1==navigator.userAgent.indexOf("android_wondercv_app")&&$("body").css("position","initial"),$(".mobile-modal-background").addClass("hide")}),console.log("application js");